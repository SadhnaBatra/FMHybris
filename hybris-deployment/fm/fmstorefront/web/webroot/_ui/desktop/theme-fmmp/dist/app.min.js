function hideList(selectedValue,type,accountId,nabsAccountcode){var listId="autoSearchList"+type,data="<p>"+selectedValue+"</p>";if(""==nabsAccountcode&&(nabsAccountcode="dummy"),$("#"+listId).hide(),"searchSoldTo"==type){$("#changeSold").hide(),$("#changeSoldbtn").hide(),$("#oldSlodTo").hide(),$("#newSoldTo").show(),$("#existsoldto").hide(),$("#newSoldTo").html(data),$("#defaultAccSoldTo").show();var shipToSoldToFlag="soldTo";ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"change-shipto-soldto-session/"+accountId+"/"+shipToSoldToFlag+"/"+nabsAccountcode,$.ajax({url:ACC.useraddress.Url,async:!1,cache:!1,success:function(result){$("#SoldToAddressType").val("newSoldTo")}})}if("searchShipTo"==type){$("#changeShip").hide(),$("#changeShipbtn").hide(),$("#oldShipTo").hide(),$("#newShipTo").show(),$("#shipTo").hide(),$("#newShipTo").html(data),$("#shipTodefaultAcc").show();var shipToSoldToFlag="shipTo";ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"change-shipto-soldto-session/"+accountId+"/"+shipToSoldToFlag+"/"+nabsAccountcode,$.ajax({url:ACC.useraddress.Url,async:!1,cache:!1,success:function(result){}})}}function updateUserNewAddressToSession(userNewAddress,shipToSoldToFlag){ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"user-new-Address/"+userNewAddress+"/"+shipToSoldToFlag,ACC.useraddress.postAJAX(ACC.useraddress.Url)}function getAllAddress(inputString,type){if("searchSoldTo"==type){var shipToSoldToFlag="soldTo",userType=$("#loggedUserType").val(),accountId=$("#loggedAccountID").val();ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"userAutoAddressSearch/"+inputString+"/"+shipToSoldToFlag+"?loggedUserType="+userType+"&loggedAccountID="+accountId,ACC.useraddress.postAJAX(ACC.useraddress.Url,ACC.useraddress.$liveSoldToAutoSearchResults,type)}if("searchShipTo"==type){var shipToSoldToFlag="shipTo",userType=$("#loggedUserType").val(),accountId=$("#loggedAccountID").val(),SoldToAddressType=$("#SoldToAddressType").val();if(""!=SoldToAddressType){var soldToAcc=$("#"+SoldToAddressType).html(),accountcode1=soldToAcc.substring(soldToAcc.indexOf("/",soldToAcc.lastIndexOf("<br>"))-10);accountcode=accountcode1.split("/"),accountId=$.trim(accountcode[0])}ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"userAutoAddressSearch/"+inputString+"/"+shipToSoldToFlag+"?loggedUserType="+userType+"&loggedAccountID="+accountId,ACC.useraddress.postAJAX(ACC.useraddress.Url,ACC.useraddress.$liveAutoSearchResults,type)}}function openLoader(){$("#floatingBarsG4").show()}function closeLoader(){$("#floatingBarsG4").hide()}function changeDefault(accId){ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"change-shipto-soldto-session/"+accId+"/defaultShipTo/dummy",$.ajax({url:ACC.useraddress.Url,async:!1,cache:!1,type:"GET",success:function(xmlDoc){var respDoc=$(xmlDoc).find("shipToSessionAddresschanged").text().replace(/^\s+|\s+$/g,"");respDoc.indexOf("Success")!=-1&&($(".shipToForm .tab-pane").hide(),$("#shipTodefaultAcc").show(),$("#newShipTo").hide(),$("#oldShipTo").show())}})}function changeSoldToDefault(accId){ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"change-shipto-soldto-session/"+accId+"/defaultSoldTo/dummy",$.ajax({url:ACC.useraddress.Url,async:!1,cache:!1,type:"GET",success:function(xmlDoc){var respDoc=$(xmlDoc).find("shipToSessionAddresschanged").text().replace(/^\s+|\s+$/g,"");respDoc.indexOf("Success")!=-1&&($(".soldToForm .tab-pane").hide(),$("#defaultAccSoldTo").show(),$("#soldTodefaultAcc").show(),$("#newSoldTo").hide(),$("#oldSlodTo").show(),$("#SoldToAddressType").val("oldSlodTo"))}})}function GetXmlHttpObject(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return alert("Your browser broke!"),!1}}}return a}function removeTextBoxValue(otTextName){$("input:text[name="+otTextName+"]").val("")}function removeRadioSelection(radioName){$("input:radio[name='"+radioName+"']").prop("checked",!1)}function chnageBreadCrumb(breadCurumbArray){document.getElementById("surveyBreadCrumb").innerHTML='<span class="fa fa-angle-right "></span>&nbsp;Question '+breadCurumbArray}function moveBrandSurvey(obj,primary,secondary,otPrimary,otSecondary,breadCurumbArray){$(window).scrollTop(90);var btnValue=obj.value,questionNo=btnValue.substr(btnValue.lastIndexOf("_")+1,btnValue.length),currQuesNo=questionNo-1;if((breadCurumbArray="")&&$("input:submit").attr("disabled",!0),""!=otPrimary)var otPrimaryVal=$("input:text[name="+otPrimary+"]").val();if(""!=otSecondary)var otSecondaryVal=$("input:text[name="+otSecondary+"]").val();var primaryCheck=$("input:radio[name='"+primary+"']").is(":checked"),secondaryCheck=$("input:radio[name='"+secondary+"']").is(":checked"),primaryID=$("input[name='"+primary+"']:checked").attr("id"),secondaryID=$("input[name='"+secondary+"']:checked").attr("id");if(19==currQuesNo){var validationFlag=!1;for(i=555;i<=563;i++){var sliderInitValue="0"+i+":0",sliderNaNValue="0"+i+":NaN";if($("#0"+i).val()!=sliderInitValue&&$("#0"+i).val()!=sliderNaNValue){validationFlag=!0;break}}return validationFlag?($("#BrandSurveyQ19andQ20Error").hide(),moveToNextORBack(questionNo),chnageBreadCrumb(questionNo),!0):($("#BrandSurveyQ19andQ20Error").show(),!1)}if(20==currQuesNo){var validationFlag=!1;for(i=564;i<=572;i++){var sliderInitValue="0"+i+":0",sliderNaNValue="0"+i+":NaN";if($("#0"+i).val()!=sliderInitValue&&$("#0"+i).val()!=sliderNaNValue){validationFlag=!0;break}}return validationFlag?($("#BrandSurveyQ19andQ20Error").hide(),!0):($("#BrandSurveyQ19andQ20Error").show(),!1)}if(primaryID==secondaryID&&"undefined"!==jQuery.type(primaryID)&&"undefined"!==jQuery.type(secondaryID))return $("#BrandSurveyError1").hide(),$("#BrandSurveyError2").show(),!1;if(""!=otPrimaryVal&&""!=otSecondaryVal||primaryID==secondaryID&&"undefined"===!jQuery.type(primaryID)&&"undefined"===!jQuery.type(secondaryID))$("#BrandSurveyError1").hide(),$("#BrandSurveyError2").hide(),moveToNextORBack(questionNo),chnageBreadCrumb(questionNo);else{if(!primaryCheck&&""==otPrimaryVal||!secondaryCheck&&""==otSecondaryVal||primaryID==secondaryID)return $("#BrandSurveyError1").show(),$("#BrandSurveyError2").hide(),!1;$("#BrandSurveyError1").hide(),$("#BrandSurveyError2").hide(),moveToNextORBack(questionNo),chnageBreadCrumb(questionNo)}}function moveBack(obj,breadCurumbArray){var btnValue=obj.value,questionNo=btnValue.substr(btnValue.lastIndexOf("_")+1,btnValue.length);$("#BrandSurveyError2").hide(),$("#BrandSurveyError1").hide(),$("#PartsBuySurveyError1").hide(),$("#PartsBuySurveyQ2Error").hide(),$("#PartsBuySurveyQ3to14Error").hide(),$("#PartsBuySurveyQ2Error2").hide(),$("#BrandSurveyQ19andQ20Error").hide(),$("#PartsSurveyOtherTxtError").hide(),chnageBreadCrumb(questionNo),moveToNextORBack(questionNo)}function moveBackInterestSurvey(obj,breadCurumbArray){var btnValue=obj.value,questionNo=btnValue.substr(btnValue.lastIndexOf("_")+1,btnValue.length);document.getElementById("errormsgSurvey").innerHTML=" ",chnageBreadCrumb(questionNo),moveToNextORBack(questionNo)}function moveIntandHobbiesSurvey(obj,radioGroupName,breadCurumbArray){$(window).scrollTop(90);var btnValue=obj.value,questionNo=btnValue.substr(btnValue.lastIndexOf("_")+1,btnValue.length),currQuesNo=questionNo-1;if(""!=radioGroupName&&null!=radioGroupName){if(currQuesNo<6||14==currQuesNo)return $("input:radio[name='"+radioGroupName+"']").is(":checked")?(moveToNextORBack(questionNo),document.getElementById("errormsgSurvey").innerHTML=" ",chnageBreadCrumb(questionNo),!0):(1==currQuesNo&&(document.getElementById("errormsgSurvey").innerHTML="Please select an age range."),2==currQuesNo&&(document.getElementById("errormsgSurvey").innerHTML="Please select a month."),3==currQuesNo&&(document.getElementById("errormsgSurvey").innerHTML="Please select a gender."),4==currQuesNo&&(document.getElementById("errormsgSurvey").innerHTML="Please select ethnicity."),5==currQuesNo&&(document.getElementById("errormsgSurvey").innerHTML="Please select a range."),14==currQuesNo&&(document.getElementById("errormsgSurvey").innerHTML="Please select at least one."),!1);if(9==currQuesNo||10==currQuesNo||11==currQuesNo||12==currQuesNo||13==currQuesNo||15==currQuesNo||16==currQuesNo||18==currQuesNo||19==currQuesNo){$("input[name='"+radioGroupName+"']:checked").length;if($("input[name='"+radioGroupName+"']:checked").length>0){document.getElementById("errormsgSurvey").innerHTML=" ";var valCheck1,count=0;return 16!=currQuesNo&&18!=currQuesNo&&19!=currQuesNo||(16==currQuesNo?valCheck1="1152":18==currQuesNo?valCheck1="1172":19==currQuesNo&&(valCheck1="1177"),$("input[name='"+radioGroupName+"']:checked").each(function(){this.value==valCheck1&&count++}),count>0&&$("input[name='"+radioGroupName+"']:checked").each(function(){this.value!=valCheck1&&$(this).prop("checked",!1)})),moveToNextORBack(questionNo),chnageBreadCrumb(questionNo),!0}return 9==currQuesNo&&(document.getElementById("errormsgSurvey").innerHTML="Please select at least one channel."),10!=currQuesNo&&11!=currQuesNo&&12!=currQuesNo&&13!=currQuesNo&&15!=currQuesNo&&16!=currQuesNo&&18!=currQuesNo&&19!=currQuesNo||(document.getElementById("errormsgSurvey").innerHTML="Please select at least one."),!1}if(7==currQuesNo){var idVal=$("input:hidden[name=seventhQMotorSportsTimeNascar]").val(),idVal1=$("input:hidden[name=seventhQMotorSportsTimeFormula1]").val(),idVal2=$("input:hidden[name=seventhQMotorSportsTimeDragRacing]").val(),idVal3=$("input:hidden[name=seventhQMotorSportsTimeMotocross]").val(),idVal4=$("input:hidden[name=seventhQMotorSportsTimeSupercross]").val(),idVal5=$('input:hidden[name="seventhQMotorSportsTimeDrifting"]').val(),idVal6=$('input:hidden[name="seventhQMotorSportsTimeRally"]').val();return idVal.indexOf(":0")>0&&idVal1.indexOf(":0")>0&&idVal2.indexOf(":0")>0&&idVal3.indexOf(":0")>0&&idVal4.indexOf(":0")>0&&idVal5.indexOf(":0")>0&&idVal6.indexOf(":0")>0?(document.getElementById("errormsgSurvey").innerHTML="Please move the slider to indicate your level of interest for each sport.",!1):(moveToNextORBack(questionNo),document.getElementById("errormsgSurvey").innerHTML=" ",chnageBreadCrumb(questionNo),!0)}if(8==currQuesNo){var idVal=$("input:hidden[name=eightQProfessionalSportsTimeFootball]").val(),idVal1=$("input:hidden[name=eightQProfessionalSportsTimeBasketball]").val(),idVal2=$("input:hidden[name=eightQProfessionalSportsTimeBaseball]").val(),idVal3=$("input:hidden[name=eightQProfessionalSportsTimeHockey]").val(),idVal4=$("input:hidden[name=eightQProfessionalSportsTimeMMA]").val(),idVal5=$('input:hidden[name="eightQProfessionalSportsTimeSoccer"]').val(),idVal6=$('input:hidden[name="eightQProfessionalSportsTimeTennis"]').val(),idVal7=$('input:hidden[name="eightQProfessionalSportsTimeWWE"]').val(),idVal8=$('input:hidden[name="eightQProfessionalSportsTimeFantasySports"]').val(),idVal9=$('input:hidden[name="eightQProfessionalSportsTimeExtremeSports"]').val();return idVal.indexOf(":0")>0&&idVal1.indexOf(":0")>0&&idVal2.indexOf(":0")>0&&idVal3.indexOf(":0")>0&&idVal4.indexOf(":0")>0&&idVal5.indexOf(":0")>0&&idVal6.indexOf(":0")>0&&idVal7.indexOf(":0")>0&&idVal8.indexOf(":0")>0&&idVal9.indexOf(":0")>0?(document.getElementById("errormsgSurvey").innerHTML="Please move the slider to indicate your level of interest for each sport.",!1):(moveToNextORBack(questionNo),document.getElementById("errormsgSurvey").innerHTML=" ",chnageBreadCrumb(questionNo),!0)}if(17==currQuesNo){var idVal=$("input:hidden[name=seventeethQProfTechCharRankContinuingeducation]").val(),idVal1=$("input:hidden[name=seventeethQProfTechCharRankPassionforcarsandtrucks]").val(),idVal2=$("input:hidden[name=seventeethQProfTechCharRankConnectingwithtechniciansonline]").val(),idVal3=$("input:hidden[name=seventeethQProfTechCharRankNetworkingwithtechnicians]").val(),idVal4=$("input:hidden[name=seventeethQProfTechCharRankBusinesssavvysensetorunashop]").val(),idVal5=$('input:hidden[name="seventeethQProfTechCharRankStayingknowledgeableinnewtechnologies"]').val(),idVal6=$('input:hidden[name="seventeethQProfTechCharRankNaturalmechanicalability"]').val(),idVal7=$('input:hidden[name="seventeethQProfTechCharRankStrongworkethic"]').val();return idVal.indexOf(":0")>0&&idVal1.indexOf(":0")>0&&idVal2.indexOf(":0")>0&&idVal3.indexOf(":0")>0&&idVal4.indexOf(":0")>0&&idVal5.indexOf(":0")>0&&idVal6.indexOf(":0")>0&&idVal7.indexOf(":0")>0?(document.getElementById("errormsgSurvey").innerHTML="Please move the slider to rank each characteristic.",!1):(moveToNextORBack(questionNo),document.getElementById("errormsgSurvey").innerHTML=" ",chnageBreadCrumb(questionNo),!0)}if(6==currQuesNo){$("input[name='"+radioGroupName+"']:checked").length;if($("input[name='"+radioGroupName+"']:checked").length>0)return moveToNextORBack(questionNo),document.getElementById("errormsgSurvey").innerHTML=" ",chnageBreadCrumb(questionNo),!0;if(""!=$("input:text[name=test]").val()){var idVal=$("input:text[name=test]").attr("id");return alert("idval"+idVal),$("[id=Q6RA]").val(idVal),document.getElementById("errormsgSurvey").innerHTML=" ",moveToNextORBack(questionNo),chnageBreadCrumb(questionNo),!0}return document.getElementById("errormsgSurvey").innerHTML="Please select at least one activity.",!1}}}function movePartsBuySurvey(obj,breadCurumbArray){$(window).scrollTop(90);var btnValue=obj.value,questionNo=btnValue.substr(btnValue.lastIndexOf("_")+1,btnValue.length),currQuesNo=questionNo-1,totalcheck=!1,NanCheck=!1,rankCount=0,total=!0;if((breadCurumbArray="")&&$("input:submit").attr("disabled",!0),1==currQuesNo){var boxValueCount=0;if($('[name^="total"]').each(function(){if(isNaN(this.value)||0==this.value.length)NanCheck=!0;else if(100==this.value){this.id;boxValueCount++,totalcheck=!0}else totalcheck=!1,total=!1}),totalcheck&&total&&10==boxValueCount)return chnageBreadCrumb(questionNo),moveToNextORBack(questionNo),!0;if(NanCheck||!totalcheck||10==!boxValueCount)return $("#PartsBuySurveyError1").show(),!1;if(NanCheck||!totalcheck||!total||10==!boxValueCount)return $("#PartsBuySurveyError1").show(),!1}else{if(2==currQuesNo){for(i=1;i<=7;i++)""!=$("#rank"+i).val()&&null!=$("#rank"+i).val()&&rankCount++;return 3==rankCount?($("#PartsBuySurveyQ2Error").hide(),chnageBreadCrumb(questionNo),moveToNextORBack(questionNo),!0):($("#PartsBuySurveyQ2Error").show(),!1)}if(currQuesNo>=3&&currQuesNo<=14){var priRadioName="Q"+currQuesNo+"Primary",secRadioName="Q"+currQuesNo+"Secondary";if($('[name="'+priRadioName+'"]').is(":checked")&&$('[name="'+secRadioName+'"]').is(":checked")){var priID=$("input[name="+priRadioName+"]:checked").attr("id"),secID=$("input[name="+secRadioName+"]:checked").attr("id");return priID!==secID?priID.indexOf("Other")>-1&&(""==$("#"+priID+"txt").val()||null==$("#"+priID+"txt").val())?($("#PartsSurveyOtherTxtError").show(),!1):secID.indexOf("Other")>-1&&(""==$("#"+secID+"txt").val()||null==$("#"+secID+"txt").val())?($("#PartsSurveyOtherTxtError").show(),!1):($("#PartsBuySurveyQ3to14Error").hide(),$("#PartsSurveyOtherTxtError").hide(),chnageBreadCrumb(questionNo),moveToNextORBack(questionNo),!0):($("#PartsBuySurveyQ3to14Error").show(),!1)}return $("#PartsBuySurveyQ3to14Error").show(),!1}if(15==currQuesNo){for(rankCount=0,i=1;i<=6;i++)""!=$("#Q15rank"+i).val()&&null!=$("#Q15rank"+i).val()&&rankCount++;return 3==rankCount?($("#PartsBuySurveyQ2Error").hide(),!0):($("#PartsBuySurveyQ2Error").show(),!1)}}}function moveToNextORBack(questionNo){if($("#PartsBuySurveyError1").hide(),0==questionNo)$("#BrandQuestionsBlock").hide(),$("#BrandSurveyBegin").show();else for(i=1;i<=20;i++)$("#Question"+i).hide();$("#Question"+questionNo).show()}function calculateTotal(groupName,totalDispName,pathName,id){var tot=0,pathValString=id;$('[name^="'+groupName+'"]').each(function(){isNaN(this.value)||(0!=this.value.length&&(tot+=parseFloat(this.value),pathValString+=":"+parseFloat(this.value)),0==this.value.length&&(tot+=parseFloat(0),pathValString+=": "))}),$("[id="+totalDispName+"]").val(tot),$("[id="+pathName+"]").val(pathValString)}function submitSurveyForm(form_Name){var formElement,formElements=window.document.getElementById(form_Name).elements,brandSurvey="";ACC.loyaltysurvey.Url=ACC.loyaltysurvey.pathName+ACC.loyaltysurvey.ajaxUrl+"updateBrandSurvey";for(var i=0;i<formElements.length;i++){if(formElement=formElements.item(i),"radio"===formElement.type&&formElements[i].checked){var radioOptionVal=formElements[i].value;brandSurvey=brandSurvey+radioOptionVal+":"}if("text"===formElement.type&&null!=formElements[i].value&&""!=formElements[i].value){var OtherText_id=formElements[i].id;brandSurvey=brandSurvey+OtherText_id+":"}}document.getElementById("BRAND_SURVEY_FORM").value=brandSurvey,window.location.href=ACC.loyaltysurvey.Url+"?brandSurvey="+brandSurvey}function blockSpecialChar(e){var k=e.keyCode;return k>64&&k<91||k>96&&k<123||8==k||k>=48&&k<=57}function submitPromocode(){var promCode=$("#promCode").val();if(null!=promCode||""!=promCode){$("#promoCodeBtn").prop("disabled",!0);var currentPath=window.location.href,pathName="";try{pathName=currentPath.indexOf("/USD")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/USD")+5):currentPath.indexOf("?site")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/?site")+1)+currentPath.substring(currentPath.lastIndexOf("site=")+5,currentPath.length)+"/en/":window.location.href+"loyalty/en/USD"}catch(e){alert(e)}$.ajax({type:"POST",url:pathName+"loyalty/promocode",data:"selectedPromo="+promCode,success:function(response){$("#promoCodeBlock").replaceWith(response)},error:function(e){}})}}function GetXmlHttpObject(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return alert("Your browser broke!"),!1}}}return a}function removeDuplicates(obj){var usedNames={},id=obj.id;$("select[id='"+id+"'] > option").each(function(){usedNames[this.text]?$(this).remove():usedNames[this.text]=this.value})}function selectCarrier(obj,id){obj.value+"_"+id;document.getElementById("carrierAccCode").style.display="none","FM"==obj.value?(document.getElementById("FM_"+id).style.display="block",document.getElementById("UPS_"+id).style.display="none",document.getElementById("Fedex_"+id).style.display="none"):"UPS"==obj.value?(document.getElementById("FM_"+id).style.display="none",document.getElementById("UPS_"+id).style.display="block",document.getElementById("Fedex_"+id).style.display="none"):(document.getElementById("FM_"+id).style.display="none",document.getElementById("UPS_"+id).style.display="none",document.getElementById("Fedex_"+id).style.display="block")}function openModal(){document.getElementById("modal").style.display="block",document.getElementById("fade").style.display="block"}function closeModal(){document.getElementById("modal").style.display="none",document.getElementById("fade").style.display="none"}function submitPaymentForm(){$("#hostOrderPostForm").submit()}function submitB2BPaymentForm(){var error_free=!0,element=$("input[name=p_poNumber]"),valid=element.hasClass("valid"),error_element=$("span",element.parent());valid?error_element.removeClass("poerror_show").addClass("poerror"):(error_element.removeClass("poerror").addClass("poerror_show"),error_free=!1),valid?element.removeClass("invalid").addClass("valid"):element.removeClass("valid").addClass("invalid");var isCarrierSelected=!1,isShipMethodSelected=!1;$("select[name=carrier]").each(function(a){if("Carrier"!=$(this).val())isCarrierSelected=!0;else{var id=$(this).attr("id").split("_")[1],custPickupChecked=$("#CustPkupChkbx_"+id).is(":checked");custPickupChecked?isCarrierSelected=!0:(isCarrierSelected=!1,$("#chooseCarrier_error_"+id).css("display","block"),$(this).css("border","2px solid red"))}}),$("select[name=shippingmethod]").each(function(b){if("SM"!=$(this).val())isShipMethodSelected=!0;else{var id=$(this).attr("id").split("_")[1],custPickupChecked=$("#CustPkupChkbx_"+id).is(":checked");custPickupChecked?isShipMethodSelected=!0:(isShipMethodSelected=!1,$("#shippingmethod_error_"+id).css("display","block"),$(this).css("border","2px solid red"))}}),error_free?isCarrierSelected&&isShipMethodSelected?$("#paymentDetailsForm").submit():event.preventDefault():(element.focus(),event.preventDefault())}function popupresult(){var zipCode=$("#q").val(),ajaxURL=ACC.ymmsearch.pathName+"USD/store-finder/inputZipCodeSearchPost/"+zipCode;$.ajax({type:"POST",url:ajaxURL,success:function(xmlDoc){var respDoc=$(xmlDoc).find("storeLocator").html();$("#xyz").html(respDoc),$("#xyz").find("script").each(function(i){var s=eval($(this).text())})},error:function(e){alert("Error = "+e)}})}function validateVIN(){var vinValue=$("#vin").val();return null!=vinValue&&""!=vinValue&&vinValue.length>=17?($("#vin").removeClass("inputError"),$("#vinInput").hide(),!0):($("#vin").addClass("inputError"),$("#vinInput").show(),$("#vinNoData").val(""),$("#vinNoData").hide(),!1)}function validateLicensePlate(){var licensePlateValue=$("#descFile").val();if(null!=licensePlateValue&&""!=licensePlateValue){licensePlateValue=licensePlateValue.trim();var licensePlateLength=licensePlateValue.split(" ").length;return licensePlateLength>2?($("#descFile").addClass("inputError"),$("#licensePlateInput").show(),$("#noDataLicensePlate").val(""),$("#noDataLicensePlate").hide(),!1):($("#descFile").removeClass("inputError"),$("#licensePlateInput").hide(),!0)}}function GetXmlHttpObject(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return alert("Your browser broke!"),!1}}}return a}function setSubCategory(m){for(var k=document.getElementById("dummysubcategory"),h=0;h<k.options.length;h++)if(1==k.options.length){if($.trim(k.options[h].text)==$.trim(m))return'<option value="'+k.options[h].value+'" selected>'+k.options[h].text+"</option>"}else if($.trim(k.options[h].text)==$.trim(m))return'<option value="'+k.options[h].value+'">'+k.options[h].text+"</option>"}function ViewAllCategories(){var pathName="",win_url=window.location.href;try{pathName=win_url.indexOf("/USD")!=-1?win_url.substring(0,win_url.lastIndexOf("/USD")+4):win_url.indexOf("?site")!=-1?win_url.substring(0,win_url.lastIndexOf("/?site")+1)+win_url.substring(win_url.lastIndexOf("site=")+5,win_url.length)+"/en/USD/":window.location.href+"loyalty/en/USD/"}catch(e){alert(e)}var queryVal;queryVal=pathName.indexOf("/USD/")!=-1?pathName+"lsearch?q=:name-asc:&text=#":pathName+"/lsearch?q=:name-asc:&text=#",window.location.href=queryVal}function validateNumber(evt,obj){evt=evt?evt:window.event;var charCode=evt.which?evt.which:evt.keyCode;return!(charCode>31&&(charCode<48||charCode>57)||13==charCode)&&!(48==charCode&&obj.value<=0)}function validateReferalForm(formCount){for(var flag=0,i=0;i<formCount;i++)""==$("#firstName"+i).val()&&""==$("#lastName"+i).val()||(""==$("#email"+i).val()||null==$("#email"+i).val()?($("#email"+i).addClass("inputError"),flag++):$("#email"+i).removeClass("inputError"));return 0==flag}function GetXmlHttpObject(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return alert("Your browser broke!"),!1}}}return a}function isNumber(evt){evt=evt?evt:window.event;var charCode=evt.which?evt.which:evt.keyCode;return!(charCode>31&&(charCode<48||charCode>57)||13==charCode)}function openUploadOrderModal(){document.getElementById("quick_modal").style.display="block",document.getElementById("quick_fade").style.display="block"}function closeUploadOrderModal(){document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none"}function editUploadOrderEntry(code){var trurl=ACC.uploadorder.pathName+ACC.uploadorder.ajaxUrl+"uploadOrderEntry/"+code,trOrderEntry=$("#EditOrderTableRow_"+code);$.ajax({url:trurl,async:!0,cache:!1,type:"POST",success:function(result){trOrderEntry.html(result)}})}function closeUploadOrder(code){document.getElementById("EditOrderTableRow_"+code).style.display="none"}function saveUploadOrder(code){ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxUrl+"uploadOrderSave/"+code,ACC.uploadorder.postAJAX(ACC.uploadorder.$divUploadOrderStatus)}function deleteUploadOrderEntry(entryno){var code=entryno.split("_"),trurl=ACC.uploadorder.pathName+ACC.uploadorder.ajaxUrl+"uploadOrderEntryDelete/"+code[0]+"/"+entryno,trOrderEntry=$("#EditOrderTableRow_"+code[0]);$.ajax({url:trurl,async:!0,cache:!1,type:"POST",success:function(result){trOrderEntry.html(result)}})}function updateUploadOrderEntry(index,entryno){var code=entryno.split("_"),part=$("#part_"+index).val(),qty=$("#qty_"+index).val(),flag=$("#productFlag_"+index).val(),trurl=ACC.uploadorder.pathName+ACC.uploadorder.ajaxUrl+"uploadOrderEntryEdit/"+code[0]+"/"+entryno+"/"+part+"/"+qty+"/"+flag,trOrderEntry=$("#EditOrderTableRow_"+code[0]);$.ajax({url:trurl,async:!0,cache:!1,type:"POST",success:function(result){trOrderEntry.html(result)}})}function showUploadOrderHistory(code){var trurl=ACC.uploadorder.pathName+ACC.uploadorder.ajaxUrl+"uploadOrderHistory/"+code,trOrderHistory=$("#EditOrderHistory_"+code);$.ajax({url:trurl,async:!0,cache:!1,type:"POST",success:function(result){trOrderHistory.html(result)}})}function deleteUploadOrder(code){ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxUrl+"uploadOrderDelete/"+code,ACC.uploadorder.postAJAX(ACC.uploadorder.$divUploadOrderStatus)}function OrderSearch(){var ponumber=$("#pruchaseOrder_uo").val(),confirmationOrder=$("#confirmationOrder_uo").val(),sdate=$("#date-picker-6").val(),edate=$("#date-picker-7").val(),status=$("#uploadOrrderStatus").val(),urlString="?ponumber="+ponumber+"&sapordernumber="+confirmationOrder+"&sdate="+sdate+"&edate="+edate+"&status="+status;ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxUrl+"search"+urlString,ACC.uploadorder.postAJAX(ACC.uploadorder.$divUploadOrderStatus)}function categoryAddToCart(partnumber,name,price){var errMSG=$("#error_"+partnumber),qty=$("#qty_"+partnumber).val(),isQtyNumber=!0;if(ACC.track.trackAddToCart(partnumber,qty,name,price),isNaN(qty)&&(errMSG.html("Please enter the proper quantity"),errMSG.removeClass("poerror").addClass("poerror_show"),$("#error_"+partnumber).css("display","block"),isQtyNumber=!1),""!=partnumber&&""!=qty&&isQtyNumber&&qty>=1){var ajaxURL=ACC.uploadorder.pathName+"USD/orderupload/category/"+partnumber+"/"+qty;$.ajax({url:ajaxURL,async:!0,cache:!1,contentType:"text/xml",success:function(xmlDoc){var respDoc=$(xmlDoc).find("msg").text();if(null!=respDoc&&respDoc.length>1){if(respDoc.indexOf("multiple")!=-1){var message=respDoc.split("@");respDoc=message[0]}if(respDoc.indexOf("~")!=-1){var errMSGS=respDoc.split("~");errMSG.html(errMSGS[0]+"</br>"+errMSGS[1])}else errMSG.html(respDoc);if($("#err_"+partnumber).css("display","block"),errMSG.removeClass("poerror").addClass("poerror_show"),respDoc.indexOf("multiple")!=-1||respDoc.indexOf("superseded")!=-1||respDoc.indexOf("matching")!=-1||respDoc.indexOf("order quantity")!=-1&&respDoc.indexOf("~")==-1)location.href=ACC.ymmsearch.pathName+"USD/cart",ACC.minicart.refreshMiniCartCount();else{var ajaxURL=ACC.uploadorder.pathName+"USD/orderupload/remove/"+partnumber;$.ajax({url:ajaxURL,async:!0,cache:!1,type:"GET",success:function(xmlDoc){var respDoc=$(xmlDoc).find("removePart").text().replace(/^\s+|\s+$/g,"");respDoc.indexOf("Sucess")!=-1&&ACC.minicart.refreshMiniCartCount()}})}}else location.href=ACC.ymmsearch.pathName+"USD/cart",ACC.minicart.refreshMiniCartCount()},error:function(err){errMSG.html("This part cannot be ordered. For additional information, please contact FMMP Customer Service at 800-334-3210."),errMSG.removeClass("poerror").addClass("poerror_show"),$("#err_"+partnumber).css("display","block")}})}}function addtocart(obj,refreshParent){refreshParent=refreshParent||!1;var sequenceId=obj.id.split("_"),partnumber=("partNumber_"+sequenceId[1],$("#partNumber_"+sequenceId[1]).val()),hPartnumber=$("#hiddenPartNumber_"+sequenceId[1]).val(),qty=$("#qty_"+sequenceId[1]).val(),hQty=$("#hiddenQty_"+sequenceId[1]).val(),hPartFlag=$("#hiddenPartFlag_"+sequenceId[1]).val(),errMSG=$("#error_"+sequenceId[1]),isQtyNumber=($("#div_"+sequenceId[1]),!0);if(isNaN(qty)&&(errMSG.html("Please enter the proper quantity"),errMSG.removeClass("poerror").addClass("poerror_show"),$("#err_"+sequenceId[1]).css("display","block"),isQtyNumber=!1),""!=partnumber&&""!=qty&&isQtyNumber&&qty>=1){document.getElementById("quick_modal").style.display="block",document.getElementById("quick_fade").style.display="block",""===hPartnumber&&(hPartnumber=null),""===hPartFlag&&(hPartFlag=null);var ajaxURL=ACC.uploadorder.pathName+"USD/orderupload/add/"+partnumber+"/"+qty+"/"+hPartnumber+"/"+hQty+"/"+hPartFlag;ajaxURL.indexOf("iframe")!=-1&&(ajaxURL=ajaxURL.replace("iframe","")),$.ajax({url:ajaxURL,async:!0,cache:!1,contentType:"text/xml",success:function(xmlDoc){var respDoc=$(xmlDoc).find("msg").text(),rawPartNumber=$(xmlDoc).find("rawPartNumber").text().replace(/^\s+|\s+$/g,""),desc=$(xmlDoc).find("itemDescription").text(),itemPrice=$(xmlDoc).find("itemPrice").text(),partFlag=$(xmlDoc).find("partFlag").text().replace(/^\s+|\s+$/g,"");if(""!=rawPartNumber?($("#partNumber_"+sequenceId[1]).val(rawPartNumber),$("#hiddenPartNumber_"+sequenceId[1]).val(rawPartNumber)):$("#hiddenPartNumber_"+sequenceId[1]).val(partnumber),""!=desc&&$("#desc_"+sequenceId[1]).html(desc),""!=itemPrice?$("#price_"+sequenceId[1]).html(itemPrice):$("#price_"+sequenceId[1]).html("N/A"),$("#hiddenQty_"+sequenceId[1]).val(qty),$("#hiddenPartFlag_"+sequenceId[1]).val(partFlag),null!=respDoc&&respDoc.length>1){if(respDoc.indexOf("multiple")!=-1){var message=respDoc.split("@");if(respDoc=message[0],message[1].indexOf("~")!=-1){var qtymsg=message[1].split("~");$("#qty_"+sequenceId[1]).val(qtymsg[0]),$("#hiddenQty_"+sequenceId[1]).val(qtymsg[0]),respDoc=respDoc+"~"+qtymsg[1]}else $("#qty_"+sequenceId[1]).val(message[1]),$("#hiddenQty_"+sequenceId[1]).val(message[1])}if(respDoc.indexOf("matching")!=-1){var multiSize=$(xmlDoc).find("multipartsize").text();$("#multiMatch_"+sequenceId[1]).empty();var defaultopt='<option value="choose">Choose</option>';if(multiSize>0){for(var int=0;int<multiSize;int++){var option=$(xmlDoc).find("multiopt"+int).text().split("|");defaultopt+='<option value="'+option[0]+'">'+option[1]+" </option>"}$("#multiMatch_"+sequenceId[1]).append(defaultopt),$("#multi_"+sequenceId[1]).css("display","block"),$("#multiMatch_"+sequenceId[1]).css("display","block")}}else $("#multi_"+sequenceId[1]).css("display","none"),$("#multiMatch_"+sequenceId[1]).css("display","none");if(respDoc.indexOf("~")!=-1){var errMSGS=respDoc.split("~");errMSGS[0]==errMSGS[1]?errMSG.html(errMSGS[0]):errMSG.html(errMSGS[0]+"</br>"+errMSGS[1])}else errMSG.html(respDoc);if($("#err_"+sequenceId[1]).css("display","block"),errMSG.removeClass("poerror").addClass("poerror_show"),respDoc.indexOf("multiple")!=-1||respDoc.indexOf("superseded")!=-1||respDoc.indexOf("vintage")!=-1||respDoc.indexOf("Part not returnable")!=-1||respDoc.indexOf("matching")!=-1||respDoc.indexOf("order quantity")!=-1&&respDoc.indexOf("~")==-1)$("#partNumber_"+sequenceId[1]).css("border","2px solid green"),$("#QuickOrderButton0").removeClass("disabled"),$("#QuickOrderButton1").removeClass("disabled"),ACC.minicart.refreshMiniCartCount();else for($("#partNumber_"+sequenceId[1]).css("border","2px solid red"),i=0;i<=sequenceId[1];i++){var partNumber="",errorText="",styleClassIndex=-1;try{partNumber=$("#partNumber_"+i).val(),errorText=$("#error_"+i).text(),styleClassIndex=$("#partNumber_"+i)[0].style.border.indexOf("green")}catch(err){var partNumber="",errorText="",styleClassIndex=-1}if(null!=partNumber&&""!=partNumber&&""==errorText||styleClassIndex>=0){$("#QuickOrderButton0").removeClass("disabled"),$("#QuickOrderButton1").removeClass("disabled");
break}$("#QuickOrderButton0").addClass("disabled"),$("#QuickOrderButton1").addClass("disabled")}if(respDoc.indexOf("discontinued")!=-1)for($("#partNumber_"+sequenceId[1]).css("border","2px solid red"),i=0;i<=sequenceId[1];i++){var partNumber="",errorText="",styleClassIndex=-1;try{partNumber=$("#partNumber_"+i).val(),errorText=$("#error_"+i).text(),styleClassIndex=$("#partNumber_"+i)[0].style.border.indexOf("green")}catch(err){var partNumber="",errorText="",styleClassIndex=-1}if(null!=partNumber&&""!=partNumber&&""==errorText||styleClassIndex>=0){$("#QuickOrderButton0").removeClass("disabled"),$("#QuickOrderButton1").removeClass("disabled");break}$("#QuickOrderButton0").addClass("disabled"),$("#QuickOrderButton1").addClass("disabled")}}else $("#partNumber_"+sequenceId[1]).css("border","2px solid green"),ACC.minicart.refreshMiniCartCount(),errMSG.removeClass("poerror_show").addClass("poerror"),$("#QuickOrderButton0").removeClass("disabled"),$("#QuickOrderButton1").removeClass("disabled");document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none",refreshParent&&window.parent.postMessage("hybrisCartRefresh"+(new Date).getTime(),"*")},error:function(err){for($("#partNumber_"+sequenceId[1]).css("border","2px solid red"),errMSG.html("This part cannot be ordered. For additional information, please contact FMMP Customer Service at 800-334-3210."),errMSG.removeClass("poerror").addClass("poerror_show"),$("#err_"+sequenceId[1]).css("display","block"),document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none",i=0;i<=sequenceId[1];i++){var partNumber="",errorText="",styleClassIndex=-1;try{partNumber=$("#partNumber_"+i).val(),errorText=$("#error_"+i).text(),styleClassIndex=$("#partNumber_"+i)[0].style.border.indexOf("green")}catch(err){var partNumber="",errorText="",styleClassIndex=-1}if(null!=partNumber&&""!=partNumber&&""==errorText||styleClassIndex>=0){$("#QuickOrderButton0").removeClass("disabled"),$("#QuickOrderButton1").removeClass("disabled");break}$("#QuickOrderButton0").addClass("disabled"),$("#QuickOrderButton1").addClass("disabled")}}})}else if(""==partnumber&&""!=hPartnumber){var dPartNumber=hPartnumber;""!=hPartFlag&&(dPartNumber=hPartFlag.trim()+hPartnumber);var ajaxURL=ACC.uploadorder.pathName+"USD/orderupload/remove/"+dPartNumber;$.ajax({url:ajaxURL,async:!0,cache:!1,type:"GET",success:function(xmlDoc){var respDoc=$(xmlDoc).find("removePart").text().replace(/^\s+|\s+$/g,"");respDoc.indexOf("Sucess")!=-1&&(ACC.minicart.refreshMiniCartCount(),errMSG.removeClass("poerror_show").addClass("poerror"),$("#partNumber_"+sequenceId[1]).css("border","1px solid #ccc"),$("#partNumber_"+sequenceId[1]).val(""),$("#qty_"+sequenceId[1]).val(""),$("#hiddenQty_"+sequenceId[1]).val("0"),$("#hiddenPartNumber_"+sequenceId[1]).val(""),$("#hiddenPartFlag_"+sequenceId[1]).val(""),refreshParent&&window.parent.postMessage("hybrisCartRefresh"+(new Date).getTime(),"*"))}})}}function onMultiSelect(obj){var id,partDetails=obj.value,partDetails=obj.value.split("~"),partnumber=partDetails[0],productFlag=partDetails[1],brandState=partDetails[2];$(".partNumber").each(function(){$(this).val()==partnumber&&(id=$(this).attr("id"))}),""!=brandState&&(brandState="a");var sequenceId=obj.id.split("_"),errMSG=$("#error_"+sequenceId[1]),qty=($("#div_"+sequenceId[1]),$("#qty_"+sequenceId[1]).val()),isQtyNumber=!0;if(isNaN(qty)&&(errMSG.html("Please enter the proper quantity"),errMSG.removeClass("poerror").addClass("poerror_show"),$("#err_"+sequenceId[1]).css("display","block"),isQtyNumber=!1),""!=partnumber&&""!=qty&&isQtyNumber&&qty>=1){var ajaxURL=ACC.uploadorder.pathName+"USD/orderupload/addmultimatch/"+partnumber+"/"+qty+"/"+productFlag+"/"+brandState;document.getElementById("quick_modal").style.display="block",document.getElementById("quick_fade").style.display="block",$.ajax({url:ajaxURL,async:!0,cache:!1,type:"GET",success:function(xmlDoc){var respDoc=$(xmlDoc).find("msg").text(),rawPartNumber=$(xmlDoc).find("rawPartNumber").text().replace(/^\s+|\s+$/g,""),desc=$(xmlDoc).find("itemDescription").text(),itemPrice=$(xmlDoc).find("itemPrice").text(),partFlag=$(xmlDoc).find("partFlag").text().replace(/^\s+|\s+$/g,"");if(""!=rawPartNumber?($("#partNumber_"+sequenceId[1]).val(rawPartNumber),$("#hiddenPartNumber_"+sequenceId[1]).val(rawPartNumber)):$("#hiddenPartNumber_"+sequenceId[1]).val(partnumber),$("#hiddenPartFlag_"+sequenceId[1]).val(partFlag),""!=desc&&$("#desc_"+sequenceId[1]).html(desc),""!=itemPrice?$("#price_"+sequenceId[1]).html(itemPrice):$("#price_"+sequenceId[1]).html("N/A"),$("#hiddenQty_"+sequenceId[1]).val(qty),null!=respDoc&&respDoc.length>1){if(respDoc.indexOf("multiple")!=-1){var message=respDoc.split("@");if(respDoc=message[0],message[1].indexOf("~")!=-1){var qtymsg=message[1].split("~");$("#qty_"+sequenceId[1]).val(qtymsg[0]),$("#hiddenQty_"+sequenceId[1]).val(qtymsg[0]),respDoc=respDoc+"~"+qtymsg[1]}else $("#qty_"+sequenceId[1]).val(message[1]),$("#hiddenQty_"+sequenceId[1]).val(message[1])}if(respDoc.indexOf("matching")!=-1){var multiSize=$(xmlDoc).find("multipartsize").text(),defaultopt='<option value="choose">Choose</option>';if(multiSize>0){for(var int=0;int<multiSize;int++){var option=$(xmlDoc).find("multiopt"+int).text().split("|");defaultopt+='<option value="'+option[0]+'">'+option[1]+" </option>"}$("#multiMatch_"+sequenceId[1]).append(defaultopt),$("#multi_"+sequenceId[1]).css("display","block")}}else $("#multi_"+sequenceId[1]).css("display","none"),$("#multiMatch_"+sequenceId[1]).css("display","none");if(respDoc.indexOf("~")!=-1){var errMSGS=respDoc.split("~");errMSGS[0]==errMSGS[1]?errMSG.html(errMSGS[0]):errMSG.html(errMSGS[0]+"</br>"+errMSGS[1])}else errMSG.html(respDoc);errMSG.removeClass("poerror").addClass("poerror_show"),respDoc.indexOf("multiple")!=-1||respDoc.indexOf("superseded")!=-1||respDoc.indexOf("vintage")!=-1||respDoc.indexOf("matching")!=-1||respDoc.indexOf("order quantity")!=-1&&respDoc.indexOf("~")==-1?($("#partNumber_"+sequenceId[1]).css("border","2px solid green"),ACC.minicart.refreshMiniCartCount()):$("#partNumber_"+sequenceId[1]).css("border","2px solid red"),respDoc.indexOf("discontinued")!=-1&&$("#partNumber_"+sequenceId[1]).css("border","2px solid red")}else $("#partNumber_"+sequenceId[1]).css("border","2px solid green"),errMSG.removeClass("poerror_show").addClass("poerror"),errMSG.css("display","none"),ACC.minicart.refreshMiniCartCount();document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none",$(obj).css("display","none")}})}}function showInvoiceDetail(ioNumber){ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxIOUrl+"invoice-details/"+ioNumber,ACC.uploadorder.postAJAX($("#orderHistory"))}function ValidateFileExtension(oInput){if("file"==oInput.type){var sFileName=oInput.value;if(sFileName.length>0){for(var blnValid=!1,j=0;j<_validFileExtensions.length;j++){var sCurExtension=_validFileExtensions[j];if(sFileName.substr(sFileName.length-sCurExtension.length,sCurExtension.length).toLowerCase()==sCurExtension.toLowerCase()){blnValid=!0;break}}if(!blnValid)return alert("Sorry, "+sFileName+" is invalid, allowed extensions are: "+_validFileExtensions.join(", ")),oInput.value="",!1}}return!0}function addRows(count){for(var len=($(".table tr:last"),$(".table tr:last ").index()+1),addcount=parseInt(len)+1,j=0;j<count;j++){var myRow='<tr id="tr_'+parseInt(addcount+j)+'"> <td class="nameCol itemsCol"><div class=""><input id="hiddenPartNumber_'+parseInt(addcount+j)+'" class="hiddenPartNumber form-control" type="hidden" value=""><input id="hiddenPartFlag_'+parseInt(addcount+j)+'" class="hiddenPartFlag form-control" type="hidden" value=""><input type="text" onchange="addtocart(this, true);" id="partNumber_'+parseInt(addcount+j)+'" placeholder="Enter Part Number" class="partNumber form-control visible-lg-inline visible-md-inline visible-sm-inline width165"></div><div class="searchStatus hide"><span class="fa fa-check-circle"></span></div></td><td class="text-center"><input id="hiddenQty_'+parseInt(addcount+j)+'" class="hiddenQty form-control" type="hidden" value="0"><input type="text" id="qty_'+parseInt(addcount+j)+'" onchange="addtocart(this, true);" placeholder="0"  class="form-control visible-lg-inline visible-md-inline visible-sm-inline width60"></td> <td class="descCol"><div id="desc_'+parseInt(addcount+j)+'"></div></td> <td class="text-right"><h4 class="DINWebBold"><div id="price_'+parseInt(addcount+j)+'"></div></h4></td> <td class="text-right"><div><a id="inventory_'+parseInt(addcount+j)+'" class="inventoryRow deleteRow" href="#" onclick="CheckInventory(this);"><span class="fa fa-exchange fa-fw fm_fntRed"></span></a><a id="delete_'+parseInt(addcount+j)+'" class="deleteRow" href="#" onclick="RemoveProduct(this);"><span class="fa fa-trash-o fa-fw fm_fntRed"></span></a></div></td></tr><tr><td colspan="5" class="quicOrderPoerrorTd"><div style="display: none;" id="err_'+parseInt(addcount+j)+'" class="topMargn_20 "><div class="" id="div_'+parseInt(addcount+j)+'"><div class="poerror_show topMargn_25 quicOrderPoerror_show" id="error_'+parseInt(addcount+j)+'"></div><div style="display: none;" id="multi_'+parseInt(addcount+j)+'" class="topMargn_10"><select id="multiMatch_'+parseInt(addcount+j)+'" class="form-control width165" style="display: none;"\tonchange="javascript:onMultiSelect(this)"></select></div></div></div></td></tr>';$(".table tr:last").after(myRow)}}function addTopRows(){var count=$("#addrowtoptext").val();addRows(count)}function addButtomRows(){var count=$("#addrowbuttomtext").val();addRows(count)}function RemoveProduct(obj){$("#quickload").trigger("reset"),$("#quickOrderFile").val("");var input=$("#quickOrderFile");input.replaceWith(input.val("").clone(!0));var sequenceId=obj.id.split("_"),partnumber=("partNumber_"+sequenceId[1],$("#partNumber_"+sequenceId[1]).val());$("#error_"+sequenceId[1]),$("#qty_"+sequenceId[1]),$("#div_"+sequenceId[1]);if(""!=partnumber){$("#partNumber_"+sequenceId[1]).val(""),$("#qty_"+sequenceId[1]).val(""),document.getElementById("quick_modal").style.display="block",document.getElementById("quick_fade").style.display="block";var ajaxURL=ACC.uploadorder.pathName+"USD/orderupload/remove/"+partnumber;$.ajax({url:ajaxURL,async:!0,cache:!1,type:"GET",success:function(xmlDoc){var respDoc=$(xmlDoc).find("removePart").text().replace(/^\s+|\s+$/g,"");document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none",respDoc.indexOf("Sucess")!=-1&&(ACC.minicart.refreshMiniCartCount(),$("#tr_"+sequenceId[1]).remove(),$("#err_"+sequenceId[1]).remove())}})}}function CheckInventory(obj){var sequenceId=obj.id.split("_"),partnumber=("partNumber_"+sequenceId[1],$("#partNumber_"+sequenceId[1]).val()),partFlag=$("#hiddenPartFlag_"+sequenceId[1]).val().replace(/^\s+|\s+$/g,""),qty=$("#qty_"+sequenceId[1]).val();if(""!=partnumber){""==partFlag&&(partFlag="NA"),document.getElementById("quick_modal").style.display="block",document.getElementById("quick_fade").style.display="block";var ajaxURL=ACC.uploadorder.pathName+"USD/inventory/quick/"+partnumber+"/"+qty+"/"+partFlag.trim();$.ajax({url:ajaxURL,async:!0,cache:!1,type:"GET",success:function(xmlDoc){$("#inventoryPopup").html(xmlDoc),$("#inventoryPopup").css("display","block"),document.getElementById("quick_modal").style.display="none"}})}}function CheckPickupInventory(storeId,chkInvOnly){if(""!=storeId){document.getElementById("quick_modal").style.display="block",document.getElementById("quick_fade").style.display="block";var ajaxURL=ACC.uploadorder.pathName+"USD/inventory/pickup/"+storeId+"/"+chkInvOnly+"/pickup";$.ajax({url:ajaxURL,async:!0,cache:!1,type:"GET",success:function(xmlDoc){"true"==chkInvOnly?($("#inventoryPopup").html(xmlDoc),$("#inventoryPopup").css("display","block"),document.getElementById("quick_modal").style.display="none"):setTimeout(function(){location.href=ACC.ymmsearch.pathName+"USD/cart/checkout"},200)}})}}function submitTSCPaymentForm(){var error_free=!0,element=$("input[name=p_poNumber]"),valid=element.hasClass("valid"),error_element=$("span",element.parent());valid?error_element.removeClass("poerror_show").addClass("poerror"):(error_element.removeClass("poerror").addClass("poerror_show"),error_free=!1),valid?element.removeClass("invalid").addClass("valid"):element.removeClass("valid").addClass("invalid"),error_free?$("#paymentDetailsForm").submit():(element.focus(),event.preventDefault())}function setstores(storeId){if(null!=storeId){var ajaxURL=ACC.ymmsearch.pathName+"USD/cart-store-finder/setStore/"+storeId;$.ajax({url:ajaxURL,success:function(xmlDoc){CheckPickupInventory(storeId,"false")},error:function(e){alert("Error"+e)}})}}function CheckHomeInventory(obj,isTSCPickup){for(var partnumberList="",int=0;int<3;int++){var partnumber=$("#partNumber_"+int).val(),partFlag=$("#hiddenPartFlag_"+int).val().replace(/^\s+|\s+$/g,""),qty=$("#qty_"+int).val();""==partFlag&&(partFlag="NA"),""!=partnumber&&""!=qty&&(0==int?partnumberList=partnumber.trim()+"|"+qty.trim()+"|"+partFlag.trim()+"~":partnumberList+=partnumber.trim()+"|"+qty.trim()+"|"+partFlag.trim()+"~")}if(""!=partnumberList){document.getElementById("quick_modal").style.display="block",document.getElementById("quick_fade").style.display="block";var ajaxURL=ACC.uploadorder.pathName+"USD/inventory/home/"+partnumberList+"?TSCPickup="+isTSCPickup;$.ajax({url:ajaxURL,async:!0,cache:!1,type:"GET",success:function(xmlDoc){$("#inventoryPopup").html(xmlDoc),$("#inventoryPopup").css("display","block"),document.getElementById("quick_modal").style.display="none"}})}}function inventoryClose(){$("#inventoryPopup").css("display","none"),document.getElementById("quick_fade").style.display="none"}function displayCarrier(obj,ind,dc,country){document.getElementById("carrierAccCode_"+ind).style.display="none";var ajaxURL=ACC.uploadorder.pathName+"USD/checkout/multi/carrier/"+dc;$.ajax({url:ajaxURL,async:!0,cache:!1,type:"POST",success:function(xmlDoc){$(obj).empty();var carrierSize=$(xmlDoc).find("carrierSize").text(),defaultCACarrierCollect=($(xmlDoc).find("defaultCarrierCollect").text().replace(/^\s+|\s+$/g,""),$(xmlDoc).find("defaultCACarrierCollect").text().replace(/^\s+|\s+$/g,"")),defaultopt='<option value="Carrier">Please Select Carrier</option>';if(carrierSize>0)for(var int=0;int<carrierSize;int++){var option=$(xmlDoc).find("carrieropt"+int).text().split("-");"FM"!=option[1]&&"OTH"!=option[1]&&("US"==country||"CA"==country&&option[1]==defaultCACarrierCollect)&&(defaultopt+='<option value="'+option[1].replace(/^\s+|\s+$/g,"")+'">'+option[0].replace(/^\s+|\s+$/g,"")+" </option>")}$(obj).append(defaultopt)}})}function displayStockCarrier(obj,ind,dc){document.getElementById("carrierAccCode_"+ind).style.display="none";var ajaxURL=ACC.uploadorder.pathName+"USD/checkout/multi/carrier/"+dc;$.ajax({url:ajaxURL,async:!0,cache:!1,type:"POST",success:function(xmlDoc){$(obj).empty();var carrierSize=$(xmlDoc).find("carrierSize").text(),defaultopt='<option value="Carrier">Please Select Carrier</option>';if(carrierSize>0)for(var int=0;int<carrierSize;int++){var option=$(xmlDoc).find("carrieropt"+int).text().split("-");"OTH"!=option[1]&&"FM"!=option[1]||(defaultopt+='<option value="'+option[1].replace(/^\s+|\s+$/g,"")+'">'+option[0].replace(/^\s+|\s+$/g,"")+" </option>")}$(obj).append(defaultopt)}})}function displayShippingMethod(obj,id,dc,country){var smSelect=$("#sm_"+id);$("#chooseCarrier_error_"+id).css("display","none"),$("#chooseCarrier_"+id).css("border","1px solid #ccc");var cc=$("#chooseCarrier_"+id).val(),ccName=$("#chooseCarrier_"+id).find("option:selected").text(),isCarrierCollect=!1;if(ccName.indexOf("Collect")!=-1&&(isCarrierCollect=!0),null!=cc){var ajaxURL=ACC.uploadorder.pathName+"USD/checkout/multi/shipmethod/"+dc+"/"+cc+"/"+country;$.ajax({url:ajaxURL,async:!0,cache:!1,success:function(xmlDoc){smSelect.empty();var smSize=$(xmlDoc).find("smSize").text(),defaultopt='<option value="SM">Please Select Shipping Method</option>';if(smSize>0)for(var int=0;int<smSize;int++){var option=$(xmlDoc).find("smopt"+int).text().split("-");isCarrierCollect&&option[0].indexOf("Collect")!=-1?defaultopt+='<option value="'+option[1].replace(/^\s+|\s+$/g,"")+'">'+option[0].replace(/^\s+|\s+$/g,"")+" </option>":isCarrierCollect||option[0].indexOf("Collect")!=-1||(defaultopt+='<option value="'+option[1].replace(/^\s+|\s+$/g,"")+'">'+option[0].replace(/^\s+|\s+$/g,"")+" </option>")}smSelect.append(defaultopt),removeDuplicates(id),smSelect.removeAttr("disabled")}})}}function removeDuplicates(id){var usedNames={};$("select[id=sm_"+id+"] > option").each(function(){usedNames[this.text]?$(this).remove():usedNames[this.text]=this.value})}function saveShippingMethod(obj,id,dc){$("#shippingmethod_error_"+id).css("display","none"),$("#sm_"+id).css("border","1px solid #ccc");var sm=obj.value,cc=$("#chooseCarrier_"+id).val(),ccName=$("#chooseCarrier_"+id).find("option:selected").text(),ccAccount=$("#carrierAccountChange_"+id).val(),ccacc=$(obj).find("option:selected").text();if(null==ccAccount||""==ccAccount?ccAccount="NA":"NA"==ccAccount&&(ccAccount="NA"),null!=cc&&null!=sm){var ajaxURL=ACC.uploadorder.pathName+"USD/checkout/multi/shippingmethod/"+dc+"/"+cc+"/"+sm+"/"+ccAccount+"/"+ccName+"/"+ccacc;$.ajax({url:ajaxURL,async:!0,cache:!1,contentType:"text/xml",success:function(xmlDoc){var loggedInUserType=$(xmlDoc).find("loggedInUserType").text(),totalFreightCostForDC=($(xmlDoc).find("dcCode").text(),$(xmlDoc).find("totalItemPriceForDC").text(),$(xmlDoc).find("totalFreightCostForDC").text()),totalDCValue=$(xmlDoc).find("totalDCValue").text(),totalFreightCostForAllDCs=($(xmlDoc).find("totalItemPriceForAllDCs").text(),$(xmlDoc).find("totalFreightCostForAllDCs").text()),totalOrderValue=$(xmlDoc).find("totalOrderValue").text();totalFreightCostForDC>0?$("#shipCostForDC_"+dc).html("$"+totalFreightCostForDC):$("#shipCostForDC_"+dc).html("N/A"),"ShipTo"==loggedInUserType?$("#subtotalWithShipCostForDC_"+dc).html("<h5>N/A</h5>"):$("#subtotalWithShipCostForDC_"+dc).html("<h5>$"+totalDCValue+"</h5>"),totalFreightCostForAllDCs>0?$("#shipCostSummary").html("$"+totalFreightCostForAllDCs):$("#shipCostSummary").html("N/A"),"ShipTo"==loggedInUserType?$("#estTotalSummary").html("N/A"):$("#estTotalSummary").html("$"+totalOrderValue+"**")}})}ccacc.indexOf("Collect")!=-1?document.getElementById("carrierAccCode_"+id).style.display="block":document.getElementById("carrierAccCode_"+id).style.display="none"}function saveShippingMethodOnPkupChkboxClick(custPickupCheckbox,id,dc){var carrierCd="",carrierName="",shipMthdCd="",shipMthdName="";custPickupCheckbox.checked?(carrierCd="OTH",carrierName="Other",shipMthdCd="PKUP",shipMthdName="Pickup"):(carrierCd="UPS",carrierName="UPS",shipMthdCd="GRD",shipMthdName="Ground");var carrierAcctCd=$("#carrierAccountChange_"+id).val();if(null==carrierAcctCd||""==carrierAcctCd?carrierAcctCd="NA":"NA"==carrierAcctCd&&(carrierAcctCd="NA"),null!=carrierCd&&null!=shipMthdCd){var ajaxURL=ACC.uploadorder.pathName+"USD/checkout/multi/shippingmethod/"+dc+"/"+carrierCd+"/"+shipMthdCd+"/"+carrierAcctCd+"/"+carrierName+"/"+shipMthdName;$.ajax({url:ajaxURL,async:!0,cache:!1,success:function(xmlDoc){var loggedInUserType=$(xmlDoc).find("loggedInUserType").text(),totalFreightCostForDC=($(xmlDoc).find("dcCode").text(),$(xmlDoc).find("totalItemPriceForDC").text(),$(xmlDoc).find("totalFreightCostForDC").text()),totalDCValue=$(xmlDoc).find("totalDCValue").text(),totalFreightCostForAllDCs=($(xmlDoc).find("totalItemPriceForAllDCs").text(),$(xmlDoc).find("totalFreightCostForAllDCs").text()),totalOrderValue=$(xmlDoc).find("totalOrderValue").text();totalFreightCostForDC>0?$("#shipCostForDC_"+dc).html("$"+totalFreightCostForDC):$("#shipCostForDC_"+dc).html("N/A"),"ShipTo"==loggedInUserType?$("#subtotalWithShipCostForDC_"+dc).html("<h5>N/A</h5>"):$("#subtotalWithShipCostForDC_"+dc).html("<h5>$"+totalDCValue+"</h5>"),totalFreightCostForAllDCs>0?$("#shipCostSummary").html("$"+totalFreightCostForAllDCs):$("#shipCostSummary").html("N/A"),"ShipTo"==loggedInUserType?$("#estTotalSummary").html("N/A"):$("#estTotalSummary").html("$"+totalOrderValue+"**")}})}}function saveCarrierAccCode(obj,id,dc){var cc=$("#chooseCarrier_"+id).val(),ccName=$("#chooseCarrier_"+id).find("option:selected").text(),ccAccount=obj.value,sm=$("#sm_"+id).val(),ccacc=$("#sm_"+id).find("option:selected").text();if(null==ccAccount||""==ccAccount?ccAccount="dummy":"NA"==ccAccount&&(ccAccount="dummy"),null!=cc&&null!=sm){var ajaxURL=ACC.uploadorder.pathName+"USD/checkout/multi/shippingmethod/"+dc+"/"+cc+"/"+sm+"/"+ccAccount+"/"+ccName+"/"+ccacc;$.ajax({url:ajaxURL,async:!0,cache:!1,success:function(xmlDoc){}})}}function onSelectDC(obj){var optSelected=obj.value.split("_"),backorderPolicy=optSelected[0],availDC=optSelected[1];if("dc"!=backorderPolicy){var dcDetails=availDC.split("-"),entrynumber=dcDetails[2],dcInfo=(dcDetails[3],$(obj).find("option:selected").text().split("ship from")[1]),dcName=dcInfo.substring(0,dcInfo.lastIndexOf("(")),quantity=dcInfo.split("(")[1].split("available")[0],res=dcName.replace(",",", "),info="<p><b>Shipping location :</b>"+res+" ,</p><p> <b>Available Quantity :</b> "+quantity+"</p>",backOrderInfo="</br><span class='fm_fntRed'><b>No inventory available. Only back order all available.</b></span>";"nothing"==backorderPolicy&&(info+=backOrderInfo),"partial"!=backorderPolicy&&addDistrubutionCenter(availDC,entrynumber,backorderPolicy)}}function onPartialSelect(obj,entrynumber){var optSelected=obj.value.split("_"),backorderPolicy=optSelected[0],availDC=optSelected[1];$(obj).css("display","none"),$("#s-fm-dc-ship-info-"+entrynumber).css("display","block"),addDistrubutionCenter(availDC,entrynumber,backorderPolicy)}function addDistrubutionCenter(availDC,entrynumber,backorderPolicy){var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/adddc/"+availDC+"/"+entrynumber+"/"+backorderPolicy;$.ajax({url:ajaxURL,async:!0,cache:!1,success:function(xmlDoc){}})}function searchOrders(){var PO_Number=$("#pruchaseOrder_no").val(),confirma_Number=$("#confirmationOrder_no").val(),start_Date=$("#date-picker-1").val(),end_Date=$("#date-picker-2").val(),Status=$("select[id='orderStatus'] option:selected").val(),urlString="?ponumber="+encodeURIComponent(PO_Number)+"&invoice="+encodeURIComponent(confirma_Number)+"&sdate="+start_Date+"&edate="+end_Date+"&status="+Status;ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxOHUrl+"order-header"+urlString,ACC.uploadorder.postAJAX(ACC.uploadorder.$divOrderHeader)}function resetOrders(){$("#pruchaseOrder_no").val(""),$("#confirmationOrder_no").val(""),$("#date-picker-1").val(""),$("#date-picker-2").val(""),$("#orderStatus").prop("selectedIndex",0)}function searchInvoice(){var PO_Number=$("#invoicePruchaseOrder_iv").val(),confirma_Number=$("#invoiceConfirmationOrder_iv").val(),start_Date=$("#date-picker-4").val(),end_Date=$("#date-picker-5").val(),Status=$("#invoiceStatus").val(),urlString="?ponumber="+encodeURIComponent(PO_Number)+"&invoice="+encodeURIComponent(confirma_Number)+"&sdate="+start_Date+"&edate="+end_Date+"&status="+Status;ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxIOUrl+"invoice-header"+urlString,ACC.uploadorder.postAJAX(ACC.uploadorder.$divInvoiceHeader)}function resetInvoice(){$("#invoicePruchaseOrder_iv").val(""),$("#invoiceConfirmationOrder_iv").val(""),$("#date-picker-4").val(""),$("#date-picker-5").val(""),$("#invoiceStatus").prop("selectedIndex",0)}function searchBackOrder(){var PO_Number=$("#backOrderpo_no").val(),part_Number=$("#backOrderpart_no").val(),urlString="?ponumber="+PO_Number+"&partnumber="+part_Number;ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxBOUrl+"back-order"+urlString,ACC.uploadorder.postAJAX(ACC.uploadorder.$divBackOrders)}function resetBackOrder(){$("#backOrderpo_no").val(""),$("#backOrderpart_no").val("")}function invoiceSortBy(sortOption){var urlString="?sortBy="+sortOption;ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxIOUrl+"sortInvoice-Header"+urlString,ACC.uploadorder.postAJAX(ACC.uploadorder.$divInvoiceHeader)}function backOrderSortBy(sortOption){var urlString="?sortBy="+sortOption;ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxBOUrl+"sort-Back-Order"+urlString,ACC.uploadorder.postAJAX(ACC.uploadorder.$divBackOrders)}function displayOrdersAs(pos){var itemsCount=20;itemsCount="up"==pos?$("#orderStatusdisplayup option:selected").val():$("#orderStatusdisplaydown option:selected").val();var urlString="?itemsCount="+itemsCount;ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxOHUrl+"orderHistory-Pagination"+urlString,ACC.uploadorder.postAJAX(ACC.uploadorder.$divOrderHeader)}function hasNext(currentPage,itemsCount,begin,end){var urlString="?itemsCount="+itemsCount+"&begin="+begin+"&end="+end+"&page="+currentPage+"&moveFlag=1";ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxOHUrl+"orderHistory-Pagination"+urlString,ACC.uploadorder.postAJAX(ACC.uploadorder.$divOrderHeader)}function hasPrev(currentPage,itemsCount,begin,end){var urlString="?itemsCount="+itemsCount+"&begin="+begin+"&end="+end+"&page="+currentPage+"&moveFlag=-1";ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxOHUrl+"orderHistory-Pagination"+urlString,ACC.uploadorder.postAJAX(ACC.uploadorder.$divOrderHeader)}function formateDate(id){return"date-picker-1"==id?($("#date-picker-1").val(""),!1):($("#date-picker-2").val(""),!1)}function disableAltDcSelectBox(gatpDc,altDcToDisable){gatpDc.checked?(document.getElementById(altDcToDisable).disabled=!0,document.getElementById(altDcToDisable).value="Select"):document.getElementById(altDcToDisable).disabled=!1}function clearGatpDcCheckboxes(nonGatpSel,entryNumberToDisable){$("select#"+nonGatpSel+" :selected").text();"Select"!=nonGatpSel&&(document.getElementById(entryNumberToDisable).checked=!1)}function addGatpDc(entryNumber){var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/adddc/"+$(this).val()+"/"+entryNumber+"/available";$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}function removeGatpDc(altDcSelectTxt,gatpCheckboxId){if(gatpCheckboxId.checked&&"Select"!=altDcSelectTxt){var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/removedc/"+$(this).val()+"/"+gatpCheckboxId;$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}}function addAltDc(selectedAltDc,entryNumber){if(selectedAltDc.indexOf("-")>-1){var arr=selectedAltDc.split("-"),dcCode="";arr.length>0&&(dcCode=arr[1]);var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/adddc/"+dcCode+"/"+entryNumber+"/available";$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}}function removeAltDc(gatpCheckboxId,altDcSelect,altDcEntryNumber){if("Select"!=altDcSelect.value&&gatpCheckboxId.checked){var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/removedc/"+$(this).val()+"/"+altDcEntryNumber;$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}}function enableOrDisableCarrierShipMthdSelectBoxes(custPickupCheckbox,id){custPickupCheckbox.checked?(document.getElementById("chooseCarrier_"+id).disabled=!0,document.getElementById("chooseCarrier_"+id).value="Carrier",document.getElementById("sm_"+id).disabled=!0,document.getElementById("sm_"+id).value="SM"):(document.getElementById("chooseCarrier_"+id).disabled=!1,document.getElementById("chooseCarrier_"+id).value="UPS",document.getElementById("sm_"+id).disabled=!1,document.getElementById("sm_"+id).value="GRD")}function validatePO(evt){evt=evt?evt:window.event;var charCode=evt.which?evt.which:evt.keyCode;return charCode>47&&charCode<58||charCode>64&&charCode<91||charCode>96&&charCode<123||0==charCode||95==charCode||45==charCode||32==charCode||8==charCode||9==charCode}function GetXmlHttpObject(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return alert("Your browser broke!"),!1}}}return a}function getStates(obj){var selectedCountry=obj.value,selectedZone=ACC.locations.$Selectfmzone.val();ACC.locations.Url=ACC.locations.pathName+ACC.locations.ajaxUrl+"getStates/"+selectedZone+"/"+selectedCountry,$.ajax({type:"GET",url:ACC.locations.Url,success:function(xmlDoc){var respDoc=$(xmlDoc).find("fmstates").text();$("#fmStatesDiv").html(respDoc)},error:function(xhr,err){}})}function getLocations(obj){var selectedCountry=$("#fmcountry").val(),selectedState=obj.value;ACC.locations.Url=ACC.locations.pathName+ACC.locations.ajaxUrl+"getLocations/"+selectedCountry+"/"+selectedState,$.ajax({type:"GET",url:ACC.locations.Url,success:function(xmlDoc){var respDoc=$(xmlDoc).find("fmlocations").text();$("#fmlocations").html(respDoc)},error:function(xhr,err){}})}function GetXmlHttpObject(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return alert("Your browser broke!"),!1}}}return a}function createCookie(name,value,days){document.cookie=name+"=; expires=Thu, 01-Jan-70 00:00:01 GMT;"}function getpassword(){$(".password-verdict, .progress").show()}function getpassword_reg(){$(".password-verdict, .progress").show()}function getpassword_pwdreset(){$(".password-verdict, .progress").show()}function addNewAddressToSession(){if(""!=myFMAddressForm.firstLastName.value&&""!=myFMAddressForm.Addressline1.value&&""!=myFMAddressForm.city.value&&""!=myFMAddressForm.zip.value){var count=0;if("United States"==document.getElementById("coutntry").value){var zipcode="^\\d{5}(-\\d{4})?$";document.getElementById("zip").value.search(zipcode)==-1?document.getElementById("errorzip").innerHTML="Invalid ZIP/Postal Code ":(document.getElementById("errorzip").innerHTML=" ",count++)}else if("Canada"==document.getElementById("coutntry").value){var zipcode="(^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\\d{1}[A-Za-z]{1} \\d{1}[A-Za-z]{1}\\d{1}$)";document.getElementById("zip").value.search(zipcode)==-1?document.getElementById("errorzip").innerHTML="Invalid ZIP/Postal Code ":(document.getElementById("errorzip").innerHTML=" ",count++)}if(count>=1){ajaxUrl="USD/my-fmaccount/",currentPath=window.location.href;var pathName="",userNewAddress="";try{pathName=currentPath.indexOf("/USD")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/USD")+1):currentPath.indexOf("?site")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/?site")+1)+currentPath.substring(currentPath.lastIndexOf("site=")+5,currentPath.length)+"/en/":window.location.href}catch(e){}actionUrl=pathName+ajaxUrl+"/add-address-tosession",$.ajax({url:actionUrl,type:"POST",mimeType:"multipart/form-data",data:$("#myFMAddressForm").serialize(),success:function(xmlDoc){$("#shipTodefaultAcc").hide();var respDoc=$(xmlDoc).find("addNewShipToaddressSession").html();userNewAddress=respDoc.substr(respDoc.indexOf("NewAddress:")+11),respDoc=respDoc.substr(0,respDoc.indexOf("NewAddress:")),$("#shipTonewAddress1").html(respDoc)},error:function(xmlDoc){}}),$("body").removeClass("modal-open"),$(".modal").removeClass("in"),$(".modal").attr("aria-hidden","true"),$(".modal").hide(),$(".modal-backdrop").remove()}}else""===myFMAddressForm.firstLastName.value?document.getElementById("errorcname").innerHTML="Please enter Company Name":document.getElementById("errorcname").innerHTML=" ",""===myFMAddressForm.Addressline1.value?document.getElementById("erroraddress").innerHTML="Please enter Contact Address":document.getElementById("erroraddress").innerHTML=" ",""===myFMAddressForm.city.value?document.getElementById("errorcity").innerHTML="Please enter city":document.getElementById("errorcity").innerHTML=" ",""===myFMAddressForm.zip.value?document.getElementById("errorzip").innerHTML="Please enter Postal Code":document.getElementById("errorzip").innerHTML=" "," "===myFMAddressForm.prov.value?document.getElementById("errorstate").innerHTML="Please select state":document.getElementById("errorstate").innerHTML=" ";
}function validate(){if(""!==myFMAddressForm.zip.value)if("United States"===document.getElementById("coutntry").value){var zipcode="^\\d{5}(-\\d{4})?$";document.getElementById("zip").value.search(zipcode)===-1?document.getElementById("errorzip").innerHTML="Invalid ZIP/Postal Code ":document.getElementById("errorzip").innerHTML=" "}else if("Canada"===document.getElementById("coutntry").value){var zipcode="(^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\\d{1}[A-Za-z]{1} \\d{1}[A-Za-z]{1}\\d{1}$)";document.getElementById("zip").value.search(zipcode)===-1?document.getElementById("errorzip").innerHTML="Invalid ZIP/Postal Code ":document.getElementById("errorzip").innerHTML=" "}}function hideAndShow(){var e=document.getElementById("shipToSelect"),strUser=e.options[e.selectedIndex].value;"chooseExist"===strUser&&($("#shipTodefaultAcc").hide(),$("#floatingBarsG4").hide(),$("#shipTo").show(),$("#changeShip").show(),$("#changeShipbtn").show())}function clearNewAddress(){$(".shipToForm .tab-pane").hide(),$("#shipTodefaultAcc").show(),$("#newShipTo").hide(),$("#oldShipTo").show()}function checkHide(){""!==myFMAddressForm.firstLastName.value&&(document.getElementById("errorcname").innerHTML=" "),""!==myFMAddressForm.Addressline1.value&&(document.getElementById("erroraddress").innerHTML=" "),""!==myFMAddressForm.city.value&&(document.getElementById("errorcity").innerHTML=" "),""!==myFMAddressForm.zip.value&&(document.getElementById("errorzip").innerHTML=" ")," "!==myFMAddressForm.prov.value&&(document.getElementById("errorstate").innerHTML=" ")}function goToReview(){$("ul.resp-tabs-list > li").removeClass("resp-tab-active"),$(".resp-tabs-container > div").removeClass("resp-tab-content-active"),$("#tab1").removeClass("resp-tab-content-active"),$("#tab3").removeClass("resp-tab-content-active"),$("#tab4").removeClass("resp-tab-content-active"),$("#tab5").removeClass("resp-tab-content-active"),$("#tab2").addClass("resp-tab-active"),$("#reviewTab").addClass("resp-tab-content-active"),$("#prodSpec").hide(),$("#FAQTab").hide(),$("#AlsoFitsTab").hide(),$("#TechTipsTag").hide()}function isNumber(evt){evt=evt?evt:window.event;var charCode=evt.which?evt.which:evt.keyCode;return!(charCode>31&&(charCode<48||charCode>57))}function validateuser(){var userexp="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$";document.getElementById("userid").value.search(userexp)===-1?document.getElementById("userid1").innerHTML="Invalid user":document.getElementById("userid1").innerHTML=""}function validateNewShipForm(){var count=0;if(""!==newAddress.shipZipPostalCode.value)if("US"===window.document.getElementById("shipcountry").value){var zipcode="^\\d{5}(-\\d{4})?$";window.document.getElementById("shipZipPostalCode").value.search(zipcode)===-1?(window.document.getElementById("errorzip").innerHTML="Invalid ZIP/Postal Code ",count++):window.document.getElementById("errorzip").innerHTML=" "}else if("CA"===window.document.getElementById("shipcountry").value){var zipcode="(^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\\d{1}[A-Za-z]{1} \\d{1}[A-Za-z]{1}\\d{1}$)";window.document.getElementById("shipZipPostalCode").value.search(zipcode)===-1?(window.document.getElementById("errorzip").innerHTML="Invalid ZIP/Postal Code ",count++):window.document.getElementById("errorzip").innerHTML=" "}if(""!==newAddress.phone.value){var phonenum=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;document.getElementById("phone").value.search(phonenum)===-1?(document.getElementById("errorcnum").innerHTML="Please verify that you've entered a 10-digit phone number ",count++):document.getElementById("errorcnum").innerHTML=" "}count>0?document.getElementById("continueToReview").disabled=!0:document.getElementById("continueToReview").disabled=!1}function changeText(a){switch(a){case 1:document.getElementById("displayDesc").innerHTML="<label style='font: bold;' >I hate it</label>";break;case 2:document.getElementById("displayDesc").innerHTML="<label style='font: bold;' >I don't like it</label>";break;case 3:document.getElementById("displayDesc").innerHTML="<label style='font: bold;' >It's okay</label>";break;case 4:document.getElementById("displayDesc").innerHTML="<label style='font: bold;' >I like it</label>";break;case 5:document.getElementById("displayDesc").innerHTML="<label style='font: bold;' >I love it</label>"}}function changeEmpty(){document.getElementById("displayDesc").innerHTML="<label style='font: bold;' ></label> "}function checkPlaceHolderLabel(){$.support.placeholder||(document.getElementById("email_ie9").innerHTML='<label class="" for="j_username">Email Address</label>',document.getElementById("pwd_ie9").innerHTML='<label class="" for="j_password">Password</label>')}function GetXmlHttpObject(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return alert("Your browser broke!"),!1}}}return a}function centerModal(){$(this).css("display","block");var $dialog=$(this).find(".modal-dialog"),offset=($(window).height()-$dialog.height())/2;$dialog.css("margin-top",offset)}function hideAstricForDisabledBoxes(){$("#companyPhoneSpan").hide(),$("#companyZipSpan").hide(),$("#companyStateSpan").hide(),$("#CcountrySpan").hide(),$("#companyCitySpan").hide(),$("#companyAddressSpan").hide(),$("#companyNameSpan").hide()}function showAstricForDisabledBoxes(){$("#companyPhoneSpan").show(),$("#companyZipSpan").show(),$("#companyStateSpan").show(),$("#CcountrySpan").show(),$("#companyCitySpan").show(),$("#companyAddressSpan").show(),$("#companyNameSpan").show()}function toggleGarageRewardPromoCode(obj){obj.checked?$("#form-ifGarageGuruChecked").show():$("#form-ifGarageGuruChecked").hide()}function setHomeAddressToCompanyAddress(obj){var checkedFlag=obj.checked;if(checkedFlag){var acccode=$("#accCode").val(),currentPath=window.location.href,pathName="";try{pathName=currentPath.indexOf("/USD")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/USD")+5):currentPath.indexOf("?site")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/?site")+1)+currentPath.substring(currentPath.lastIndexOf("site=")+5,currentPath.length)+"/en/USD/":window.location.href+"federalmogul/en/USD/"}catch(e){alert(e)}if(null!=acccode.value||""!=acccode){var ajaxURL=pathName+"my-fmaccount/getFMUnitDetailsForUpdateProfile";$.ajax({type:"POST",url:ajaxURL,contentType:"text/xml",data:"acctNbr="+acccode,success:function(xmlDoc){var companyAddressLine1=($(xmlDoc).find("companyName").text().trim(),$(xmlDoc).find("companyAddressLine1").text().trim()),companyAddressLine2=$(xmlDoc).find("companyAddressLine2").text().trim(),companyCity=$(xmlDoc).find("companyCity").text().trim(),companyStateOrProvIsoCode=$(xmlDoc).find("companyStateOrProvIsoCode").text().trim(),companyCountryIsoCode=$(xmlDoc).find("companyCountryIsoCode").text().trim(),companyZipOrPostalCode=$(xmlDoc).find("companyZipOrPostalCode").text().trim();$("#contactAddress").val(companyAddressLine1),$("#contactAddress2").val(companyAddressLine2),$("#city").val(companyCity),$("state").val(companyStateOrProvIsoCode).change(),$("pcountry").val(companyCountryIsoCode).change(),$("#zip").val(companyZipOrPostalCode)},error:function(e){}})}}}function GarageRewardMemberQuestion(obj){toggleGarageRewardPromoCode(obj),obj.checked?($("#form-addresssamecheckbox").show(),$("#tech-rewards-questions").show(),enableHomeaddress()):($("#form-addresssamecheckbox").hide(),$("#tech-rewards-questions").hide(),disableHomeaddress())}function onAboutShop(obj){"Reg003"==$(obj).val()?$(".shopBanner").show():$(".shopBanner").hide()}function disableHomeaddress(){$(".form-address1").hide(),$(".form-address2").hide(),$(".form-country").hide(),$(".form-state").hide(),$(".form-zipcode").hide(),$(".form-phonenumber").hide(),$(".form-city").hide(),$("#contactAddress").prop("required",!1),$("#city").prop("required",!1),$("#pcountry").prop("required",!1),$("#state").prop("required",!1),$("#zip").prop("required",!1),$("#phone").prop("required",!1)}function enableHomeaddress(){$(".form-address1").show(),$(".form-address2").show(),$(".form-country").show(),$(".form-state").show(),$(".form-zipcode").show(),$(".form-phonenumber").show(),$(".form-city").show(),$("#contactAddress").prop("required",!0),$("#city").prop("required",!0),$("#pcountry").prop("required",!0),$("#state").prop("required",!0),$("#zip").prop("required",!0),$("#phone").prop("required",!0)}function validateRegistration(obj){var value=obj.value;obj.id;if("email"==obj.id)return!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(value)||(alert("You have entered an invalid email address!"),!1);if("setnewpwd"==obj.id)return!(value.length<6)||(alert("minimum characters should be 6"),!1);if("confPassword"==obj.id)return value==document.registrationB2b.setnewpwd.value||(alert("password mismatch"),!1);if("city"==obj.id||"companyCity"==obj.id){var letters=/^[A-Za-z]+$/;return!!value.match(letters)||(alert("enter only characters"),!1)}if("zip"==obj.id||"companyZip"==obj.id){var regZipcode=/^([0-9]){5}(([ ]|[-])?([0-9]){4})?$/;return!!value.match(regZipcode)||(alert("enter the correct zip code"),!1)}if("phone"==obj.id||"companyPhone"==obj.id){var phoneno=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;if(value.match(phoneno))return!0;alert("enter valid phone number")}}function validateCountry(ucountry){return"Default"!=ucountry.value||(ucountry.focus(),!1)}function validateState(ustate){return"Default"!=ustate.value}function addresssame(val){if(val.checked)return document.getElementById("contactAddress").value=document.getElementById("companyAddress").value,document.getElementById("contactAddress2").value=document.getElementById("companyAddress2").value,document.getElementById("city").value=document.getElementById("companyCity").value,document.getElementById("state").value=document.getElementById("companyState").value,document.getElementById("zip").value=document.getElementById("companyZip").value,document.getElementById("pcountry").value=document.getElementById("Ccountry").value,document.getElementById("phone").value=document.getElementById("companyPhone").value,!0;document.getElementById("contactAddress").value=" ",document.getElementById("contactAddress2").value=" ",document.getElementById("city").value=" ",document.getElementById("state").value=" ",document.getElementById("zip").value=" ",document.getElementById("pcountry").value=" ",document.getElementById("phone").value=" ";var temp="Default";$("#state").val(temp),$("#pcountry").val(temp)}function showLms(val){val.checked?$(".forLoyaltyRewards").show():$(".forLoyaltyRewards").hide()}function getUnits(readOnly){try{readOnly=readOnly||!1;var acccode=$("#accNo").val(),selectedTest=$("select#whatdescribes :selected").text();if(selectedTest.toLowerCase().startsWith("F-M Employee".toLowerCase())){var errorId="errorEmployeeId";if(acccode=$("#employeeId").val(),!acccode.toLowerCase().startsWith("SUS".toLowerCase())&&!acccode.toLowerCase().startsWith("SCA".toLowerCase()))return document.getElementById(errorId).innerHTML="Please enter a valid Employee ID",!1;document.getElementById(errorId).innerHTML=""}if(!(selectedTest.startsWith("Repair")||selectedTest.startsWith("Technician")||selectedTest.startsWith("Student")||selectedTest.startsWith("Consumer"))){var email=$("#email").val(),substring="@federalmogul.com";null!==acccode&&""!==acccode||email.indexOf(substring)>-1&&(acccode=FM_ACCOUNTCODE_INTERNAL_USERS,$(".form-roles").hide());var currentPath=window.location.href,pathName="";try{pathName=currentPath.indexOf("/USD")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/USD")+5):currentPath.indexOf("?site")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/?site")+1)+currentPath.substring(currentPath.lastIndexOf("site=")+5,currentPath.length)+"/en/USD/":window.location.href+"federalmogul/en/USD/"}catch(e){alert(e)}null==acccode.value&&""==acccode||$.ajax({type:"POST",url:pathName+"/registration/getFMUnitDetails",data:"accvalue="+acccode+"&readOnly="+readOnly,success:function(response){$("#companyDiv").html(response)},error:function(e){}})}}catch(err){}}function afterGetUnits(){var compName=$("#companyName").val();null===compName||""===compName?document.getElementById("errorAccCode").innerHTML="Please enter a valid Account Code":document.getElementById("errorAccCode").innerHTML=" "}function searchUnits(){var currentPath=window.location.href,pathName="";try{pathName=currentPath.indexOf("/USD")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/USD")+5):currentPath.indexOf("?site")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/?site")+1)+currentPath.substring(currentPath.lastIndexOf("site=")+5,currentPath.length)+"/en/USD/":window.location.href+"federalmogul/en/USD/"}catch(e){alert(e)}var acccode=$("#parentUnit").val();null===acccode.value&&""===acccode||$.ajax({type:"POST",url:pathName+"my-account/manage-users/searchParentUnits",data:"accvalue="+acccode,async:!1,cache:!1,dataType:"html",success:function(response){$("#livesearch").show(),$("#livesearch").html(response)},error:function(e){}})}function hideUnitsList(obj){var selectedAccountId=obj.value;document.getElementById("parentUnit").value=selectedAccountId,$("#livesearch").hide()}function setParentUnits(){var whatdescribes=$("#whatdescribes").val(),optVal=$("select#whatdescribes :selected").text();if(optVal.toLowerCase().startsWith("CSR".toLowerCase())&&($(".create-fmroles").hide(),$(".form-alerts").hide(),document.getElementById("parentUnit").value=FM_ACCOUNTCODE_INTERNAL_USERS,document.getElementById("parentUnit").disabled=!0),"JOBBERPARTSTORE"==optVal||"SHOPOWNERTECHNICIAN"==optVal||"REPAIRSHOPOWNER"==optVal||"TECHNICIAN"==optVal?($(".form-alerts").show(),$(".create-fmroles").hide()):optVal.toLowerCase().startsWith("CSR".toLowerCase())||($(".form-alerts").hide(),$(".create-fmroles").show(),document.getElementById("parentUnit").disabled=!1,document.getElementById("parentUnit").value=""),"CONSUMERDIFM"==whatdescribes||"CONSUMERDIY"==whatdescribes||"CONSUMER"==whatdescribes){var currentPath=window.location.href,pathName="";try{pathName=currentPath.indexOf("/USD")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/USD")+5):currentPath.indexOf("?site")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/?site")+1)+currentPath.substring(currentPath.lastIndexOf("site=")+5,currentPath.length)+"/en/USD/":window.location.href+"federalmogul/en/USD/"}catch(e){alert(e)}$.ajax({type:"POST",url:pathName+"my-account/manage-users/create/setParentUnit",data:"whatdescribes="+whatdescribes,success:function(response){$("#parentDiv").html(response)},error:function(e){alert("Error"+e)}})}}function getRegions(){var country=$("#pcountry").val();if(null!=country.value||""!=country){var currentPath=window.location.href,pathName="";try{pathName=currentPath.indexOf("/USD")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/USD")+5):currentPath.indexOf("?site")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/?site")+1)+currentPath.substring(currentPath.lastIndexOf("site=")+5,currentPath.length)+"/en/USD/":window.location.href+"federalmogul/en/USD/"}catch(e){alert(e)}$.ajax({type:"POST",url:pathName+"registration/getStates",data:"selectedCountry="+country,success:function(response){$("#userState").html(response)},error:function(e){}})}}function getRegionsForaddedit(){var country=$("#Country").val();if(null!=country.value||""!=country){var currentPath=window.location.href,pathName="";try{pathName=currentPath.indexOf("/USD")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/USD")+5):currentPath.indexOf("?site")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/?site")+1)+currentPath.substring(currentPath.lastIndexOf("site=")+5,currentPath.length)+"/en/USD/":window.location.href+"federalmogul/en/USD/"}catch(e){alert(e)}$.ajax({type:"POST",url:pathName+"my-fmaccount/getStatesForAddEdit",data:"selectedCountry="+country,success:function(response){$("#addEditState").html(response)},error:function(e){}})}}function getCompanyStates(){var country=$("#Ccountry").val();if(null!=country.value||""!=country){var currentPath=window.location.href,pathName="";try{pathName=currentPath.indexOf("/USD")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/USD")+5):currentPath.indexOf("?site")!=-1?currentPath.substring(0,currentPath.lastIndexOf("/?site")+1)+currentPath.substring(currentPath.lastIndexOf("site=")+5,currentPath.length)+"/en/USD/":window.location.href+"federalmogul/en/USD/"}catch(e){alert(e)}$.ajax({type:"POST",url:pathName+"registration/getCompanyStates",data:"selectedCountry="+country,success:function(response){$("#unitState").html(response)},error:function(e){}})}}function retainRegistrationValues(){$("div.panel-frm-filled").show();var optVal=$("#sessionusertype").val();"CONSUMERDIY"==optVal||"CONSUMERDIFM"==optVal||"CONSUMER"==optVal?($(".form-accCode").hide(),$(".form-taxid").hide(),$(".form-B2Cbody").hide(),$(".form-B2Bbody").hide(),$(".form-secretque").hide(),$(".form-secretans").hide(),$(".form-sameaddress").hide(),$(".form-city").show(),$(".form-state").show(),$(".form-zipcode").show(),$(".form-regdetailsheader").show(),$(".form-b2bSub").hide(),$(".form-b2cSub").show(),$(".forLoyaltyRewards").hide(),$("#tech-rewards-questions").hide(),$(".forReferBy").hide(),document.registrationB2b.email.focus(),document.getElementById("taxid").required=!1,document.getElementById("accNo").required=!1,document.getElementById("companyName").required=!1,document.getElementById("companyAddress").required=!1,document.getElementById("companyCity").required=!1,document.getElementById("Ccountry").required=!1,document.getElementById("companyState").required=!1,document.getElementById("companyZip").required=!1,document.getElementById("companyPhone").required=!1):"JOBBERPARTSTORE"==optVal?($(".form-accCode").hide(),$(".form-B2Cbody").hide(),$(".form-reg").hide(),$(".form-IsUser").hide(),$(".form-regdetailsheader").show(),$(".form-taxid").show(),$(".form-taxdoc").show(),$(".form-B2Bbody").show(),$(".form-city").show(),$(".form-state").show(),$(".form-zipcode").show(),$(".form-b2bSub").show(),$(".form-b2cSub").hide(),showAstricForDisabledBoxes(),$("#companyAddress").prop("disabled",!1),$("#companyAddress2").prop("disabled",!1),$("#companyCity").prop("disabled",!1),$("#companyState").prop("disabled",!1),$("#companyZip").prop("disabled",!1),$("#Ccountry").prop("disabled",!1),$("#companyPhone").prop("disabled",!1),$("#companyFax").prop("disabled",!1),$("#companyName").prop("disabled",!1),$(".forLoyaltyRewards").hide(),$("#tech-rewards-questions").hide(),$(".forReferBy").hide(),document.registrationB2b.taxid.focus(),document.getElementById("accNo").required=!1,$("#form-addresssamecheckbox").show()):"SHOPOWNERTECHNICIAN"==optVal||"REPAIRSHOPOWNER"==optVal||"TECHNICIAN"==optVal?($(".form-accCode").hide(),$(".form-B2Cbody").hide(),$(".form-reg").hide(),$(".form-IsUser").hide(),$(".form-regdetailsheader").show(),$(".form-taxid").hide(),$(".form-taxdoc").show(),$(".form-B2Bbody").show(),$(".form-city").show(),$(".form-state").show(),$(".form-zipcode").show(),$(".form-b2bSub").show(),$(".form-b2cSub").hide(),showAstricForDisabledBoxes(),$("#companyAddress").prop("disabled",!1),$("#companyAddress2").prop("disabled",!1),$("#companyCity").prop("disabled",!1),$("#companyState").prop("disabled",!1),$("#companyZip").prop("disabled",!1),$("#Ccountry").prop("disabled",!1),$("#companyPhone").prop("disabled",!1),$("#companyFax").prop("disabled",!1),$("#companyName").prop("disabled",!1),$(".forLoyaltyRewards").hide(),$("#tech-rewards-questions").hide(),$(".forReferBy").hide(),disableHomeaddress(),document.registrationB2b.taxid.focus(),document.getElementById("accNo").required=!1):"WAREHOUSEDISTRIBUTORLIGHTVEHICLE"!=optVal&&"WAREHOUSEDISTRIBUTORCOMMERCIALVEHICLE"!=optVal&&"RETAILER"!=optVal&&"SALESREP"!=optVal||("SALESREP"==optVal?($("#accCodeToolTip").attr("data-original-title","Account code must start with SUS/SCA"),$(".form-reg").hide()):($("#accCodeToolTip").attr("data-original-title","Do not have an Account Code? Check with Customer Care"),$(".form-reg").show()),$(".form-taxid").hide(),$(".form-taxdoc").hide(),$(".form-IsUser").show(),$(".form-B2Bbody").show(),$(".form-B2Cbody").hide(),$(".form-b2bSub").hide(),$(".form-b2cSub").hide(),$(".form-secretque").show(),$(".form-secretans").show(),$(".form-sameaddress").show(),$(".form-city").show(),$(".form-state").show(),$(".form-zipcode").show(),$(".forLoyaltyRewards").hide(),$("#tech-rewards-questions").hide(),$(".forReferBy").hide(),$(".form-regdetailsheader").show(),hideAstricForDisabledBoxes(),document.registrationB2b.accNo.focus(),document.getElementById("taxid").required=!1,$("#form-addresssamecheckbox").show()),showLmsonload();var isGarageRewardMember=$("#GarageRewardMember");!isGarageRewardMember.is(":checked")||"SHOPOWNERTECHNICIAN"!=optVal&&"REPAIRSHOPOWNER"!=optVal&&"TECHNICIAN"!=optVal?($("#tech-rewards-questions").hide(),$("#form-ifGarageGuruChecked").hide(),$("#form-addresssamecheckbox").hide()):($("#tech-rewards-questions").show(),$("#form-ifGarageGuruChecked").show(),$("#form-addresssamecheckbox").show(),enableHomeaddress());var abtShop=$("#aboutShop").val();"Member of a banner program"==abtShop?$(".shopBanner").show():$(".shopBanner").hide();var isGarage=$("input:radio[name=loyaltySignup]:checked").val();"Yes"==isGarage?$(".forLoyaltyRewards").show():$(".forLoyaltyRewards").hide()}function addeditUser(){var optVal=$("select#whatdescribes :selected").text();optVal.toLowerCase().startsWith("CSR".toLowerCase())&&($(".create-fmroles").hide(),$(".form-alerts").hide(),document.getElementById("parentUnit").value=FM_ACCOUNTCODE_INTERNAL_USERS,document.getElementById("parentUnit").disabled=!0),"JOBBERPARTSTORE"==optVal||"SHOPOWNERTECHNICIAN"==optVal?($(".form-alerts").show(),$(".create-fmroles").hide()):optVal.toLowerCase().startsWith("CSR".toLowerCase())||($(".form-alerts").hide(),$(".create-fmroles").show())}function hideAstricForDisabledBoxes(){$("#companyPhoneSpan").hide(),$("#companyZipSpan").hide(),$("#companyStateSpan").hide(),$("#CcountrySpan").hide(),$("#companyCitySpan").hide(),$("#companyAddressSpan").hide(),$("#companyNameSpan").hide()}function showAstricForDisabledBoxes(){$("#companyPhoneSpan").show(),$("#companyZipSpan").show(),$("#companyStateSpan").show(),$("#CcountrySpan").show(),$("#companyCitySpan").show(),$("#companyAddressSpan").show(),$("#companyNameSpan").show()}function getCountry(){var state=$("#state").val();state.startsWith("US")?document.getElementById("pcountry").value="US":state.startsWith("CA")&&(document.getElementById("pcountry").value="CA")}function getCompanyCountry(){var state=$("#companyState").val();state.startsWith("US")?document.getElementById("Ccountry").value="US":state.startsWith("CA")&&(document.getElementById("Ccountry").value="CA")}function showLmsonload(){var status=$("#rewards");status.is(":checked")?$(".forLoyaltyRewards").show():$(".forLoyaltyRewards").hide()}function checkIsLoyaltyopted(){$("#form-ifGarageGuruChecked").hide(),$("#form-addresssamecheckbox").hide(),$("#tech-rewards-questions").hide(),disableHomeaddress()}function setunitsCreatePage(){var email=$("#email").val(),acc=$("#parentUnit").val(),substring="@federalmogul.com";if($(".create-fmroles").show(),null===acc||""===acc||acc===FM_ACCOUNTCODE_INTERNAL_USERS){if(email.indexOf(substring)>-1){var acccode=FM_ACCOUNTCODE_INTERNAL_USERS;$("#parentUnit").val(acccode),$(".create-fmroles").hide()}}else(acc.toLowerCase().startsWith("SUS".toLowerCase())||acc.toLowerCase().startsWith("SCA".toLowerCase()))&&$(".create-fmroles").hide()}function validateConfirmEmail(){var email=$("#email").val(),confirmEmail=$("#confirmEmail").val();return email&&confirmEmail&&email.trim().toLowerCase()!==confirmEmail.trim().toLowerCase()?(document.getElementById("errorConfirmEmail").innerHTML="Email addresses do not match.",!1):void(document.getElementById("errorConfirmEmail").innerHTML="")}function validateEmail(){var email=$("#email").val(),domainstring="@federalmogul.com";if(email.length>0){if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)){var optVal=$("select#whatdescribes :selected").text();return optVal.toLowerCase().startsWith("F-M Employee".toLowerCase())?email.indexOf(domainstring)>-1?(document.getElementById("errorEmail").innerHTML="",!0):(document.getElementById("errorEmail").innerHTML="Please enter  valid Email Address",email.focus(),!1):(document.getElementById("errorEmail").innerHTML="",!0)}return document.getElementById("errorEmail").innerHTML="Please enter  valid Email Address",email.focus(),!1}}function validatePassword(){var pwd=$("#setnewpwd").val();pwd.length>0&&(/^(?=.*?[0-9])(?=.*[A-Z]).{8,}$/.test(pwd)?document.getElementById("errorPwd").innerHTML="":document.getElementById("errorPwd").innerHTML="Please enter  valid Password")}function validateAccount(){var selectedTest=$("select#whatdescribes :selected").text(),codeId=selectedTest.toLowerCase().startsWith("F-M Employee".toLowerCase())?"#employeeId":"#accNo",errorId=selectedTest.toLowerCase().startsWith("F-M Employee".toLowerCase())?"errorEmployeeId":"errorAccCode",accountNo=$(codeId).val();if(accountNo.length>0){var optVal=$("select#whatdescribes :selected").text();optVal.toLowerCase().startsWith("F-M Employee".toLowerCase())&&(acccode.toLowerCase().startsWith("SUS".toLowerCase())&&acccode.toLowerCase().startsWith("SCA".toLowerCase())?document.getElementById(errorId).innerHTML="":document.getElementById(errorId).innerHTML="Please enter a valid Employee ID")}else document.getElementById(errorId).innerHTML=""}function validateConfPassword(){var pwd=$("#setnewpwd").val(),cpwd=$("#confPassword").val();return pwd!=cpwd?(document.getElementById("errorCpwd").innerHTML="Your Passwords do not match.",!1):(document.getElementById("errorCpwd").innerHTML="",!0)}function validateCSREmail(){var email=$("#email").val(),domainstring="@federalmogul.com";if(email.length>0){var optVal=$("select#whatdescribes :selected").text();if(optVal.toLowerCase().startsWith("CSR".toLowerCase()))return email.indexOf(domainstring)>-1?(document.getElementById("errorEmail").innerHTML="",!0):(document.getElementById("errorEmail").innerHTML="Please enter  valid Email Address",email.focus(),!1);document.getElementById("errorEmail").innerHTML=""}}function resetDisabledCompanyFields(){document.getElementById("companyAddress").value="",document.getElementById("companyName").value="",document.getElementById("companyAddress2").value="",document.getElementById("companyState").value="",document.getElementById("companyZip").value="",document.getElementById("Ccountry").value="",document.getElementById("companyPhone").value="",document.getElementById("companyFax").value="",document.getElementById("companyCity").value=""}function displayFieldsForUserType(optVal){switch($(".form-accCode").hide(),$(".form-employeeId").hide(),$(".form-b2bSub").hide(),$(".form-b2bRegbody").hide(),$(".form-roles").hide(),$("#registration-garage-rewards").hide(),$(".form-address1").hide(),$(".form-address2").hide(),$(".form-city").hide(),$(".form-country").hide(),$(".form-state").hide(),$(".form-zipcode").hide(),$("#registration-referred-by").hide(),optVal){case"WAREHOUSEDISTRIBUTORLIGHTVEHICLE":$(".form-accCode").show(),$(".form-b2bSub").show(),$(".form-b2bRegbody").show(),$(".form-roles").show();break;case"WAREHOUSEDISTRIBUTORCOMMERCIALVEHICLE":$(".form-accCode").show(),$(".form-b2bSub").show(),$(".form-b2bRegbody").show(),$(".form-roles").show();break;case"RETAILER":$(".form-accCode").show(),$(".form-b2bSub").show(),$(".form-b2bRegbody").show(),$(".form-roles").show();break;case"JOBBERPARTSTORE":$(".form-accCode").show(),$(".form-b2bSub").show(),$(".form-b2bRegbody").show(),$(".form-roles").show();break;case"SALESREP":$(".form-employeeId").show(),$(".form-b2bRegbody").show();break;case"SHOPOWNERTECHNICIAN":case"REPAIRSHOPOWNER":case"TECHNICIAN":case"STUDENT":$(".form-b2bSub").show(),$("#registration-garage-rewards").show(),$(".form-address1").show(),$(".form-address2").show(),$(".form-city").show(),$(".form-country").show(),$(".form-state").show(),$(".form-zipcode").show(),$("#registration-referred-by").show();break;case"CONSUMER":$(".form-b2bSub").show(),$(".form-country").show(),$(".form-zipcode").show();break;default:$("#registration-account-details").hide()}}function openModal(){try{document.getElementById("modal").style.display="block",document.getElementById("fade").style.display="block"}catch(e){}}function closeModal(){try{document.getElementById("modal").style.display="none",document.getElementById("fade").style.display="none"}catch(e){}}function GetXmlHttpObject(){var a=null;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return alert("Your browser broke!"),!1}}}return a}if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(+function($){"use strict";var version=$.fn.jquery.split(" ")[0].split(".");if(version[0]<2&&version[1]<9||1==version[0]&&9==version[1]&&version[2]<1||version[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one("bsTransitionEnd",function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})}var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.3.7",Alert.TRANSITION_DURATION=150,Alert.prototype.close=function(e){function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$("#"===selector?[]:selector);e&&e.preventDefault(),$parent.length||($parent=$this.closest(".alert")),$parent.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement())};var old=$.fn.alert;$.fn.alert=Plugin,$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==typeof option&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})}var Button=function(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1};Button.VERSION="3.3.7",Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",null==data.resetText&&$el.data("resetText",$el[val]()),setTimeout($.proxy(function(){$el[val](null==data[state]?this.options[state]:data[state]),
"loadingText"==state?(this.isLoading=!0,$el.addClass(d).attr(d,d).prop(d,!0)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d).prop(d,!1))},this),0)},Button.prototype.toggle=function(){var changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");"radio"==$input.prop("type")?($input.prop("checked")&&(changed=!1),$parent.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==$input.prop("type")&&($input.prop("checked")!==this.$element.hasClass("active")&&(changed=!1),this.$element.toggleClass("active")),$input.prop("checked",this.$element.hasClass("active")),changed&&$input.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=Plugin,$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target).closest(".btn");Plugin.call($btn,"toggle"),$(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),$btn.is("input,button")?$btn.trigger("focus"):$btn.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){$(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})}var Carousel=function(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.3.7",Carousel.TRANSITION_DURATION=600,Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},Carousel.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getItemIndex=function(item){return this.$items=item.parent().children(".item"),this.$items.index(item||this.$active)},Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active),willWrap="prev"==direction&&0===activeIndex||"next"==direction&&activeIndex==this.$items.length-1;if(willWrap&&!this.options.wrap)return active;var delta="prev"==direction?-1:1,itemIndex=(activeIndex+delta)%this.$items.length;return this.$items.eq(itemIndex)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(pos>this.$items.length-1||pos<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",this.$items.eq(pos))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){if(!this.sliding)return this.slide("next")},Carousel.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||this.getItemForDirection(type,$active),isCycling=this.interval,direction="next"==type?"left":"right",that=this;if($next.hasClass("active"))return this.sliding=!1;var relatedTarget=$next[0],slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if(this.$element.trigger(slideEvent),!slideEvent.isDefaultPrevented()){if(this.sliding=!0,isCycling&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});return $.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger(slidEvent)),isCycling&&this.cycle(),this}};var old=$.fn.carousel;$.fn.carousel=Plugin,$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this};var clickHandler=function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if($target.hasClass("carousel")){var options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),Plugin.call($target,options),slideIndex&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}};$(document).on("click.bs.carousel.data-api","[data-slide]",clickHandler).on("click.bs.carousel.data-api","[data-slide-to]",clickHandler),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery),+function($){"use strict";function getTargetFromTrigger($trigger){var href,target=$trigger.attr("data-target")||(href=$trigger.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");return $(target)}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);!data&&options.toggle&&/show|hide/.test(option)&&(options.toggle=!1),data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})}var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.$trigger=$('[data-toggle="collapse"][href="#'+element.id+'"],[data-toggle="collapse"][data-target="#'+element.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};Collapse.VERSION="3.3.7",Collapse.TRANSITION_DURATION=350,Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var activesData,actives=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(actives&&actives.length&&(activesData=actives.data("bs.collapse"),activesData&&activesData.transitioning))){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){actives&&actives.length&&(Plugin.call(actives,"hide"),activesData||actives.data("bs.collapse",null));var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])}}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return $.support.transition?void this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION):complete.call(this)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element);this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()},Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass("in");$element.attr("aria-expanded",isOpen),$trigger.toggleClass("collapsed",!isOpen).attr("aria-expanded",isOpen)};var old=$.fn.collapse;$.fn.collapse=Plugin,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this);$this.attr("data-target")||e.preventDefault();var $target=getTargetFromTrigger($this),data=$target.data("bs.collapse"),option=data?"toggle":$this.data();Plugin.call($target,option)})}(jQuery),+function($){"use strict";function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function clearMenus(e){e&&3===e.which||($(backdrop).remove(),$(toggle).each(function(){var $this=$(this),$parent=getParent($this),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&(e&&"click"==e.type&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target)||($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||($this.attr("aria-expanded","false"),$parent.removeClass("open").trigger($.Event("hidden.bs.dropdown",relatedTarget)))))}))}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})}var backdrop=".dropdown-backdrop",toggle='[data-toggle="dropdown"]',Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.3.7",Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",clearMenus);var relatedTarget={relatedTarget:this};if($parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget)),e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true"),$parent.toggleClass("open").trigger($.Event("shown.bs.dropdown",relatedTarget))}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive&&27!=e.which||isActive&&27==e.which)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");var desc=" li:not(.disabled):visible a",$items=$parent.find(".dropdown-menu"+desc);if($items.length){var index=$items.index(e.target);38==e.which&&index>0&&index--,40==e.which&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus")}}}};var old=$.fn.dropdown;$.fn.dropdown=Plugin,$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",Dropdown.prototype.keydown)}(jQuery),+function($){"use strict";function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}var Modal=function(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.VERSION="3.3.7",Modal.TRANSITION_DURATION=300,Modal.BACKDROP_TRANSITION_DURATION=150,Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){that.$element.one("mouseup.dismiss.bs.modal",function(e){$(e.target).is(that.$element)&&(that.ignoreBackdropClick=!0)})}),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),that.adjustDialog(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in"),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},Modal.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$body.removeClass("modal-open"),that.resetAdjustments(),that.resetScrollbar(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+animate).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else callback&&callback()},Modal.prototype.handleUpdate=function(){this.adjustDialog()},Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})},Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth,this.scrollbarWidth=this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,option,this)})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]())})}var Tooltip=function(element,options){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",element,options)};Tooltip.VERSION="3.3.7",Tooltip.TRANSITION_DURATION=150,Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){if(this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focusin",eventOut="hover"==trigger?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);return self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),obj instanceof $.Event&&(self.inState["focusin"==obj.type?"focus":"hover"]=!0),self.tip().hasClass("in")||"in"==self.hoverState?void(self.hoverState="in"):(clearTimeout(self.timeout),self.hoverState="in",self.options.delay&&self.options.delay.show?void(self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show)):self.show())},Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState)if(this.inState[key])return!0;return!1},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),obj instanceof $.Event&&(self.inState["focusout"==obj.type?"focus":"hover"]=!1),!self.isInStateTrue())return clearTimeout(self.timeout),self.hoverState="out",self.options.delay&&self.options.delay.hide?void(self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide)):self.hide()},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this,$tip=this.tip(),tipId=this.getUID(this.type);this.setContent(),$tip.attr("id",tipId),this.$element.attr("aria-describedby",tipId),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,viewportDim=this.getPosition(this.$viewport);placement="bottom"==placement&&pos.bottom+actualHeight>viewportDim.bottom?"top":"top"==placement&&pos.top-actualHeight<viewportDim.top?"bottom":"right"==placement&&pos.right+actualWidth>viewportDim.width?"left":"left"==placement&&pos.left-actualWidth<viewportDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type),that.hoverState=null,"out"==prevHoverState&&that.leave(that)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top+=marginTop,offset.left+=marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;"top"==placement&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var isVertical=/top|bottom/.test(placement),arrowDelta=isVertical?2*delta.left-width+actualWidth:2*delta.top-height+actualHeight,arrowOffsetPosition=isVertical?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)},Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?"left":"top",50*(1-delta/dimension)+"%").css(isVertical?"top":"left","")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(callback){function complete(){"in"!=that.hoverState&&$tip.detach(),that.$element&&that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type),callback&&callback()}var that=this,$tip=$(this.$tip),e=$.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return $tip.removeClass("in"),$.support.transition&&$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete(),this.hoverState=null,this},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0],isBody="BODY"==el.tagName,elRect=el.getBoundingClientRect();null==elRect.width&&(elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top}));var isSvg=window.SVGElement&&el instanceof window.SVGElement,elOffset=isBody?{top:0,left:0}:isSvg?null:$element.offset(),scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()},outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},elRect,scroll,outerDims,elOffset)},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.right&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.getUID=function(prefix){do prefix+=~~(1e6*Math.random());while(document.getElementById(prefix));return prefix},Tooltip.prototype.tip=function(){if(!this.$tip&&(this.$tip=$(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=this;e&&(self=$(e.currentTarget).data("bs."+this.type),self||(self=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,self))),e?(self.inState.click=!self.inState.click,self.isInStateTrue()?self.enter(self):self.leave(self)):self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout),this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type),that.$tip&&that.$tip.detach(),that.$tip=null,that.$arrow=null,that.$viewport=null,
that.$element=null})};var old=$.fn.tooltip;$.fn.tooltip=Plugin,$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]())})}var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.3.7",Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof content?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var old=$.fn.popover;$.fn.popover=Plugin,$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery),+function($){"use strict";function ScrollSpy(element,options){this.$body=$(document.body),this.$scrollElement=$($(element).is(document.body)?window:element),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this)),this.refresh(),this.process()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==typeof option&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})}ScrollSpy.VERSION="3.3.7",ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},ScrollSpy.prototype.refresh=function(){var that=this,offsetMethod="offset",offsetBase=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),$.isWindow(this.$scrollElement[0])||(offsetMethod="position",offsetBase=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0]),that.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.getScrollHeight(),maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(this.scrollHeight!=scrollHeight&&this.refresh(),scrollTop>=maxScroll)return activeTarget!=(i=targets[targets.length-1])&&this.activate(i);if(activeTarget&&scrollTop<offsets[0])return this.activeTarget=null,this.clear();for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(void 0===offsets[i+1]||scrollTop<offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,this.clear();var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate.bs.scrollspy")},ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var old=$.fn.scrollspy;$.fn.scrollspy=Plugin,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})}var Tab=function(element){this.element=$(element)};Tab.VERSION="3.3.7",Tab.TRANSITION_DURATION=150,Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");if(selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),!$this.parent("li").hasClass("active")){var $previous=$ul.find(".active:last a"),hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]}),showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]});if($previous.trigger(hideEvent),$this.trigger(showEvent),!showEvent.isDefaultPrevented()&&!hideEvent.isDefaultPrevented()){var $target=$(selector);this.activate($this.closest("li"),$ul),this.activate($target,$target.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]}),$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})}}},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu").length&&element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this};var clickHandler=function(e){e.preventDefault(),Plugin.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==typeof option&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})}var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};Affix.VERSION="3.3.7",Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0,target:window},Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop(),position=this.$element.offset(),targetHeight=this.$target.height();if(null!=offsetTop&&"top"==this.affixed)return scrollTop<offsetTop&&"top";if("bottom"==this.affixed)return null!=offsetTop?!(scrollTop+this.unpin<=position.top)&&"bottom":!(scrollTop+targetHeight<=scrollHeight-offsetBottom)&&"bottom";var initializing=null==this.affixed,colliderTop=initializing?scrollTop:position.top,colliderHeight=initializing?targetHeight:height;return null!=offsetTop&&scrollTop<=offsetTop?"top":null!=offsetBottom&&colliderTop+colliderHeight>=scrollHeight-offsetBottom&&"bottom"},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var height=this.$element.height(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom,scrollHeight=Math.max($(document).height(),$(document.body).height());"object"!=typeof offset&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top(this.$element)),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom(this.$element));var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom);if(this.affixed!=affix){null!=this.unpin&&this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:""),e=$.Event(affixType+".bs.affix");if(this.$element.trigger(e),e.isDefaultPrevented())return;this.affixed=affix,this.unpin="bottom"==affix?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix","affixed")+".bs.affix")}"bottom"==affix&&this.$element.offset({top:scrollHeight-height-offsetBottom})}};var old=$.fn.affix;$.fn.affix=Plugin,$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},null!=data.offsetBottom&&(data.offset.bottom=data.offsetBottom),null!=data.offsetTop&&(data.offset.top=data.offsetTop),Plugin.call($spy,data)})})}(jQuery),new function(settings){var $separator=settings.separator||"&",$spaces=settings.spaces!==!1,$prefix=(settings.suffix===!1?"":"[]",settings.prefix!==!1),$hash=$prefix?settings.hash===!0?"#":"?":"",$numbers=settings.numbers!==!1;jQuery.query=new function(){var is=function(o,t){return void 0!=o&&null!==o&&(!t||o.constructor==t)},parse=function(path){for(var m,rx=/\[([^[]*)\]/g,match=/^([^[]+)(\[.*\])?$/.exec(path),base=match[1],tokens=[];m=rx.exec(match[2]);)tokens.push(m[1]);return[base,tokens]},set=function(target,tokens,value){var token=tokens.shift();if("object"!=typeof target&&(target=null),""===token)if(target||(target=[]),is(target,Array))target.push(0==tokens.length?value:set(null,tokens.slice(0),value));else if(is(target,Object)){for(var i=0;null!=target[i++];);target[--i]=0==tokens.length?value:set(target[i],tokens.slice(0),value)}else target=[],target.push(0==tokens.length?value:set(null,tokens.slice(0),value));else if(token&&token.match(/^\s*[0-9]+\s*$/)){var index=parseInt(token,10);target||(target=[]),target[index]=0==tokens.length?value:set(target[index],tokens.slice(0),value)}else{if(!token)return value;var index=token.replace(/^\s*|\s*$/g,"");if(target||(target={}),is(target,Array)){for(var temp={},i=0;i<target.length;++i)temp[i]=target[i];target=temp}target[index]=0==tokens.length?value:set(target[index],tokens.slice(0),value)}return target},queryObject=function(a){var self=this;return self.keys={},a.queryObject?jQuery.each(a.get(),function(key,val){self.SET(key,val)}):jQuery.each(arguments,function(){var q=""+this;q=q.replace(/^[?#]/,""),q=q.replace(/[;&]$/,""),$spaces&&(q=q.replace(/[+]/g," ")),jQuery.each(q.split(/[&;]/),function(){var key=decodeURIComponent(this.split("=")[0]||""),val=decodeURIComponent(this.split("=")[1]||"");key&&($numbers&&(/^[+-]?[0-9]+\.[0-9]*$/.test(val)?val=parseFloat(val):/^[+-]?[0-9]+$/.test(val)&&(val=parseInt(val,10))),val=!val&&0!==val||val,val!==!1&&val!==!0&&"number"!=typeof val&&(val=val),self.SET(key,val))})}),self};return queryObject.prototype={queryObject:!0,has:function(key,type){var value=this.get(key);return is(value,type)},GET:function(key){if(!is(key))return this.keys;for(var parsed=parse(key),base=parsed[0],tokens=parsed[1],target=this.keys[base];null!=target&&0!=tokens.length;)target=target[tokens.shift()];return"number"==typeof target?target:target||""},get:function(key){var target=this.GET(key);return is(target,Object)?jQuery.extend(!0,{},target):is(target,Array)?target.slice(0):target},SET:function(key,val){var value=is(val)?val:null,parsed=parse(key),base=parsed[0],tokens=parsed[1],target=this.keys[base];return this.keys[base]=set(target,tokens.slice(0),value),this},set:function(key,val){return this.copy().SET(key,val)},REMOVE:function(key){return this.SET(key,null).COMPACT()},remove:function(key){return this.copy().REMOVE(key)},EMPTY:function(){var self=this;return jQuery.each(self.keys,function(key,value){delete self.keys[key]}),self},load:function(url){var hash=url.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),search=url.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new queryObject(url.length==search.length?"":search,url.length==hash.length?"":hash)},empty:function(){return this.copy().EMPTY()},copy:function(){return new queryObject(this)},COMPACT:function(){function build(orig){function add(o,key,value){is(o,Array)?o.push(value):o[key]=value}var obj="object"==typeof orig?is(orig,Array)?[]:{}:orig;return"object"==typeof orig&&jQuery.each(orig,function(key,value){return!is(value)||void add(obj,key,build(value))}),obj}return this.keys=build(this.keys),this},compact:function(){return this.copy().COMPACT()},toString:function(){var queryString=[],chunks=[],encode=function(str){return str+="",$spaces&&(str=str.replace(/ /g,"+")),encodeURIComponent(str)},addFields=function(arr,key,value){if(is(value)&&value!==!1){var o=[encode(key)];value!==!0&&(o.push("="),o.push(encode(value))),arr.push(o.join(""))}},build=function(obj,base){var newKey=function(key){return base&&""!=base?[base,"[",key,"]"].join(""):[key].join("")};jQuery.each(obj,function(key,value){"object"==typeof value?build(value,newKey(key)):addFields(chunks,newKey(key),value)})};return build(this.keys),chunks.length>0&&queryString.push($hash),queryString.push(chunks.join($separator)),queryString.join("")}},new queryObject(location.search,location.hash)}}(jQuery.query||{}),function(){var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1},__slice=[].slice;!function(root,factory){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function($){return factory($,root)}):factory(root.jQuery,root)}(this,function($,window){var $w,Context,Waypoint,allWaypoints,contextCounter,contextKey,contexts,isTouch,jQMethods,methods,resizeEvent,scrollEvent,waypointCounter,waypointKey,wp,wps;return $w=$(window),isTouch=__indexOf.call(window,"ontouchstart")>=0,allWaypoints={horizontal:{},vertical:{}},contextCounter=1,contexts={},contextKey="waypoints-context-id",resizeEvent="resize.waypoints",scrollEvent="scroll.waypoints",waypointCounter=1,waypointKey="waypoints-waypoint-ids",wp="waypoint",wps="waypoints",Context=function(){function Context($element){var _this=this;this.$element=$element,this.element=$element[0],this.didResize=!1,this.didScroll=!1,this.id="context"+contextCounter++,this.oldScroll={x:$element.scrollLeft(),y:$element.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[contextKey]=this.id,contexts[this.id]=this,$element.bind(scrollEvent,function(){var scrollHandler;if(!_this.didScroll&&!isTouch)return _this.didScroll=!0,scrollHandler=function(){return _this.doScroll(),_this.didScroll=!1},window.setTimeout(scrollHandler,$[wps].settings.scrollThrottle)}),$element.bind(resizeEvent,function(){var resizeHandler;if(!_this.didResize)return _this.didResize=!0,resizeHandler=function(){return $[wps]("refresh"),_this.didResize=!1},window.setTimeout(resizeHandler,$[wps].settings.resizeThrottle)})}return Context.prototype.doScroll=function(){var axes,_this=this;return axes={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!isTouch||axes.vertical.oldScroll&&axes.vertical.newScroll||$[wps]("refresh"),$.each(axes,function(aKey,axis){var direction,isForward,triggered;return triggered=[],isForward=axis.newScroll>axis.oldScroll,direction=isForward?axis.forward:axis.backward,$.each(_this.waypoints[aKey],function(wKey,waypoint){var _ref,_ref1;return axis.oldScroll<(_ref=waypoint.offset)&&_ref<=axis.newScroll?triggered.push(waypoint):axis.newScroll<(_ref1=waypoint.offset)&&_ref1<=axis.oldScroll?triggered.push(waypoint):void 0}),triggered.sort(function(a,b){return a.offset-b.offset}),isForward||triggered.reverse(),$.each(triggered,function(i,waypoint){if(waypoint.options.continuous||i===triggered.length-1)return waypoint.trigger([direction])})}),this.oldScroll={x:axes.horizontal.newScroll,y:axes.vertical.newScroll}},Context.prototype.refresh=function(){var axes,cOffset,isWin,_this=this;return isWin=$.isWindow(this.element),cOffset=this.$element.offset(),this.doScroll(),axes={horizontal:{contextOffset:isWin?0:cOffset.left,contextScroll:isWin?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:isWin?0:cOffset.top,contextScroll:isWin?0:this.oldScroll.y,contextDimension:isWin?$[wps]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},$.each(axes,function(aKey,axis){return $.each(_this.waypoints[aKey],function(i,waypoint){var adjustment,elementOffset,oldOffset,_ref,_ref1;if(adjustment=waypoint.options.offset,oldOffset=waypoint.offset,elementOffset=$.isWindow(waypoint.element)?0:waypoint.$element.offset()[axis.offsetProp],$.isFunction(adjustment)?adjustment=adjustment.apply(waypoint.element):"string"==typeof adjustment&&(adjustment=parseFloat(adjustment),waypoint.options.offset.indexOf("%")>-1&&(adjustment=Math.ceil(axis.contextDimension*adjustment/100))),waypoint.offset=elementOffset-axis.contextOffset+axis.contextScroll-adjustment,(!waypoint.options.onlyOnScroll||null==oldOffset)&&waypoint.enabled)return null!==oldOffset&&oldOffset<(_ref=axis.oldScroll)&&_ref<=waypoint.offset?waypoint.trigger([axis.backward]):null!==oldOffset&&oldOffset>(_ref1=axis.oldScroll)&&_ref1>=waypoint.offset?waypoint.trigger([axis.forward]):null===oldOffset&&axis.oldScroll>=waypoint.offset?waypoint.trigger([axis.forward]):void 0})})},Context.prototype.checkEmpty=function(){if($.isEmptyObject(this.waypoints.horizontal)&&$.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([resizeEvent,scrollEvent].join(" ")),delete contexts[this.id]},Context}(),Waypoint=function(){function Waypoint($element,context,options){var idList,_ref;options=$.extend({},$.fn[wp].defaults,options),"bottom-in-view"===options.offset&&(options.offset=function(){var contextHeight;return contextHeight=$[wps]("viewportHeight"),$.isWindow(context.element)||(contextHeight=context.$element.height()),contextHeight-$(this).outerHeight()}),this.$element=$element,this.element=$element[0],this.axis=options.horizontal?"horizontal":"vertical",this.callback=options.handler,this.context=context,this.enabled=options.enabled,this.id="waypoints"+waypointCounter++,this.offset=null,this.options=options,context.waypoints[this.axis][this.id]=this,allWaypoints[this.axis][this.id]=this,idList=null!=(_ref=this.element[waypointKey])?_ref:[],idList.push(this.id),this.element[waypointKey]=idList}return Waypoint.prototype.trigger=function(args){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,args),this.options.triggerOnce?this.destroy():void 0},Waypoint.prototype.disable=function(){return this.enabled=!1},Waypoint.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},Waypoint.prototype.destroy=function(){return delete allWaypoints[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},Waypoint.getWaypointsByElement=function(element){var all,ids;return(ids=element[waypointKey])?(all=$.extend({},allWaypoints.horizontal,allWaypoints.vertical),$.map(ids,function(id){return all[id]})):[]},Waypoint}(),methods={init:function(f,options){var _ref;return null==options&&(options={}),null==(_ref=options.handler)&&(options.handler=f),this.each(function(){var $this,context,contextElement,_ref1;return $this=$(this),contextElement=null!=(_ref1=options.context)?_ref1:$.fn[wp].defaults.context,$.isWindow(contextElement)||(contextElement=$this.closest(contextElement)),contextElement=$(contextElement),context=contexts[contextElement[0][contextKey]],context||(context=new Context(contextElement)),new Waypoint($this,context,options)}),$[wps]("refresh"),this},disable:function(){return methods._invoke.call(this,"disable")},enable:function(){return methods._invoke.call(this,"enable")},destroy:function(){return methods._invoke.call(this,"destroy")},prev:function(axis,selector){return methods._traverse.call(this,axis,selector,function(stack,index,waypoints){if(index>0)return stack.push(waypoints[index-1])})},next:function(axis,selector){return methods._traverse.call(this,axis,selector,function(stack,index,waypoints){if(index<waypoints.length-1)return stack.push(waypoints[index+1])})},_traverse:function(axis,selector,push){var stack,waypoints;return null==axis&&(axis="vertical"),null==selector&&(selector=window),waypoints=jQMethods.aggregate(selector),stack=[],this.each(function(){var index;return index=$.inArray(this,waypoints[axis]),push(stack,index,waypoints[axis])}),this.pushStack(stack)},_invoke:function(method){return this.each(function(){var waypoints;return waypoints=Waypoint.getWaypointsByElement(this),$.each(waypoints,function(i,waypoint){return waypoint[method](),!0})}),this}},$.fn[wp]=function(){var args,method;return method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],methods[method]?methods[method].apply(this,args):$.isFunction(method)?methods.init.apply(this,arguments):$.isPlainObject(method)?methods.init.apply(this,[null,method]):method?$.error("The "+method+" method does not exist in jQuery Waypoints."):$.error("jQuery Waypoints needs a callback function or handler option.")},$.fn[wp].defaults={context:window,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},jQMethods={refresh:function(){return $.each(contexts,function(i,context){return context.refresh()})},viewportHeight:function(){var _ref;return null!=(_ref=window.innerHeight)?_ref:$w.height()},aggregate:function(contextSelector){var collection,waypoints,_ref;return collection=allWaypoints,contextSelector&&(collection=null!=(_ref=contexts[$(contextSelector)[0][contextKey]])?_ref.waypoints:void 0),collection?(waypoints={horizontal:[],vertical:[]},$.each(waypoints,function(axis,arr){return $.each(collection[axis],function(key,waypoint){return arr.push(waypoint)}),arr.sort(function(a,b){return a.offset-b.offset}),waypoints[axis]=$.map(arr,function(waypoint){return waypoint.element}),waypoints[axis]=$.unique(waypoints[axis])}),waypoints):[]},above:function(contextSelector){return null==contextSelector&&(contextSelector=window),jQMethods._filter(contextSelector,"vertical",function(context,waypoint){return waypoint.offset<=context.oldScroll.y})},below:function(contextSelector){return null==contextSelector&&(contextSelector=window),jQMethods._filter(contextSelector,"vertical",function(context,waypoint){return waypoint.offset>context.oldScroll.y})},left:function(contextSelector){return null==contextSelector&&(contextSelector=window),jQMethods._filter(contextSelector,"horizontal",function(context,waypoint){return waypoint.offset<=context.oldScroll.x})},right:function(contextSelector){return null==contextSelector&&(contextSelector=window),jQMethods._filter(contextSelector,"horizontal",function(context,waypoint){return waypoint.offset>context.oldScroll.x})},enable:function(){return jQMethods._invoke("enable")},disable:function(){return jQMethods._invoke("disable")},destroy:function(){return jQMethods._invoke("destroy")},extendFn:function(methodName,f){return methods[methodName]=f},_invoke:function(method){var waypoints;return waypoints=$.extend({},allWaypoints.vertical,allWaypoints.horizontal),$.each(waypoints,function(key,waypoint){return waypoint[method](),!0})},_filter:function(selector,axis,test){var context,waypoints;return(context=contexts[$(selector)[0][contextKey]])?(waypoints=[],$.each(context.waypoints[axis],function(i,waypoint){if(test(context,waypoint))return waypoints.push(waypoint)}),waypoints.sort(function(a,b){return a.offset-b.offset}),$.map(waypoints,function(waypoint){return waypoint.element})):[]}},$[wps]=function(){var args,method;return method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],jQMethods[method]?jQMethods[method].apply(null,args):jQMethods.aggregate.call(null,method)},$[wps].settings={resizeThrottle:100,scrollThrottle:30},$w.load(function(){return $[wps]("refresh")})})}.call(this),function($,undefined){function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();if("area"===nodeName){var img,map=element.parentNode,mapName=map.name;return!(!element.href||!mapName||"map"!==map.nodeName.toLowerCase())&&(img=$("img[usemap=#"+mapName+"]")[0],!!img&&visible(img))}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"==nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return!$(element).parents().andSelf().filter(function(){return"hidden"===$.curCSS(this,"visibility")||$.expr.filters.hidden(this)}).length}$.ui=$.ui||{},$.ui.version||($.extend($.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),$.fn.extend({propAttr:$.fn.prop||$.fn.attr,_focus:$.fn.focus,focus:function(delay,fn){return"number"==typeof delay?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus(),fn&&fn.call(elem)},delay)}):this._focus.apply(this,arguments)},scrollParent:function(){var scrollParent;return scrollParent=$.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.curCSS(this,"position",1))&&/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!scrollParent.length?$(document):scrollParent},zIndex:function(zIndex){if(zIndex!==undefined)return this.css("zIndex",zIndex);if(this.length)for(var position,value,elem=$(this[0]);elem.length&&elem[0]!==document;){if(position=elem.css("position"),("absolute"===position||"relative"===position||"fixed"===position)&&(value=parseInt(elem.css("zIndex"),10),!isNaN(value)&&0!==value))return value;elem=elem.parent()}return 0},disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(i,name){function reduce(elem,size,border,margin){return $.each(side,function(){size-=parseFloat($.curCSS(elem,"padding"+this,!0))||0,border&&(size-=parseFloat($.curCSS(elem,"border"+this+"Width",!0))||0),margin&&(size-=parseFloat($.curCSS(elem,"margin"+this,!0))||0)}),size}var side="Width"===name?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+name]=function(size){return size===undefined?orig["inner"+name].call(this):this.each(function(){$(this).css(type,reduce(this,size)+"px")})},$.fn["outer"+name]=function(size,margin){return"number"!=typeof size?orig["outer"+name].call(this,size):this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}}),$(function(){var body=document.body,div=body.appendChild(div=document.createElement("div"));div.offsetHeight,$.extend(div.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),$.support.minHeight=100===div.offsetHeight,$.support.selectstart="onselectstart"in div,body.removeChild(div).style.display="none"}),$.curCSS||($.curCSS=$.css),$.extend($.ui,{plugin:{add:function(module,option,set){var proto=$.ui[module].prototype;for(var i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args){var set=instance.plugins[name];if(set&&instance.element[0].parentNode)for(var i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},contains:function(a,b){return document.compareDocumentPosition?16&a.compareDocumentPosition(b):a!==b&&a.contains(b)},hasScroll:function(el,a){if("hidden"===$(el).css("overflow"))return!1;var scroll=a&&"left"===a?"scrollLeft":"scrollTop",has=!1;return el[scroll]>0||(el[scroll]=1,has=el[scroll]>0,el[scroll]=0,has)},isOverAxis:function(x,reference,size){return x>reference&&x<reference+size},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width)}}))}(jQuery),function($,undefined){if($.cleanData){var _cleanData=$.cleanData;$.cleanData=function(elems){for(var elem,i=0;null!=(elem=elems[i]);i++)try{$(elem).triggerHandler("remove")}catch(e){}_cleanData(elems)}}else{var _remove=$.fn.remove;$.fn.remove=function(selector,keepData){return this.each(function(){return keepData||selector&&!$.filter(selector,[this]).length||$("*",this).add([this]).each(function(){try{$(this).triggerHandler("remove")}catch(e){}}),_remove.call($(this),selector,keepData)})}}$.widget=function(name,base,prototype){var fullName,namespace=name.split(".")[0];name=name.split(".")[1],fullName=namespace+"-"+name,prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName]=function(elem){return!!$.data(elem,name)},$[namespace]=$[namespace]||{},$[namespace][name]=function(options,element){arguments.length&&this._createWidget(options,element)};var basePrototype=new base;basePrototype.options=$.extend(!0,{},basePrototype.options),$[namespace][name].prototype=$.extend(!0,basePrototype,{namespace:namespace,widgetName:name,widgetEventPrefix:$[namespace][name].prototype.widgetEventPrefix||name,widgetBaseClass:fullName},prototype),
$.widget.bridge(name,$[namespace][name])},$.widget.bridge=function(name,object){$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=Array.prototype.slice.call(arguments,1),returnValue=this;return options=!isMethodCall&&args.length?$.extend.apply(null,[!0,options].concat(args)):options,isMethodCall&&"_"===options.charAt(0)?returnValue:(isMethodCall?this.each(function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined)return returnValue=methodValue,!1}):this.each(function(){var instance=$.data(this,name);instance?instance.option(options||{})._init():$.data(this,name,new object(options,this))}),returnValue)}},$.Widget=function(options,element){arguments.length&&this._createWidget(options,element)},$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(options,element){$.data(element,this.widgetName,this),this.element=$(element),this.options=$.extend(!0,{},this.options,this._getCreateOptions(),options);var self=this;this.element.bind("remove."+this.widgetName,function(){self.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(key,value){var options=key;if(0===arguments.length)return $.extend({},this.options);if("string"==typeof key){if(value===undefined)return this.options[key];options={},options[key]=value}return this._setOptions(options),this},_setOptions:function(options){var self=this;return $.each(options,function(key,value){self._setOption(key,value)}),this},_setOption:function(key,value){return this.options[key]=value,"disabled"===key&&this.widget()[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",value),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.call(this.element[0],event,data)===!1||event.isDefaultPrevented())}}}(jQuery),function($,undefined){var mouseHandled=!1;$(document).mouseup(function(e){mouseHandled=!1}),$.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var self=this;this.element.bind("mousedown."+this.widgetName,function(event){return self._mouseDown(event)}).bind("click."+this.widgetName,function(event){if(!0===$.data(event.target,self.widgetName+".preventClickEvent"))return $.removeData(event.target,self.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(!mouseHandled){this._mouseStarted&&this._mouseUp(event),this._mouseDownEvent=event;var self=this,btnIsLeft=1==event.which,elIsCancel=!("string"!=typeof this.options.cancel||!event.target.nodeName)&&$(event.target).closest(this.options.cancel).length;return!(btnIsLeft&&!elIsCancel&&this._mouseCapture(event))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){self.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(event)!==!1,!this._mouseStarted)?(event.preventDefault(),!0):(!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return self._mouseMove(event)},this._mouseUpDelegate=function(event){return self._mouseUp(event)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0,!0))}},_mouseMove:function(event){return!$.browser.msie||document.documentMode>=9||event.button?this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==!1,this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted):this._mouseUp(event)},_mouseUp:function(event){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target==this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),!1},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(event){return this.mouseDelayMet},_mouseStart:function(event){},_mouseDrag:function(event){},_mouseStop:function(event){},_mouseCapture:function(event){return!0}})}(jQuery),function($,undefined){$.widget("ui.draggable",$.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(event){var o=this.options;return!(this.helper||o.disabled||$(event.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(event),!!this.handle&&(o.iframeFix&&$(o.iframeFix===!0?"iframe":o.iframeFix).each(function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css($(this).offset()).appendTo("body")}),!0))},_mouseStart:function(event){var o=this.options;return this.helper=this._createHelper(event),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),o.containment&&this._setContainment(),this._trigger("start",event)===!1?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this._mouseDrag(event,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,event),!0)},_mouseDrag:function(event,noPropagation){if(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===!1)return this._mouseUp({}),!1;this.position=ui.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),!1},_mouseStop:function(event){var dropped=!1;$.ui.ddmanager&&!this.options.dropBehaviour&&(dropped=$.ui.ddmanager.drop(this,event)),this.dropped&&(dropped=this.dropped,this.dropped=!1);for(var element=this.element[0],elementInDom=!1;element&&(element=element.parentNode);)element==document&&(elementInDom=!0);if(!elementInDom&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!dropped||"valid"==this.options.revert&&dropped||this.options.revert===!0||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped)){var self=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){self._trigger("stop",event)!==!1&&self._clear()})}else this._trigger("stop",event)!==!1&&this._clear();return!1},_mouseUp:function(event){return this.options.iframeFix===!0&&$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,event),$.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(event){var handle=!this.options.handle||!$(this.options.handle,this.element).length;return $(this.options.handle,this.element).find("*").andSelf().each(function(){this==event.target&&(handle=!0)}),handle},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):"clone"==o.helper?this.element.clone().removeAttr("id"):this.element;return helper.parents("body").length||helper.appendTo("parent"==o.appendTo?this.element[0].parentNode:o.appendTo),helper[0]==this.element[0]||/(fixed|absolute)/.test(helper.css("position"))||helper.css("position","absolute"),helper},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.browser.msie)&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var o=this.options;if("parent"==o.containment&&(o.containment=this.helper[0].parentNode),"document"!=o.containment&&"window"!=o.containment||(this.containment=["document"==o.containment?0:$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==o.containment?0:$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==o.containment?0:$(window).scrollLeft())+$("document"==o.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==o.containment?0:$(window).scrollTop())+($("document"==o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||o.containment.constructor==Array)o.containment.constructor==Array&&(this.containment=o.containment);else{var c=$(o.containment),ce=c[0];if(!ce)return;var over=(c.offset(),"hidden"!=$(ce).css("overflow"));this.containment=[(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0),(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"==d?1:-1,scroll=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod),left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod)}},_generatePosition:function(event){var o=this.options,scroll="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName),pageX=event.pageX,pageY=event.pageY;if(this.originalPosition){var containment;if(this.containment){if(this.relative_container){var co=this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top]}else containment=this.containment;event.pageX-this.offset.click.left<containment[0]&&(pageX=containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<containment[1]&&(pageY=containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>containment[2]&&(pageX=containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>containment[3]&&(pageY=containment[3]+this.offset.click.top)}if(o.grid){var top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment&&(top-this.offset.click.top<containment[1]||top-this.offset.click.top>containment[3])?top-this.offset.click.top<containment[1]?top+o.grid[1]:top-o.grid[1]:top;var left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment&&(left-this.offset.click.left<containment[0]||left-this.offset.click.left>containment[2])?left-this.offset.click.left<containment[0]?left+o.grid[0]:left-o.grid[0]:left}}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(type,event,ui){return ui=ui||this._uiHash(),$.ui.plugin.call(this,type,[event,ui]),"drag"==type&&(this.positionAbs=this._convertPositionTo("absolute")),$.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(event){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.extend($.ui.draggable,{version:"1.8.23"}),$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[],$(o.connectToSortable).each(function(){var sortable=$.data(this,"sortable");sortable&&!sortable.options.disabled&&(inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert}),sortable.refreshPositions(),sortable._trigger("activate",event,uiSortable))})},stop:function(event,ui){var inst=$(this).data("draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){this.instance.isOver?(this.instance.isOver=0,inst.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(event),this.instance.options.helper=this.instance.options._helper,"original"==inst.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",event,uiSortable))})},drag:function(event,ui){var inst=$(this).data("draggable"),self=this;$.each(inst.sortables,function(i){this.instance.positionAbs=inst.positionAbs,this.instance.helperProportions=inst.helperProportions,this.instance.offset.click=inst.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=$(self).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return ui.helper[0]},event.target=this.instance.currentItem[0],this.instance._mouseCapture(event,!0),this.instance._mouseStart(event,!0,!0),this.instance.offset.click.top=inst.offset.click.top,this.instance.offset.click.left=inst.offset.click.left,this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top,inst._trigger("toSortable",event),inst.dropped=this.instance.element,inst.currentItem=inst.element,this.instance.fromOutside=inst),this.instance.currentItem&&this.instance._mouseDrag(event)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",event,this.instance._uiHash(this.instance)),this.instance._mouseStop(event,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),inst._trigger("fromSortable",event),inst.dropped=!1)})}}),$.ui.plugin.add("draggable","cursor",{start:function(event,ui){var t=$("body"),o=$(this).data("draggable").options;t.css("cursor")&&(o._cursor=t.css("cursor")),t.css("cursor",o.cursor)},stop:function(event,ui){var o=$(this).data("draggable").options;o._cursor&&$("body").css("cursor",o._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;t.css("opacity")&&(o._opacity=t.css("opacity")),t.css("opacity",o.opacity)},stop:function(event,ui){var o=$(this).data("draggable").options;o._opacity&&$(ui.helper).css("opacity",o._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(event,ui){var i=$(this).data("draggable");i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(event,ui){var i=$(this).data("draggable"),o=i.options,scrolled=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(o.axis&&"x"==o.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-i.overflowOffset.top<o.scrollSensitivity&&(i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed)),o.axis&&"y"==o.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-i.overflowOffset.left<o.scrollSensitivity&&(i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed))):(o.axis&&"x"==o.axis||(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed))),o.axis&&"y"==o.axis||(event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)))),scrolled!==!1&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(i,event)}}),$.ui.plugin.add("draggable","snap",{start:function(event,ui){var i=$(this).data("draggable"),o=i.options;i.snapElements=[],$(o.snap.constructor!=String?o.snap.items||":data(draggable)":o.snap).each(function(){var $t=$(this),$o=$t.offset();this!=i.element[0]&&i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})})},drag:function(event,ui){for(var inst=$(this).data("draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height,i=inst.snapElements.length-1;i>=0;i--){var l=inst.snapElements[i].left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top,b=t+inst.snapElements[i].height;if(l-d<x1&&x1<r+d&&t-d<y1&&y1<b+d||l-d<x1&&x1<r+d&&t-d<y2&&y2<b+d||l-d<x2&&x2<r+d&&t-d<y1&&y1<b+d||l-d<x2&&x2<r+d&&t-d<y2&&y2<b+d){if("inner"!=o.snapMode){var ts=Math.abs(t-y2)<=d,bs=Math.abs(b-y1)<=d,ls=Math.abs(l-x2)<=d,rs=Math.abs(r-x1)<=d;ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left)}var first=ts||bs||ls||rs;if("outer"!=o.snapMode){var ts=Math.abs(t-y1)<=d,bs=Math.abs(b-y2)<=d,ls=Math.abs(l-x1)<=d,rs=Math.abs(r-x2)<=d;ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left)}!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)&&inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=ts||bs||ls||rs||first}else inst.snapElements[i].snapping&&inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=!1}}}),$.ui.plugin.add("draggable","stack",{start:function(event,ui){var o=$(this).data("draggable").options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});if(group.length){var min=parseInt(group[0].style.zIndex)||0;$(group).each(function(i){this.style.zIndex=min+i}),this[0].style.zIndex=min+group.length}}}),$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;t.css("zIndex")&&(o._zIndex=t.css("zIndex")),t.css("zIndex",o.zIndex)},stop:function(event,ui){var o=$(this).data("draggable").options;o._zIndex&&$(ui.helper).css("zIndex",o._zIndex)}})}(jQuery),function($,undefined){$.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var o=this.options,accept=o.accept;this.isover=0,this.isout=1,this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||[],$.ui.ddmanager.droppables[o.scope].push(this),o.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var drop=$.ui.ddmanager.droppables[this.options.scope],i=0;i<drop.length;i++)drop[i]==this&&drop.splice(i,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(key,value){"accept"==key&&(this.accept=$.isFunction(value)?value:function(d){return d.is(value)}),$.Widget.prototype._setOption.apply(this,arguments)},_activate:function(event){var draggable=$.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),draggable&&this._trigger("activate",event,this.ui(draggable))},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),draggable&&this._trigger("deactivate",event,this.ui(draggable))},_over:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!=this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",event,this.ui(draggable)))},_out:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!=this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",event,this.ui(draggable)))},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0])return!1;var childrenIntersection=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope==draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||draggable.element)&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance))return childrenIntersection=!0,!1}),!childrenIntersection&&(!!this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",event,this.ui(draggable)),this.element))},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}}),$.extend($.ui.droppable,{version:"1.8.23"}),$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset)return!1;var x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=t+droppable.proportions.height;switch(toleranceMode){case"fit":return l<=x1&&x2<=r&&t<=y1&&y2<=b;case"intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;case"pointer":var draggableLeft=(draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left,draggableTop=(draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top,isOver=$.ui.isOver(draggableTop,draggableLeft,t,l,droppable.proportions.height,droppable.proportions.width);return isOver;case"touch":return(y1>=t&&y1<=b||y2>=t&&y2<=b||y1<t&&y2>b)&&(x1>=l&&x1<=r||x2>=l&&x2<=r||x1<l&&x2>r);default:return!1}},$.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,event){var m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(droppable)").andSelf();droppablesLoop:for(var i=0;i<m.length;i++)if(!(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element))){for(var j=0;j<list.length;j++)if(list[j]==m[i].element[0]){m[i].proportions.height=0;continue droppablesLoop}m[i].visible="none"!=m[i].element.css("display"),m[i].visible&&("mousedown"==type&&m[i]._activate.call(m[i],event),m[i].offset=m[i].element.offset(),m[i].proportions={width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight})}},drop:function(draggable,event){var dropped=!1;return $.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)&&(dropped=this._drop.call(this,event)||dropped),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,event)))}),dropped},dragStart:function(draggable,event){draggable.element.parents(":not(body,html)").bind("scroll.droppable",function(){draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)})},drag:function(draggable,event){draggable.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(draggable,event),$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=intersects||1!=this.isover?intersects&&0==this.isover?"isover":null:"isout";if(c){var parentInstance;if(this.options.greedy){var parent=this.element.parents(":data(droppable):eq(0)");parent.length&&(parentInstance=$.data(parent[0],"droppable"),parentInstance.greedyChild="isover"==c?1:0)}parentInstance&&"isover"==c&&(parentInstance.isover=0,
parentInstance.isout=1,parentInstance._out.call(parentInstance,event)),this[c]=1,this["isout"==c?"isover":"isout"]=0,this["isover"==c?"_over":"_out"].call(this,event),parentInstance&&"isout"==c&&(parentInstance.isout=0,parentInstance.isover=1,parentInstance._over.call(parentInstance,event))}}})},dragStop:function(draggable,event){draggable.element.parents(":not(body,html)").unbind("scroll.droppable"),draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)}}}(jQuery),function($,undefined){$.widget("ui.resizable",$.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var self=this,o=this.options;if(this.element.addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap($('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var i=0;i<n.length;i++){var handle=$.trim(n[i]),hname="ui-resizable-"+handle,axis=$('<div class="ui-resizable-handle '+hname+'"></div>');axis.css({zIndex:o.zIndex}),"se"==handle&&axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[handle]=".ui-resizable-"+handle,this.element.append(axis)}}this._renderAxis=function(target){target=target||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=$(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var axis=$(this.handles[i],this.element),padWrapper=0;padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();var padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper),this._proportionallyResize()}$(this.handles[i]).length}},this._renderAxis(this.element),this._handles=$(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!self.resizing){if(this.className)var axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);self.axis=axis&&axis[1]?axis[1]:"se"}}),o.autoHide&&(this._handles.hide(),$(this.element).addClass("ui-resizable-autohide").hover(function(){o.disabled||($(this).removeClass("ui-resizable-autohide"),self._handles.show())},function(){o.disabled||self.resizing||($(this).addClass("ui-resizable-autohide"),self._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var _destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){_destroy(this.element);var wrapper=this.element;wrapper.after(this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this},_mouseCapture:function(event){var handle=!1;for(var i in this.handles)$(this.handles[i])[0]==event.target&&(handle=!0);return!this.options.disabled&&handle},_mouseStart:function(event){var o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=!0,this.documentScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},(el.is(".ui-draggable")||/absolute/.test(el.css("position")))&&el.css({position:"absolute",top:iniPos.top,left:iniPos.left}),this._renderProxy();var curleft=num(this.helper.css("left")),curtop=num(this.helper.css("top"));o.containment&&(curleft+=$(o.containment).scrollLeft()||0,curtop+=$(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:curleft,top:curtop},this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalPosition={left:curleft,top:curtop},this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()},this.originalMousePosition={left:event.pageX,top:event.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;var cursor=$(".ui-resizable-"+this.axis).css("cursor");return $("body").css("cursor","auto"==cursor?this.axis+"-resize":cursor),el.addClass("ui-resizable-resizing"),this._propagate("start",event),!0},_mouseDrag:function(event){var el=this.helper,smp=(this.options,this.originalMousePosition),a=this.axis,dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0,trigger=this._change[a];if(!trigger)return!1;var data=trigger.apply(this,[event,dx,dy]);$.browser.msie&&$.browser.version<7,this.sizeDiff;return this._updateVirtualBoundaries(event.shiftKey),(this._aspectRatio||event.shiftKey)&&(data=this._updateRatio(data,event)),data=this._respectSize(data,event),this._propagate("resize",event),el.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(data),this._trigger("resize",event,this.ui()),!1},_mouseStop:function(event){this.resizing=!1;var o=this.options,self=this;if(this._helper){var pr=this._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:self.sizeDiff.height,soffsetw=ista?0:self.sizeDiff.width,s={width:self.helper.width()-soffsetw,height:self.helper.height()-soffseth},left=parseInt(self.element.css("left"),10)+(self.position.left-self.originalPosition.left)||null,top=parseInt(self.element.css("top"),10)+(self.position.top-self.originalPosition.top)||null;o.animate||this.element.css($.extend(s,{top:top,left:left})),self.helper.height(self.size.height),self.helper.width(self.size.width),this._helper&&!o.animate&&this._proportionallyResize()}return $("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",event),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||forceAspectRatio)&&(pMinWidth=b.minHeight*this.aspectRatio,pMinHeight=b.minWidth/this.aspectRatio,pMaxWidth=b.maxHeight*this.aspectRatio,pMaxHeight=b.maxWidth/this.aspectRatio,pMinWidth>b.minWidth&&(b.minWidth=pMinWidth),pMinHeight>b.minHeight&&(b.minHeight=pMinHeight),pMaxWidth<b.maxWidth&&(b.maxWidth=pMaxWidth),pMaxHeight<b.maxHeight&&(b.maxHeight=pMaxHeight)),this._vBoundaries=b},_updateCache:function(data){this.options;this.offset=this.helper.offset(),isNumber(data.left)&&(this.position.left=data.left),isNumber(data.top)&&(this.position.top=data.top),isNumber(data.height)&&(this.size.height=data.height),isNumber(data.width)&&(this.size.width=data.width)},_updateRatio:function(data,event){var cpos=(this.options,this.position),csize=this.size,a=this.axis;return isNumber(data.height)?data.width=data.height*this.aspectRatio:isNumber(data.width)&&(data.height=data.width/this.aspectRatio),"sw"==a&&(data.left=cpos.left+(csize.width-data.width),data.top=null),"nw"==a&&(data.top=cpos.top+(csize.height-data.height),data.left=cpos.left+(csize.width-data.width)),data},_respectSize:function(data,event){var o=(this.helper,this._vBoundaries),a=(this._aspectRatio||event.shiftKey,this.axis),ismaxw=isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=isNumber(data.height)&&o.minHeight&&o.minHeight>data.height;isminw&&(data.width=o.minWidth),isminh&&(data.height=o.minHeight),ismaxw&&(data.width=o.maxWidth),ismaxh&&(data.height=o.maxHeight);var dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);isminw&&cw&&(data.left=dw-o.minWidth),ismaxw&&cw&&(data.left=dw-o.maxWidth),isminh&&ch&&(data.top=dh-o.minHeight),ismaxh&&ch&&(data.top=dh-o.maxHeight);var isNotwh=!data.width&&!data.height;return isNotwh&&!data.left&&data.top?data.top=null:isNotwh&&!data.top&&data.left&&(data.left=null),data},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var element=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var prel=this._proportionallyResizeElements[i];if(!this.borderDif){var b=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")],p=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];this.borderDif=$.map(b,function(v,i){var border=parseInt(v,10)||0,padding=parseInt(p[i],10)||0;return border+padding})}$.browser.msie&&($(element).is(":hidden")||$(element).parents(":hidden").length)||prel.css({height:element.height()-this.borderDif[0]-this.borderDif[2]||0,width:element.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var el=this.element,o=this.options;if(this.elementOffset=el.offset(),this._helper){this.helper=this.helper||$('<div style="overflow:hidden;"></div>');var ie6=$.browser.msie&&$.browser.version<7,ie6offset=ie6?1:0,pxyoffset=ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+pxyoffset,height:this.element.outerHeight()+pxyoffset,position:"absolute",left:this.elementOffset.left-ie6offset+"px",top:this.elementOffset.top-ie6offset+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(event,dx,dy){return{width:this.originalSize.width+dx}},w:function(event,dx,dy){var cs=(this.options,this.originalSize),sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx}},n:function(event,dx,dy){var cs=(this.options,this.originalSize),sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]),"resize"!=n&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.extend($.ui.resizable,{version:"1.8.23"}),$.ui.plugin.add("resizable","alsoResize",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options,_store=function(exp){$(exp).each(function(){var el=$(this);el.data("resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)})})};"object"!=typeof o.alsoResize||o.alsoResize.parentNode?_store(o.alsoResize):o.alsoResize.length?(o.alsoResize=o.alsoResize[0],_store(o.alsoResize)):$.each(o.alsoResize,function(exp){_store(exp)})},resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,os=self.originalSize,op=self.originalPosition,delta={height:self.size.height-os.height||0,width:self.size.width-os.width||0,top:self.position.top-op.top||0,left:self.position.left-op.left||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);sum&&sum>=0&&(style[prop]=sum||null)}),el.css(style)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?_alsoResize(o.alsoResize):$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c)})},stop:function(event,ui){$(this).removeData("resizable-alsoresize")}}),$.ui.plugin.add("resizable","animate",{stop:function(event,ui){var self=$(this).data("resizable"),o=self.options,pr=self._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:self.sizeDiff.height,soffsetw=ista?0:self.sizeDiff.width,style={width:self.size.width-soffsetw,height:self.size.height-soffseth},left=parseInt(self.element.css("left"),10)+(self.position.left-self.originalPosition.left)||null,top=parseInt(self.element.css("top"),10)+(self.position.top-self.originalPosition.top)||null;self.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(self.element.css("width"),10),height:parseInt(self.element.css("height"),10),top:parseInt(self.element.css("top"),10),left:parseInt(self.element.css("left"),10)};pr&&pr.length&&$(pr[0]).css({width:data.width,height:data.height}),self._updateCache(data),self._propagate("resize",event)}})}}),$.ui.plugin.add("resizable","containment",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options,el=self.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;if(ce)if(self.containerElement=$(ce),/document/.test(oc)||oc==document)self.containerOffset={left:0,top:0},self.containerPosition={left:0,top:0},self.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};else{var element=$(ce),p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name))}),self.containerOffset=element.offset(),self.containerPosition=element.position(),self.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]};var co=self.containerOffset,ch=self.containerSize.height,cw=self.containerSize.width,width=$.ui.hasScroll(ce,"left")?ce.scrollWidth:cw,height=$.ui.hasScroll(ce)?ce.scrollHeight:ch;self.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}}},resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,co=(self.containerSize,self.containerOffset),cp=(self.size,self.position),pRatio=self._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=self.containerElement;ce[0]!=document&&/static/.test(ce.css("position"))&&(cop=co),cp.left<(self._helper?co.left:0)&&(self.size.width=self.size.width+(self._helper?self.position.left-co.left:self.position.left-cop.left),pRatio&&(self.size.height=self.size.width/self.aspectRatio),self.position.left=o.helper?co.left:0),cp.top<(self._helper?co.top:0)&&(self.size.height=self.size.height+(self._helper?self.position.top-co.top:self.position.top),pRatio&&(self.size.width=self.size.height*self.aspectRatio),self.position.top=self._helper?co.top:0),self.offset.left=self.parentData.left+self.position.left,self.offset.top=self.parentData.top+self.position.top;var woset=Math.abs((self._helper?self.offset.left-cop.left:self.offset.left-cop.left)+self.sizeDiff.width),hoset=Math.abs((self._helper?self.offset.top-cop.top:self.offset.top-co.top)+self.sizeDiff.height),isParent=self.containerElement.get(0)==self.element.parent().get(0),isOffsetRelative=/relative|absolute/.test(self.containerElement.css("position"));isParent&&isOffsetRelative&&(woset-=self.parentData.left),woset+self.size.width>=self.parentData.width&&(self.size.width=self.parentData.width-woset,pRatio&&(self.size.height=self.size.width/self.aspectRatio)),hoset+self.size.height>=self.parentData.height&&(self.size.height=self.parentData.height-hoset,pRatio&&(self.size.width=self.size.height*self.aspectRatio))},stop:function(event,ui){var self=$(this).data("resizable"),o=self.options,co=(self.position,self.containerOffset),cop=self.containerPosition,ce=self.containerElement,helper=$(self.helper),ho=helper.offset(),w=helper.outerWidth()-self.sizeDiff.width,h=helper.outerHeight()-self.sizeDiff.height;self._helper&&!o.animate&&/relative/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h}),self._helper&&!o.animate&&/static/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}}),$.ui.plugin.add("resizable","ghost",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options,cs=self.size;self.ghost=self.originalElement.clone(),self.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof o.ghost?o.ghost:""),self.ghost.appendTo(self.helper)},resize:function(event,ui){var self=$(this).data("resizable");self.options;self.ghost&&self.ghost.css({position:"relative",height:self.size.height,width:self.size.width})},stop:function(event,ui){var self=$(this).data("resizable");self.options;self.ghost&&self.helper&&self.helper.get(0).removeChild(self.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,cs=self.size,os=self.originalSize,op=self.originalPosition,a=self.axis;o._aspectRatio||event.shiftKey;o.grid="number"==typeof o.grid?[o.grid,o.grid]:o.grid;var ox=Math.round((cs.width-os.width)/(o.grid[0]||1))*(o.grid[0]||1),oy=Math.round((cs.height-os.height)/(o.grid[1]||1))*(o.grid[1]||1);/^(se|s|e)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy):/^(ne)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.top=op.top-oy):/^(sw)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.left=op.left-ox):(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.top=op.top-oy,self.position.left=op.left-ox)}});var num=function(v){return parseInt(v,10)||0},isNumber=function(value){return!isNaN(parseInt(value,10))}}(jQuery),function($,undefined){$.widget("ui.selectable",$.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var self=this;this.element.addClass("ui-selectable"),this.dragged=!1;var selectees;this.refresh=function(){selectees=$(self.options.filter,self.element[0]),selectees.addClass("ui-selectee"),selectees.each(function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:!1,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=selectees.addClass("ui-selectee"),this._mouseInit(),this.helper=$("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(event){var self=this;if(this.opos=[event.pageX,event.pageY],!this.options.disabled){var options=this.options;this.selectees=$(options.filter,this.element[0]),this._trigger("start",event),$(options.appendTo).append(this.helper),this.helper.css({left:event.clientX,top:event.clientY,width:0,height:0}),options.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=!0,event.metaKey||event.ctrlKey||(selectee.$element.removeClass("ui-selected"),selectee.selected=!1,selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0,self._trigger("unselecting",event,{unselecting:selectee.element}))}),$(event.target).parents().andSelf().each(function(){var selectee=$.data(this,"selectable-item");if(selectee){var doSelect=!event.metaKey&&!event.ctrlKey||!selectee.$element.hasClass("ui-selected");return selectee.$element.removeClass(doSelect?"ui-unselecting":"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting"),selectee.unselecting=!doSelect,selectee.selecting=doSelect,selectee.selected=doSelect,doSelect?self._trigger("selecting",event,{selecting:selectee.element}):self._trigger("unselecting",event,{unselecting:selectee.element}),!1}})}},_mouseDrag:function(event){var self=this;if(this.dragged=!0,!this.options.disabled){var options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){var tmp=x2;x2=x1,x1=tmp}if(y1>y2){var tmp=y2;y2=y1,y1=tmp}return this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1}),this.selectees.each(function(){var selectee=$.data(this,"selectable-item");if(selectee&&selectee.element!=self.element[0]){var hit=!1;"touch"==options.tolerance?hit=!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1):"fit"==options.tolerance&&(hit=selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2),hit?(selectee.selected&&(selectee.$element.removeClass("ui-selected"),selectee.selected=!1),selectee.unselecting&&(selectee.$element.removeClass("ui-unselecting"),selectee.unselecting=!1),selectee.selecting||(selectee.$element.addClass("ui-selecting"),selectee.selecting=!0,self._trigger("selecting",event,{selecting:selectee.element}))):(selectee.selecting&&((event.metaKey||event.ctrlKey)&&selectee.startselected?(selectee.$element.removeClass("ui-selecting"),selectee.selecting=!1,selectee.$element.addClass("ui-selected"),selectee.selected=!0):(selectee.$element.removeClass("ui-selecting"),selectee.selecting=!1,selectee.startselected&&(selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0),self._trigger("unselecting",event,{unselecting:selectee.element}))),selectee.selected&&(event.metaKey||event.ctrlKey||selectee.startselected||(selectee.$element.removeClass("ui-selected"),selectee.selected=!1,selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0,self._trigger("unselecting",event,{unselecting:selectee.element}))))}}),!1}},_mouseStop:function(event){var self=this;this.dragged=!1;this.options;return $(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting"),selectee.unselecting=!1,selectee.startselected=!1,self._trigger("unselected",event,{unselected:selectee.element})}),$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected"),selectee.selecting=!1,selectee.selected=!0,selectee.startselected=!0,self._trigger("selected",event,{selected:selectee.element})}),this._trigger("stop",event),this.helper.remove(),!1}}),$.extend($.ui.selectable,{version:"1.8.23"})}(jQuery),function($,undefined){$.widget("ui.sortable",$.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var o=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===o.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){$.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--)this.items[i].item.removeData(this.widgetName+"-item");return this},_setOption:function(key,value){"disabled"===key?(this.options[key]=value,this.widget()[value?"addClass":"removeClass"]("ui-sortable-disabled")):$.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(event,overrideHandle){var that=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(event);var currentItem=null,self=this;$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")==self)return currentItem=$(this),!1});if($.data(event.target,that.widgetName+"-item")==self&&(currentItem=$(event.target)),!currentItem)return!1;if(this.options.handle&&!overrideHandle){var validHandle=!1;if($(this.options.handle,currentItem).find("*").andSelf().each(function(){this==event.target&&(validHandle=!0)}),!validHandle)return!1}return this.currentItem=currentItem,this._removeCurrentsFromItems(),!0},_mouseStart:function(event,overrideHandle,noActivation){var o=this.options,self=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(event),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&($("body").css("cursor")&&(this._storedCursor=$("body").css("cursor")),$("body").css("cursor",o.cursor)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",event,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!noActivation)for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",event,self._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(event),!0},_mouseDrag:function(event){if(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var o=this.options,scrolled=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)),event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed))),scrolled!==!1&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;i>=0;i--){var item=this.items[i],itemElement=item.item[0],intersection=this._intersectsWithPointer(item);if(intersection&&!(itemElement==this.currentItem[0]||this.placeholder[1==intersection?"next":"prev"]()[0]==itemElement||$.ui.contains(this.placeholder[0],itemElement)||"semi-dynamic"==this.options.type&&$.ui.contains(this.element[0],itemElement))){if(this.direction=1==intersection?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(item))break;this._rearrange(event,item),this._trigger("change",event,this._uiHash());break}}return this._contactContainers(event),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),this._trigger("sort",event,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(event,noPropagation){if(event){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,event),this.options.revert){var self=this,cur=self.placeholder.offset();self.reverting=!0,$(this.helper).animate({left:cur.left-this.offset.parent.left-self.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:cur.top-this.offset.parent.top-self.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){self._clear(event)})}else this._clear(event,noPropagation);return!1}},cancel:function(){var self=this;if(this.dragging){this._mouseUp({
target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,self._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,self._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];return o=o||{},$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/);res&&str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))}),!str.length&&o.key&&str.push(o.key+"="),str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];return o=o||{},items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")}),ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElement=y1+dyClick>t&&y1+dyClick<b&&x1+dxClick>l&&x1+dxClick<r;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]?isOverElement:l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b},_intersectsWithPointer:function(item){var isOverElementHeight="x"===this.options.axis||$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth="y"===this.options.axis||$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return!!isOverElement&&(this.floating?horizontalDirection&&"right"==horizontalDirection||"down"==verticalDirection?2:1:verticalDirection&&("down"==verticalDirection?2:1))},_intersectsWithSides:function(item){var isOverBottomHalf=$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),isOverRightHalf=$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return this.floating&&horizontalDirection?"right"==horizontalDirection&&isOverRightHalf||"left"==horizontalDirection&&!isOverRightHalf:verticalDirection&&("down"==verticalDirection&&isOverBottomHalf||"up"==verticalDirection&&!isOverBottomHalf)},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return 0!=delta&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return 0!=delta&&(delta>0?"right":"left")},refresh:function(event){return this._refreshItems(event),this.refreshPositions(),this},_connectWith:function(){var options=this.options;return options.connectWith.constructor==String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){var items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected)for(var i=connectWith.length-1;i>=0;i--)for(var cur=$(connectWith[i]),j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],this.widgetName);inst&&inst!=this&&!inst.options.disabled&&queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst])}queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var i=queries.length-1;i>=0;i--)queries[i][0].each(function(){items.push(this)});return $(items)},_removeCurrentsFromItems:function(){for(var list=this.currentItem.find(":data("+this.widgetName+"-item)"),i=0;i<this.items.length;i++)for(var j=0;j<list.length;j++)list[j]==this.items[i].item[0]&&this.items.splice(i,1)},_refreshItems:function(event){this.items=[],this.containers=[this];var items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready)for(var i=connectWith.length-1;i>=0;i--)for(var cur=$(connectWith[i]),j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],this.widgetName);inst&&inst!=this&&!inst.options.disabled&&(queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]),this.containers.push(inst))}for(var i=queries.length-1;i>=0;i--)for(var targetData=queries[i][1],_queries=queries[i][0],j=0,queriesLength=_queries.length;j<queriesLength;j++){var item=$(_queries[j]);item.data(this.widgetName+"-item",targetData),items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})}},refreshPositions:function(fast){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var item=this.items[i];if(item.instance==this.currentContainer||!this.currentContainer||item.item[0]==this.currentItem[0]){var t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;fast||(item.width=t.outerWidth(),item.height=t.outerHeight());var p=t.offset();item.left=p.left,item.top=p.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left,this.containers[i].containerCache.top=p.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(that){var self=that||this,o=self.options;if(!o.placeholder||o.placeholder.constructor==String){var className=o.placeholder;o.placeholder={element:function(){var el=$(document.createElement(self.currentItem[0].nodeName)).addClass(className||self.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return className||(el.style.visibility="hidden"),el},update:function(container,p){className&&!o.forcePlaceholderSize||(p.height()||p.height(self.currentItem.innerHeight()-parseInt(self.currentItem.css("paddingTop")||0,10)-parseInt(self.currentItem.css("paddingBottom")||0,10)),p.width()||p.width(self.currentItem.innerWidth()-parseInt(self.currentItem.css("paddingLeft")||0,10)-parseInt(self.currentItem.css("paddingRight")||0,10)))}}}self.placeholder=$(o.placeholder.element.call(self.element,self.currentItem)),self.currentItem.after(self.placeholder),o.placeholder.update(self,self.placeholder)},_contactContainers:function(event){for(var innermostContainer=null,innermostIndex=null,i=this.containers.length-1;i>=0;i--)if(!$.ui.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.ui.contains(this.containers[i].element[0],innermostContainer.element[0]))continue;innermostContainer=this.containers[i],innermostIndex=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",event,this._uiHash(this)),this.containers[i].containerCache.over=0);if(innermostContainer)if(1===this.containers.length)this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1;else if(this.currentContainer!=this.containers[innermostIndex]){for(var dist=1e4,itemWithLeastDistance=null,base=this.positionAbs[this.containers[innermostIndex].floating?"left":"top"],j=this.items.length-1;j>=0;j--)if($.ui.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){var cur=this.containers[innermostIndex].floating?this.items[j].item.offset().left:this.items[j].item.offset().top;Math.abs(cur-base)<dist&&(dist=Math.abs(cur-base),itemWithLeastDistance=this.items[j],this.direction=cur-base>0?"down":"up")}if(!itemWithLeastDistance&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[innermostIndex],itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,!0):this._rearrange(event,null,this.containers[innermostIndex].element,!0),this._trigger("change",event,this._uiHash()),this.containers[innermostIndex]._trigger("change",event,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):"clone"==o.helper?this.currentItem.clone():this.currentItem;return helper.parents("body").length||$("parent"!=o.appendTo?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]),helper[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==helper[0].style.width||o.forceHelperSize)&&helper.width(this.currentItem.width()),(""==helper[0].style.height||o.forceHelperSize)&&helper.height(this.currentItem.height()),helper},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.browser.msie)&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var o=this.options;if("parent"==o.containment&&(o.containment=this.helper[0].parentNode),"document"!=o.containment&&"window"!=o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$("document"==o.containment?document:window).width()-this.helperProportions.width-this.margins.left,($("document"==o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(o.containment)){var ce=$(o.containment)[0],co=$(o.containment).offset(),over="hidden"!=$(ce).css("overflow");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"==d?1:-1,scroll=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-($.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod),left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-($.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod)}},_generatePosition:function(event){var o=this.options,scroll="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var pageX=event.pageX,pageY=event.pageY;if(this.originalPosition&&(this.containment&&(event.pageX-this.offset.click.left<this.containment[0]&&(pageX=this.containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<this.containment[1]&&(pageY=this.containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>this.containment[2]&&(pageX=this.containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>this.containment[3]&&(pageY=this.containment[3]+this.offset.click.top)),o.grid)){var top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment&&(top-this.offset.click.top<this.containment[1]||top-this.offset.click.top>this.containment[3])?top-this.offset.click.top<this.containment[1]?top+o.grid[1]:top-o.grid[1]:top;var left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment&&(left-this.offset.click.left<this.containment[0]||left-this.offset.click.left>this.containment[2])?left-this.offset.click.left<this.containment[0]?left+o.grid[0]:left-o.grid[0]:left}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+($.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+($.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var self=this,counter=this.counter;window.setTimeout(function(){counter==self.counter&&self.refreshPositions(!hardRefresh)},0)},_clear:function(event,noPropagation){this.reverting=!1;var delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)"auto"!=this._storedCSS[i]&&"static"!=this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!noPropagation&&delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||noPropagation||delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())}),!$.ui.contains(this.element[0],this.currentItem[0])){noPropagation||delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash())});for(var i=this.containers.length-1;i>=0;i--)$.ui.contains(this.containers[i].element[0],this.currentItem[0])&&!noPropagation&&(delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.containers[i])),delayedTriggers.push(function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}.call(this,this.containers[i])))}for(var i=this.containers.length-1;i>=0;i--)noPropagation||delayedTriggers.push(function(c){return function(event){c._trigger("deactivate",event,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(delayedTriggers.push(function(c){return function(event){c._trigger("out",event,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&$("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(var i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!1}if(noPropagation||this._trigger("beforeStop",event,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!noPropagation){for(var i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){$.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(inst){var self=inst||this;return{helper:self.helper,placeholder:self.placeholder||$([]),position:self.position,originalPosition:self.originalPosition,offset:self.positionAbs,item:self.currentItem,sender:inst?inst.element:null}}}),$.extend($.ui.sortable,{version:"1.8.23"})}(jQuery),jQuery.effects||function($,undefined){function getRGB(color){var result;return color&&color.constructor==Array&&3==color.length?color:(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))?[parseInt(result[1],10),parseInt(result[2],10),parseInt(result[3],10)]:(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))?[2.55*parseFloat(result[1]),2.55*parseFloat(result[2]),2.55*parseFloat(result[3])]:(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))?[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]:(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))?[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)]:(result=/rgba\(0, 0, 0, 0\)/.exec(color))?colors.transparent:colors[$.trim(color).toLowerCase()]}function getColor(elem,attr){var color;do{if(color=($.curCSS||$.css)(elem,attr),""!=color&&"transparent"!=color||$.nodeName(elem,"body"))break;attr="backgroundColor"}while(elem=elem.parentNode);return getRGB(color)}function getElementStyles(){var key,camelCase,style=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,newStyle={};if(style&&style.length&&style[0]&&style[style[0]])for(var len=style.length;len--;)key=style[len],"string"==typeof style[key]&&(camelCase=key.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()}),newStyle[camelCase]=style[key]);else for(key in style)"string"==typeof style[key]&&(newStyle[key]=style[key]);return newStyle}function filterStyles(styles){var name,value;for(name in styles)value=styles[name],(null==value||$.isFunction(value)||name in shorthandStyles||/scrollbar/.test(name)||!/color/i.test(name)&&isNaN(parseFloat(value)))&&delete styles[name];return styles}function styleDifference(oldStyle,newStyle){var name,diff={_:0};for(name in newStyle)oldStyle[name]!=newStyle[name]&&(diff[name]=newStyle[name]);return diff}function _normalizeArguments(effect,options,speed,callback){return"object"==typeof effect&&(callback=options,speed=null,options=effect,effect=options.effect),$.isFunction(options)&&(callback=options,speed=null,options={}),("number"==typeof options||$.fx.speeds[options])&&(callback=speed,speed=options,options={}),$.isFunction(speed)&&(callback=speed,speed=null),options=options||{},speed=speed||options.duration,speed=$.fx.off?0:"number"==typeof speed?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default,callback=callback||options.complete,[effect,options,speed,callback]}function standardSpeed(speed){return!(speed&&"number"!=typeof speed&&!$.fx.speeds[speed])||"string"==typeof speed&&!$.effects[speed]}$.effects={},$.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(i,attr){$.fx.step[attr]=function(fx){fx.colorInit||(fx.start=getColor(fx.elem,attr),fx.end=getRGB(fx.end),fx.colorInit=!0),fx.elem.style[attr]="rgb("+Math.max(Math.min(parseInt(fx.pos*(fx.end[0]-fx.start[0])+fx.start[0],10),255),0)+","+Math.max(Math.min(parseInt(fx.pos*(fx.end[1]-fx.start[1])+fx.start[1],10),255),0)+","+Math.max(Math.min(parseInt(fx.pos*(fx.end[2]-fx.start[2])+fx.start[2],10),255),0)+")"}});var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.effects.animateClass=function(value,duration,easing,callback){return $.isFunction(easing)&&(callback=easing,easing=null),this.queue(function(){var newStyle,that=$(this),originalStyleAttr=that.attr("style")||" ",originalStyle=filterStyles(getElementStyles.call(this)),className=that.attr("class")||"";$.each(classAnimationActions,function(i,action){value[action]&&that[action+"Class"](value[action])}),newStyle=filterStyles(getElementStyles.call(this)),that.attr("class",className),that.animate(styleDifference(originalStyle,newStyle),{queue:!1,duration:duration,easing:easing,complete:function(){$.each(classAnimationActions,function(i,action){value[action]&&that[action+"Class"](value[action])}),"object"==typeof that.attr("style")?(that.attr("style").cssText="",that.attr("style").cssText=originalStyleAttr):that.attr("style",originalStyleAttr),callback&&callback.apply(this,arguments),$.dequeue(this)}})})},$.fn.extend({_addClass:$.fn.addClass,addClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{add:classNames},speed,easing,callback]):this._addClass(classNames)},_removeClass:$.fn.removeClass,removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{remove:classNames},speed,easing,callback]):this._removeClass(classNames)},_toggleClass:$.fn.toggleClass,toggleClass:function(classNames,force,speed,easing,callback){return"boolean"==typeof force||force===undefined?speed?$.effects.animateClass.apply(this,[force?{add:classNames}:{remove:classNames},speed,easing,callback]):this._toggleClass(classNames,force):$.effects.animateClass.apply(this,[{toggle:classNames},force,speed,easing])},switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.apply(this,[{add:add,remove:remove},speed,easing,callback])}}),$.extend($.effects,{version:"1.8.23",save:function(element,set){for(var i=0;i<set.length;i++)null!==set[i]&&element.data("ec.storage."+set[i],element[0].style[set[i]])},restore:function(element,set){for(var i=0;i<set.length;i++)null!==set[i]&&element.css(set[i],element.data("ec.storage."+set[i]))},setMode:function(el,mode){return"toggle"==mode&&(mode=el.is(":hidden")?"show":"hide"),mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{x:x,y:y}},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();var props={width:element.outerWidth(!0),height:element.outerHeight(!0),float:element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),active=document.activeElement;try{active.id}catch(e){active=document.body}return element.wrap(wrapper),(element[0]===active||$.contains(element[0],active))&&$(active).focus(),wrapper=element.parent(),"static"==element.css("position")?(wrapper.css({position:"relative"}),element.css({position:"relative"})):($.extend(props,{position:element.css("position"),zIndex:element.css("z-index")}),$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos),isNaN(parseInt(props[pos],10))&&(props[pos]="auto")}),element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),wrapper.css(props).show()},removeWrapper:function(element){var parent,active=document.activeElement;return element.parent().is(".ui-effects-wrapper")?(parent=element.parent().replaceWith(element),(element[0]===active||$.contains(element[0],active))&&$(active).focus(),parent):element},setTransition:function(element,list,factor,value){return value=value||{},$.each(list,function(i,x){var unit=element.cssUnit(x);unit[0]>0&&(value[x]=unit[0]*factor+unit[1])}),value}}),$.fn.extend({effect:function(effect,options,speed,callback){var args=_normalizeArguments.apply(this,arguments),args2={options:args[1],duration:args[2],callback:args[3]},mode=args2.options.mode,effectMethod=$.effects[effect];return $.fx.off||!effectMethod?mode?this[mode](args2.duration,args2.callback):this.each(function(){args2.callback&&args2.callback.call(this)}):effectMethod.call(this,args2)},_show:$.fn.show,show:function(speed){if(standardSpeed(speed))return this._show.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args[1].mode="show",this.effect.apply(this,args)},_hide:$.fn.hide,hide:function(speed){if(standardSpeed(speed))return this._hide.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args[1].mode="hide",this.effect.apply(this,args)},__toggle:$.fn.toggle,toggle:function(speed){if(standardSpeed(speed)||"boolean"==typeof speed||$.isFunction(speed))return this.__toggle.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args[1].mode="toggle",this.effect.apply(this,args)},cssUnit:function(key){var style=this.css(key),val=[];return $.each(["em","px","%","pt"],function(i,unit){style.indexOf(unit)>0&&(val=[parseFloat(style),unit])}),val}});var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}}),$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return 0===p||1===p?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var pow2,bounce=4;p<((pow2=Math.pow(2,--bounce))-1)/11;);return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((3*pow2-2)/22-p,2)}}),$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn,$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)},$.easing["easeInOut"+name]=function(p){return p<.5?easeIn(2*p)/2:easeIn(p*-2+2)/-2+1}})}(jQuery),function($,undefined){$.effects.blind=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"vertical";$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),ref="vertical"==direction?"height":"width",distance="vertical"==direction?wrapper.height():wrapper.width();"show"==mode&&wrapper.css(ref,0);var animation={};animation[ref]="show"==mode?distance:0,wrapper.animate(animation,o.duration,o.options.easing,function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()})})}}(jQuery),function($,undefined){$.effects.bounce=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"effect"),direction=o.options.direction||"up",distance=o.options.distance||20,times=o.options.times||5,speed=o.duration||250;/show|hide/.test(mode)&&props.push("opacity"),$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight(!0)/3:el.outerWidth(!0)/3);if("show"==mode&&el.css("opacity",0).css(ref,"pos"==motion?-distance:distance),"hide"==mode&&(distance/=2*times),"hide"!=mode&&times--,"show"==mode){var animation={opacity:1};animation[ref]=("pos"==motion?"+=":"-=")+distance,el.animate(animation,speed/2,o.options.easing),distance/=2,times--}for(var i=0;i<times;i++){var animation1={},animation2={};animation1[ref]=("pos"==motion?"-=":"+=")+distance,animation2[ref]=("pos"==motion?"+=":"-=")+distance,el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing),distance="hide"==mode?2*distance:distance/2}if("hide"==mode){var animation={opacity:0};animation[ref]=("pos"==motion?"-=":"+=")+distance,el.animate(animation,speed/2,o.options.easing,function(){el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments);
})}else{var animation1={},animation2={};animation1[ref]=("pos"==motion?"-=":"+=")+distance,animation2[ref]=("pos"==motion?"+=":"-=")+distance,el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing,function(){$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments)})}el.queue("fx",function(){el.dequeue()}),el.dequeue()})}}(jQuery),function($,undefined){$.effects.clip=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"vertical";$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),animate="IMG"==el[0].tagName?wrapper:el,ref={size:"vertical"==direction?"height":"width",position:"vertical"==direction?"top":"left"},distance="vertical"==direction?animate.height():animate.width();"show"==mode&&(animate.css(ref.size,0),animate.css(ref.position,distance/2));var animation={};animation[ref.size]="show"==mode?distance:0,animation[ref.position]="show"==mode?0:distance/2,animate.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()}})})}}(jQuery),function($,undefined){$.effects.drop=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right","opacity"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"left";$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight(!0)/2:el.outerWidth(!0)/2);"show"==mode&&el.css("opacity",0).css(ref,"pos"==motion?-distance:distance);var animation={opacity:"show"==mode?1:0};animation[ref]=("show"==mode?"pos"==motion?"+=":"-=":"pos"==motion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($,undefined){$.effects.explode=function(o){return this.queue(function(){var rows=o.options.pieces?Math.round(Math.sqrt(o.options.pieces)):3,cells=o.options.pieces?Math.round(Math.sqrt(o.options.pieces)):3;o.options.mode="toggle"==o.options.mode?$(this).is(":visible")?"hide":"show":o.options.mode;var el=$(this).show().css("visibility","hidden"),offset=el.offset();offset.top-=parseInt(el.css("marginTop"),10)||0,offset.left-=parseInt(el.css("marginLeft"),10)||0;for(var width=el.outerWidth(!0),height=el.outerHeight(!0),i=0;i<rows;i++)for(var j=0;j<cells;j++)el.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(width/cells),top:-i*(height/rows)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width/cells,height:height/rows,left:offset.left+j*(width/cells)+("show"==o.options.mode?(j-Math.floor(cells/2))*(width/cells):0),top:offset.top+i*(height/rows)+("show"==o.options.mode?(i-Math.floor(rows/2))*(height/rows):0),opacity:"show"==o.options.mode?0:1}).animate({left:offset.left+j*(width/cells)+("show"==o.options.mode?0:(j-Math.floor(cells/2))*(width/cells)),top:offset.top+i*(height/rows)+("show"==o.options.mode?0:(i-Math.floor(rows/2))*(height/rows)),opacity:"show"==o.options.mode?1:0},o.duration||500);setTimeout(function(){"show"==o.options.mode?el.css({visibility:"visible"}):el.css({visibility:"visible"}).hide(),o.callback&&o.callback.apply(el[0]),el.dequeue(),$("div.ui-effects-explode").remove()},o.duration||500)})}}(jQuery),function($,undefined){$.effects.fade=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||"hide");elem.animate({opacity:mode},{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){o.callback&&o.callback.apply(this,arguments),elem.dequeue()}})})}}(jQuery),function($,undefined){$.effects.fold=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"hide"),size=o.options.size||15,horizFirst=!!o.options.horizFirst,duration=o.duration?o.duration/2:$.fx.speeds._default/2;$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),widthFirst="show"==mode!=horizFirst,ref=widthFirst?["width","height"]:["height","width"],distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()],percent=/([0-9]+)%/.exec(size);percent&&(size=parseInt(percent[1],10)/100*distance["hide"==mode?0:1]),"show"==mode&&wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});var animation1={},animation2={};animation1[ref[0]]="show"==mode?distance[0]:size,animation2[ref[1]]="show"==mode?distance[1]:0,wrapper.animate(animation1,duration,o.options.easing).animate(animation2,duration,o.options.easing,function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()})})}}(jQuery),function($,undefined){$.effects.highlight=function(o){return this.queue(function(){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.options.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};"hide"==mode&&(animation.opacity=0),$.effects.save(elem,props),elem.show().css({backgroundImage:"none",backgroundColor:o.options.color||"#ffff99"}).animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&elem.hide(),$.effects.restore(elem,props),"show"==mode&&!$.support.opacity&&this.style.removeAttribute("filter"),o.callback&&o.callback.apply(this,arguments),elem.dequeue()}})})}}(jQuery),function($,undefined){$.effects.pulsate=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||"show"),times=2*(o.options.times||5)-1,duration=o.duration?o.duration/2:$.fx.speeds._default/2,isVisible=elem.is(":visible"),animateTo=0;isVisible||(elem.css("opacity",0).show(),animateTo=1),("hide"==mode&&isVisible||"show"==mode&&!isVisible)&&times--;for(var i=0;i<times;i++)elem.animate({opacity:animateTo},duration,o.options.easing),animateTo=(animateTo+1)%2;elem.animate({opacity:animateTo},duration,o.options.easing,function(){0==animateTo&&elem.hide(),o.callback&&o.callback.apply(this,arguments)}),elem.queue("fx",function(){elem.dequeue()}).dequeue()})}}(jQuery),function($,undefined){$.effects.puff=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||"hide"),percent=parseInt(o.options.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width()};$.extend(o.options,{fade:!0,mode:mode,percent:"hide"==mode?percent:100,from:"hide"==mode?original:{height:original.height*factor,width:original.width*factor}}),elem.effect("scale",o.options,o.duration,o.callback),elem.dequeue()})},$.effects.scale=function(o){return this.queue(function(){var el=$(this),options=$.extend(!0,{},o.options),mode=$.effects.setMode(el,o.options.mode||"effect"),percent=parseInt(o.options.percent,10)||(0==parseInt(o.options.percent,10)?0:"hide"==mode?0:100),direction=o.options.direction||"both",origin=o.options.origin;"effect"!=mode&&(options.origin=origin||["middle","center"],options.restore=!0);var original={height:el.height(),width:el.width()};el.from=o.options.from||("show"==mode?{height:0,width:0}:original);var factor={y:"horizontal"!=direction?percent/100:1,x:"vertical"!=direction?percent/100:1};el.to={height:original.height*factor.y,width:original.width*factor.x},o.options.fade&&("show"==mode&&(el.from.opacity=0,el.to.opacity=1),"hide"==mode&&(el.from.opacity=1,el.to.opacity=0)),options.from=el.from,options.to=el.to,options.mode=mode,el.effect("size",options,o.duration,o.callback),el.dequeue()})},$.effects.size=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.options.mode||"effect"),restore=o.options.restore||!1,scale=o.options.scale||"both",origin=o.options.origin,original={height:el.height(),width:el.width()};if(el.from=o.options.from||original,el.to=o.options.to||original,origin){var baseline=$.effects.getBaseline(origin,original);el.from.top=(original.height-el.from.height)*baseline.y,el.from.left=(original.width-el.from.width)*baseline.x,el.to.top=(original.height-el.to.height)*baseline.y,el.to.left=(original.width-el.to.width)*baseline.x}var factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};"box"!=scale&&"both"!=scale||(factor.from.y!=factor.to.y&&(props=props.concat(vProps),el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to)),factor.from.x!=factor.to.x&&(props=props.concat(hProps),el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from),el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to))),"content"!=scale&&"both"!=scale||factor.from.y!=factor.to.y&&(props=props.concat(cProps),el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to)),$.effects.save(el,restore?props:props1),el.show(),$.effects.createWrapper(el),el.css("overflow","hidden").css(el.from),"content"!=scale&&"both"!=scale||(vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps),hProps=hProps.concat(["marginLeft","marginRight"]),props2=props.concat(vProps).concat(hProps),el.find("*[width]").each(function(){var child=$(this);restore&&$.effects.save(child,props2);var c_original={height:child.height(),width:child.width()};child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x},child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x},factor.from.y!=factor.to.y&&(child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from),child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to)),factor.from.x!=factor.to.x&&(child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from),child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to)),child.css(child.from),child.animate(child.to,o.duration,o.options.easing,function(){restore&&$.effects.restore(child,props2)})})),el.animate(el.to,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){0===el.to.opacity&&el.css("opacity",el.from.opacity),"hide"==mode&&el.hide(),$.effects.restore(el,restore?props:props1),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($,undefined){$.effects.shake=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right"],direction=($.effects.setMode(el,o.options.mode||"effect"),o.options.direction||"left"),distance=o.options.distance||20,times=o.options.times||3,speed=o.duration||o.options.duration||140;$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",animation={},animation1={},animation2={};animation[ref]=("pos"==motion?"-=":"+=")+distance,animation1[ref]=("pos"==motion?"+=":"-=")+2*distance,animation2[ref]=("pos"==motion?"-=":"+=")+2*distance,el.animate(animation,speed,o.options.easing);for(var i=1;i<times;i++)el.animate(animation1,speed,o.options.easing).animate(animation2,speed,o.options.easing);el.animate(animation1,speed,o.options.easing).animate(animation,speed/2,o.options.easing,function(){$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments)}),el.queue("fx",function(){el.dequeue()}),el.dequeue()})}}(jQuery),function($,undefined){$.effects.slide=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"show"),direction=o.options.direction||"left";$.effects.save(el,props),el.show(),$.effects.createWrapper(el).css({overflow:"hidden"});var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight(!0):el.outerWidth(!0));"show"==mode&&el.css(ref,"pos"==motion?isNaN(distance)?"-"+distance:-distance:distance);var animation={};animation[ref]=("show"==mode?"pos"==motion?"+=":"-=":"pos"==motion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($,undefined){$.effects.transfer=function(o){return this.queue(function(){var elem=$(this),target=$(o.options.to),endPosition=target.offset(),animation={top:endPosition.top,left:endPosition.left,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(o.options.className).css({top:startPosition.top,left:startPosition.left,height:elem.innerHeight(),width:elem.innerWidth(),position:"absolute"}).animate(animation,o.duration,o.options.easing,function(){transfer.remove(),o.callback&&o.callback.apply(elem[0],arguments),elem.dequeue()})})}}(jQuery),function($,undefined){$.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var self=this,options=self.options;if(self.running=0,self.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),self.headers=self.element.find(options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){options.disabled||$(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){options.disabled||$(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){options.disabled||$(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){options.disabled||$(this).removeClass("ui-state-focus")}),self.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),options.navigation){var current=self.element.find("a").filter(options.navigationFilter).eq(0);if(current.length){var header=current.closest(".ui-accordion-header");header.length?self.active=header:self.active=current.closest(".ui-accordion-content").prev()}}self.active=self._findActive(self.active||options.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),self.active.next().addClass("ui-accordion-content-active"),self._createIcons(),self.resize(),self.element.attr("role","tablist"),self.headers.attr("role","tab").bind("keydown.accordion",function(event){return self._keydown(event)}).next().attr("role","tabpanel"),self.headers.not(self.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),self.active.length?self.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):self.headers.eq(0).attr("tabIndex",0),$.browser.safari||self.headers.find("a").attr("tabIndex",-1),options.event&&self.headers.bind(options.event.split(" ").join(".accordion ")+".accordion",function(event){self._clickHandler.call(self,event,this),event.preventDefault()})},_createIcons:function(){var options=this.options;options.icons&&($("<span></span>").addClass("ui-icon "+options.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(options.icons.header).toggleClass(options.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var options=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var contents=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(options.autoHeight||options.fillHeight)&&contents.css("height",""),$.Widget.prototype.destroy.call(this)},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments),"active"==key&&this.activate(value),"icons"==key&&(this._destroyIcons(),value&&this._createIcons()),"disabled"==key&&this.headers.add(this.headers.next())[value?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(event){if(!(this.options.disabled||event.altKey||event.ctrlKey)){var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=!1;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._clickHandler({target:event.target},event.target),event.preventDefault()}return!toFocus||($(event.target).attr("tabIndex",-1),$(toFocus).attr("tabIndex",0),toFocus.focus(),!1)}},resize:function(){var maxHeight,options=this.options;if(options.fillSpace){if($.browser.msie){var defOverflow=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}maxHeight=this.element.parent().height(),$.browser.msie&&this.element.parent().css("overflow",defOverflow),this.headers.each(function(){maxHeight-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")}else options.autoHeight&&(maxHeight=0,this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height())}).height(maxHeight));return this},activate:function(index){this.options.active=index;var active=this._findActive(index)[0];return this._clickHandler({target:active},active),this},_findActive:function(selector){return selector?"number"==typeof selector?this.headers.filter(":eq("+selector+")"):this.headers.not(this.headers.not(selector)):selector===!1?$([]):this.headers.filter(":eq(0)")},_clickHandler:function(event,target){var options=this.options;if(!options.disabled){if(!event.target){if(!options.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header),this.active.next().addClass("ui-accordion-content-active");var toHide=this.active.next(),data={options:options,newHeader:$([]),oldHeader:options.active,newContent:$([]),oldContent:toHide},toShow=this.active=$([]);return void this._toggle(toShow,toHide,data)}var clicked=$(event.currentTarget||target),clickedIsActive=clicked[0]===this.active[0];if(options.active=(!options.collapsible||!clickedIsActive)&&this.headers.index(clicked),!(this.running||!options.collapsible&&clickedIsActive)){var active=this.active,toShow=clicked.next(),toHide=this.active.next(),data={options:options,newHeader:clickedIsActive&&options.collapsible?$([]):clicked,oldHeader:this.active,newContent:clickedIsActive&&options.collapsible?$([]):toShow,oldContent:toHide},down=this.headers.index(this.active[0])>this.headers.index(clicked[0]);this.active=clickedIsActive?$([]):clicked,this._toggle(toShow,toHide,data,clickedIsActive,down),active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header),clickedIsActive||(clicked.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(options.icons.header).addClass(options.icons.headerSelected),clicked.next().addClass("ui-accordion-content-active"))}}},_toggle:function(toShow,toHide,data,clickedIsActive,down){var self=this,options=self.options;self.toShow=toShow,self.toHide=toHide,self.data=data;var complete=function(){if(self)return self._completed.apply(self,arguments)};if(self._trigger("changestart",null,self.data),self.running=0===toHide.size()?toShow.size():toHide.size(),options.animated){var animOptions={};animOptions=options.collapsible&&clickedIsActive?{toShow:$([]),toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace}:{toShow:toShow,toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace},options.proxied||(options.proxied=options.animated),options.proxiedDuration||(options.proxiedDuration=options.duration),options.animated=$.isFunction(options.proxied)?options.proxied(animOptions):options.proxied,options.duration=$.isFunction(options.proxiedDuration)?options.proxiedDuration(animOptions):options.proxiedDuration;var animations=$.ui.accordion.animations,duration=options.duration,easing=options.animated;!easing||animations[easing]||$.easing[easing]||(easing="slide"),animations[easing]||(animations[easing]=function(options){this.slide(options,{easing:easing,duration:duration||700})}),animations[easing](animOptions)}else options.collapsible&&clickedIsActive?toShow.toggle():(toHide.hide(),toShow.show()),complete(!0);toHide.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),toShow.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(cancel){this.running=cancel?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),$.extend($.ui.accordion,{version:"1.8.23",animations:{slide:function(options,additions){if(options=$.extend({easing:"swing",duration:300},options,additions),!options.toHide.size())return void options.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},options);if(!options.toShow.size())return void options.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},options);var originalWidth,overflow=options.toShow.css("overflow"),percentDone=0,showProps={},hideProps={},fxAttrs=["height","paddingTop","paddingBottom"],s=options.toShow;originalWidth=s[0].style.width,s.width(s.parent().width()-parseFloat(s.css("paddingLeft"))-parseFloat(s.css("paddingRight"))-(parseFloat(s.css("borderLeftWidth"))||0)-(parseFloat(s.css("borderRightWidth"))||0)),$.each(fxAttrs,function(i,prop){hideProps[prop]="hide";var parts=(""+$.css(options.toShow[0],prop)).match(/^([\d+-.]+)(.*)$/);showProps[prop]={value:parts[1],unit:parts[2]||"px"}}),options.toShow.css({height:0,overflow:"hidden"}).show(),options.toHide.filter(":hidden").each(options.complete).end().filter(":visible").animate(hideProps,{step:function(now,settings){"height"==settings.prop&&(percentDone=settings.end-settings.start===0?0:(settings.now-settings.start)/(settings.end-settings.start)),options.toShow[0].style[settings.prop]=percentDone*showProps[settings.prop].value+showProps[settings.prop].unit},duration:options.duration,easing:options.easing,complete:function(){options.autoHeight||options.toShow.css("height",""),options.toShow.css({width:originalWidth,overflow:overflow}),options.complete()}})},bounceslide:function(options){this.slide(options,{easing:options.down?"easeOutBounce":"swing",duration:options.down?1e3:200})}}})}(jQuery),function($,undefined){var requestIndex=0;$.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var suppressKeyPress,self=this,doc=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(event){if(!self.options.disabled&&!self.element.propAttr("readOnly")){suppressKeyPress=!1;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:self._move("previousPage",event);break;case keyCode.PAGE_DOWN:self._move("nextPage",event);break;case keyCode.UP:self._keyEvent("previous",event);break;case keyCode.DOWN:self._keyEvent("next",event);break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:self.menu.active&&(suppressKeyPress=!0,event.preventDefault());case keyCode.TAB:if(!self.menu.active)return;self.menu.select(event);break;case keyCode.ESCAPE:self.element.val(self.term),self.close(event);break;default:clearTimeout(self.searching),self.searching=setTimeout(function(){self.term!=self.element.val()&&(self.selectedItem=null,self.search(null,event))},self.options.delay)}}}).bind("keypress.autocomplete",function(event){suppressKeyPress&&(suppressKeyPress=!1,event.preventDefault())}).bind("focus.autocomplete",function(){self.options.disabled||(self.selectedItem=null,self.previous=self.element.val())}).bind("blur.autocomplete",function(event){self.options.disabled||(clearTimeout(self.searching),self.closing=setTimeout(function(){self.close(event),self._change(event)},150))}),this._initSource(),this.menu=$("<ul></ul>").addClass("ui-autocomplete").appendTo($(this.options.appendTo||"body",doc)[0]).mousedown(function(event){var menuElement=self.menu.element[0];$(event.target).closest(".ui-menu-item").length||setTimeout(function(){$(document).one("mousedown",function(event){event.target===self.element[0]||event.target===menuElement||$.ui.contains(menuElement,event.target)||self.close()})},1),setTimeout(function(){clearTimeout(self.closing)},13)}).menu({focus:function(event,ui){var item=ui.item.data("item.autocomplete");!1!==self._trigger("focus",event,{item:item})&&/^key/.test(event.originalEvent.type)&&self.element.val(item.value)},selected:function(event,ui){var item=ui.item.data("item.autocomplete"),previous=self.previous;self.element[0]!==doc.activeElement&&(self.element.focus(),self.previous=previous,setTimeout(function(){self.previous=previous,self.selectedItem=item},1)),!1!==self._trigger("select",event,{item:item})&&self.element.val(item.value),self.term=self.element.val(),self.close(event),self.selectedItem=item},blur:function(event,ui){self.menu.element.is(":visible")&&self.element.val()!==self.term&&self.element.val(self.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),$.fn.bgiframe&&this.menu.element.bgiframe(),self.beforeunloadHandler=function(){self.element.removeAttr("autocomplete")},$(window).bind("beforeunload",self.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),$(window).unbind("beforeunload",this.beforeunloadHandler),$.Widget.prototype.destroy.call(this)},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments),"source"===key&&this._initSource(),"appendTo"===key&&this.menu.element.appendTo($(value||"body",this.element[0].ownerDocument)[0]),"disabled"===key&&value&&this.xhr&&this.xhr.abort()},_initSource:function(){var array,url,self=this;$.isArray(this.options.source)?(array=this.options.source,this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}):"string"==typeof this.options.source?(url=this.options.source,this.source=function(request,response){self.xhr&&self.xhr.abort(),self.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data,status){response(data)},error:function(){response([])}})}):this.source=this.options.source},search:function(value,event){return value=null!=value?value:this.element.val(),this.term=this.element.val(),value.length<this.options.minLength?this.close(event):(clearTimeout(this.closing),this._trigger("search",event)!==!1?this._search(value):void 0)},_search:function(value){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:value},this._response())},_response:function(){var that=this,index=++requestIndex;return function(content){index===requestIndex&&that.__response(content),that.pending--,that.pending||that.element.removeClass("ui-autocomplete-loading")}},__response:function(content){!this.options.disabled&&content&&content.length?(content=this._normalize(content),this._suggest(content),this._trigger("open")):this.close()},close:function(event){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",event))},_change:function(event){this.previous!==this.element.val()&&this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){return items.length&&items[0].label&&items[0].value?items:$.map(items,function(item){return"string"==typeof item?{label:item,value:item}:$.extend({label:item.label||item.value,value:item.value||item.label},item)})},_suggest:function(items){var ul=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(ul,items),this.menu.deactivate(),this.menu.refresh(),ul.show(),this._resizeMenu(),ul.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new $.Event("mouseover"))},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var self=this;$.each(items,function(index,item){self._renderItem(ul,item)})},_renderItem:function(ul,item){return $("<li></li>").data("item.autocomplete",item).append($("<a></a>").text(item.label)).appendTo(ul)},_move:function(direction,event){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(direction)||this.menu.last()&&/^next/.test(direction)?(this.element.val(this.term),void this.menu.deactivate()):void this.menu[direction](event):void this.search(null,event)},widget:function(){return this.menu.element},_keyEvent:function(keyEvent,event){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(keyEvent,event),event.preventDefault())}}),$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}})}(jQuery),function($){$.widget("ui.menu",{_create:function(){var self=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({
role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(event){$(event.target).closest(".ui-menu-item a").length&&(event.preventDefault(),self.select(event))}),this.refresh()},refresh:function(){var self=this,items=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");items.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(event){self.activate(event,$(this).parent())}).mouseleave(function(){self.deactivate()})},activate:function(event,item){if(this.deactivate(),this.hasScroll()){var offset=item.offset().top-this.element.offset().top,scroll=this.element.scrollTop(),elementHeight=this.element.height();offset<0?this.element.scrollTop(scroll+offset):offset>=elementHeight&&this.element.scrollTop(scroll+offset-elementHeight+item.height())}this.active=item.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",event,{item:item})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(event){this.move("next",".ui-menu-item:first",event)},previous:function(event){this.move("prev",".ui-menu-item:last",event)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(direction,edge,event){if(!this.active)return void this.activate(event,this.element.children(edge));var next=this.active[direction+"All"](".ui-menu-item").eq(0);next.length?this.activate(event,next):this.activate(event,this.element.children(edge))},nextPage:function(event){if(this.hasScroll()){if(!this.active||this.last())return void this.activate(event,this.element.children(".ui-menu-item:first"));var base=this.active.offset().top,height=this.element.height(),result=this.element.children(".ui-menu-item").filter(function(){var close=$(this).offset().top-base-height+$(this).height();return close<10&&close>-10});result.length||(result=this.element.children(".ui-menu-item:last")),this.activate(event,result)}else this.activate(event,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(event){if(this.hasScroll()){if(!this.active||this.first())return void this.activate(event,this.element.children(".ui-menu-item:last"));var base=this.active.offset().top,height=this.element.height(),result=this.element.children(".ui-menu-item").filter(function(){var close=$(this).offset().top-base+height-$(this).height();return close<10&&close>-10});result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(event,result)}else this.activate(event,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[$.fn.prop?"prop":"attr"]("scrollHeight")},select:function(event){this._trigger("selected",event,{item:this.active})}})}(jQuery),function($,undefined){var lastActive,startXPos,startYPos,clickDragged,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",stateClasses="ui-state-hover ui-state-active ",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var buttons=$(this).find(":ui-button");setTimeout(function(){buttons.button("refresh")},1)},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);return name&&(radios=form?$(form).find("[name='"+name+"']"):$("[name='"+name+"']",radio.ownerDocument).filter(function(){return!this.form})),radios};$.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",formResetHandler),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var self=this,options=this.options,toggleButton="checkbox"===this.type||"radio"===this.type,hoverClass="ui-state-hover"+(toggleButton?"":" ui-state-active"),focusClass="ui-state-focus";null===options.label&&(options.label=this.buttonElement.html()),this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter.button",function(){options.disabled||($(this).addClass("ui-state-hover"),this===lastActive&&$(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){options.disabled||$(this).removeClass(hoverClass)}).bind("click.button",function(event){options.disabled&&(event.preventDefault(),event.stopImmediatePropagation())}),this.element.bind("focus.button",function(){self.buttonElement.addClass(focusClass)}).bind("blur.button",function(){self.buttonElement.removeClass(focusClass)}),toggleButton&&(this.element.bind("change.button",function(){clickDragged||self.refresh()}),this.buttonElement.bind("mousedown.button",function(event){options.disabled||(clickDragged=!1,startXPos=event.pageX,startYPos=event.pageY)}).bind("mouseup.button",function(event){options.disabled||startXPos===event.pageX&&startYPos===event.pageY||(clickDragged=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return!options.disabled&&!clickDragged&&($(this).toggleClass("ui-state-active"),void self.buttonElement.attr("aria-pressed",self.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(options.disabled||clickDragged)return!1;$(this).addClass("ui-state-active"),self.buttonElement.attr("aria-pressed","true");var radio=self.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return!options.disabled&&($(this).addClass("ui-state-active"),lastActive=this,void $(document).one("mouseup",function(){lastActive=null}))}).bind("mouseup.button",function(){return!options.disabled&&void $(this).removeClass("ui-state-active")}).bind("keydown.button",function(event){return!options.disabled&&void(event.keyCode!=$.ui.keyCode.SPACE&&event.keyCode!=$.ui.keyCode.ENTER||$(this).addClass("ui-state-active"))}).bind("keyup.button",function(){$(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(event){event.keyCode===$.ui.keyCode.SPACE&&$(this).click()})),this._setOption("disabled",options.disabled),this._resetButton()},_determineButtonType:function(){if(this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type){var ancestor=this.element.parents().filter(":last"),labelSelector="label[for='"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector),this.buttonElement.length||(ancestor=ancestor.length?ancestor.siblings():this.element.siblings(),this.buttonElement=ancestor.filter(labelSelector),this.buttonElement.length||(this.buttonElement=ancestor.find(labelSelector))),this.element.addClass("ui-helper-hidden-accessible");var checked=this.element.is(":checked");checked&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",checked)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(baseClasses+" "+stateClasses+" "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),$.Widget.prototype.destroy.call(this)},_setOption:function(key,value){return $.Widget.prototype._setOption.apply(this,arguments),"disabled"===key?void(value?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1)):void this._resetButton()},refresh:function(){var isDisabled=this.element.is(":disabled");isDisabled!==this.options.disabled&&this._setOption("disabled",isDisabled),"radio"===this.type?radioGroup(this.element[0]).each(function(){$(this).is(":checked")?$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];icons.primary||icons.secondary?(this.options.text&&buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":icons.primary?"-primary":"-secondary")),icons.primary&&buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>"),icons.secondary&&buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>"),this.options.text||(buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||buttonElement.attr("title",buttonText))):buttonClasses.push("ui-button-text-only"),buttonElement.addClass(buttonClasses.join(" "))}}),$.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(key,value){"disabled"===key&&this.buttons.button("option",key,value),$.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var rtl="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),$.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.bind("mouseout",function(event){var elem=$(event.target).closest(selector);elem.length&&elem.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(event){var elem=$(event.target).closest(selector);!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])&&elem.length&&(elem.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),elem.addClass("ui-state-hover"),elem.hasClass("ui-datepicker-prev")&&elem.addClass("ui-datepicker-prev-hover"),elem.hasClass("ui-datepicker-next")&&elem.addClass("ui-datepicker-next-hover"))})}function extendRemove(target,props){$.extend(target,props);for(var name in props)null!=props[name]&&props[name]!=undefined||(target[name]=props[name]);return target}function isArray(a){return a&&($.browser.safari&&"object"==typeof a&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.23"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){return extendRemove(this._defaults,settings||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:inline?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]),inst.trigger=$([]),input.hasClass(this.markerClassName)||(this._attachments(input,inst),input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)}),this._autoSize(inst),$.data(target,PROP_NAME,inst),inst.settings.disabled&&this._disableDatepicker(target))},_attachments:function(input,inst){var appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");inst.append&&inst.append.remove(),appendText&&(inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>"),input[isRTL?"before":"after"](inst.append)),input.unbind("focus",this._showDatepicker),inst.trigger&&inst.trigger.remove();var showOn=this._get(inst,"showOn");if("focus"!=showOn&&"both"!=showOn||input.focus(this._showDatepicker),"button"==showOn||"both"==showOn){var buttonText=this._get(inst,"buttonText"),buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText}))),input[isRTL?"before":"after"](inst.trigger),inst.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==input[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=input[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(input[0])):$.datepicker._showDatepicker(input[0]),!1})}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var date=new Date(2009,11,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){var findMax=function(names){for(var max=0,maxI=0,i=0;i<names.length;i++)names[i].length>max&&(max=names[i].length,maxI=i);return maxI};date.setMonth(findMax(this._get(inst,dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))),date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?"dayNames":"dayNamesShort"))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);divSpan.hasClass(this.markerClassName)||(divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)}),$.data(target,PROP_NAME,inst),this._setDate(inst,this._getDefaultDate(inst),!0),this._updateDatepicker(inst),this._updateAlternate(inst),inst.settings.disabled&&this._disableDatepicker(target),inst.dpDiv.css("display","block"))},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+id+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),inst=this._dialogInst=this._newInst(this._dialogInput,!1),inst.settings={},$.data(this._dialogInput[0],PROP_NAME,inst)}if(extendRemove(inst.settings,settings||{}),date=date&&date.constructor==Date?this._formatDate(inst,date):date,this._dialogInput.val(date),this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null,!this._pos){var browserWidth=document.documentElement.clientWidth,browserHeight=document.documentElement.clientHeight,scrollX=document.documentElement.scrollLeft||document.body.scrollLeft,scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),inst.settings.onSelect=onSelect,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,inst),this},_destroyDatepicker:function(target){var $target=$(target),inst=$.data(target,PROP_NAME);if($target.hasClass(this.markerClassName)){var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME),"input"==nodeName?(inst.append.remove(),inst.trigger.remove(),$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=nodeName&&"span"!=nodeName||$target.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(target){var $target=$(target),inst=$.data(target,PROP_NAME);if($target.hasClass(this.markerClassName)){var nodeName=target.nodeName.toLowerCase();if("input"==nodeName)target.disabled=!1,inst.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==nodeName||"span"==nodeName){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(value){return value==target?null:value})}},_disableDatepicker:function(target){var $target=$(target),inst=$.data(target,PROP_NAME);if($target.hasClass(this.markerClassName)){var nodeName=target.nodeName.toLowerCase();if("input"==nodeName)target.disabled=!0,inst.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==nodeName||"span"==nodeName){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(value){return value==target?null:value}),this._disabledInputs[this._disabledInputs.length]=target}},_isDisabledDatepicker:function(target){if(!target)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]==target)return!0;return!1},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(2==arguments.length&&"string"==typeof name)return"defaults"==name?$.extend({},$.datepicker._defaults):inst?"all"==name?$.extend({},inst.settings):this._get(inst,name):null;var settings=name||{};if("string"==typeof name&&(settings={},settings[name]=value),inst){this._curInst==inst&&this._hideDatepicker();var date=this._getDateDatepicker(target,!0),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings),null!==minDate&&settings.dateFormat!==undefined&&settings.minDate===undefined&&(inst.settings.minDate=this._formatDate(inst,minDate)),null!==maxDate&&settings.dateFormat!==undefined&&settings.maxDate===undefined&&(inst.settings.maxDate=this._formatDate(inst,maxDate)),this._attachments($(target),inst),this._autoSize(inst),this._setDate(inst,date),this._updateAlternate(inst),this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);inst&&this._updateDatepicker(inst)},_setDateDatepicker:function(target,date){var inst=this._getInst(target);inst&&(this._setDate(inst,date),this._updateDatepicker(inst),this._updateAlternate(inst))},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);return inst&&!inst.inline&&this._setDateFromField(inst,noDefault),inst?this._getDate(inst):null},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target),handled=!0,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");if(inst._keyEvent=!0,$.datepicker._datepickerShowing)switch(event.keyCode){case 9:$.datepicker._hideDatepicker(),handled=!1;break;case 13:var sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);sel[0]&&$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);var onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){var dateStr=$.datepicker._formatDate(inst);onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 35:(event.ctrlKey||event.metaKey)&&$.datepicker._clearDate(event.target),handled=event.ctrlKey||event.metaKey;break;case 36:(event.ctrlKey||event.metaKey)&&$.datepicker._gotoToday(event.target),handled=event.ctrlKey||event.metaKey;break;case 37:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?1:-1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 38:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,-7,"D"),handled=event.ctrlKey||event.metaKey;break;case 39:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?-1:1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 40:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,7,"D"),handled=event.ctrlKey||event.metaKey;break;default:handled=!1}else 36==event.keyCode&&event.ctrlKey?$.datepicker._showDatepicker(this):handled=!1;handled&&(event.preventDefault(),event.stopPropagation())},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||chr<" "||!chars||chars.indexOf(chr)>-1}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal)try{var date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),inst.input?inst.input.val():null,$.datepicker._getFormatConfig(inst));date&&($.datepicker._setDateFromField(inst),$.datepicker._updateAlternate(inst),$.datepicker._updateDatepicker(inst))}catch(err){$.datepicker.log(err)}return!0},_showDatepicker:function(input){if(input=input.target||input,"input"!=input.nodeName.toLowerCase()&&(input=$("input",input.parentNode)[0]),!$.datepicker._isDisabledDatepicker(input)&&$.datepicker._lastInput!=input){var inst=$.datepicker._getInst(input);$.datepicker._curInst&&$.datepicker._curInst!=inst&&($.datepicker._curInst.dpDiv.stop(!0,!0),inst&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var beforeShow=$.datepicker._get(inst,"beforeShow"),beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings!==!1){extendRemove(inst.settings,beforeShowSettings),inst.lastVal=null,$.datepicker._lastInput=input,$.datepicker._setDateFromField(inst),$.datepicker._inDialog&&(input.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(input),$.datepicker._pos[1]+=input.offsetHeight);var isFixed=!1;$(input).parents().each(function(){return isFixed|="fixed"==$(this).css("position"),!isFixed}),isFixed&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,inst.dpDiv.empty(),inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(inst),offset=$.datepicker._checkOffset(inst,offset,isFixed),inst.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":isFixed?"fixed":"absolute",display:"none",left:offset.left+"px",top:offset.top+"px"}),!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim"),duration=$.datepicker._get(inst,"duration"),postProcess=function(){var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}};inst.dpDiv.zIndex($(input).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[showAnim]?inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv[showAnim||"show"](showAnim?duration:null,postProcess),showAnim&&duration||postProcess(),inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input.focus(),$.datepicker._curInst=inst}}}},_updateDatepicker:function(inst){var self=this;self.maxRows=4;var borders=$.datepicker._getBorders(inst.dpDiv);instActive=inst,inst.dpDiv.empty().append(this._generateHTML(inst)),this._attachHandlers(inst);var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");cover.length&&cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()}),inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17;if(inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),cols>1&&inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",width*cols+"em"),inst.dpDiv[(1!=numMonths[0]||1!=numMonths[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement&&inst.input.focus(),inst.yearshtml){var origyearshtml=inst.yearshtml;setTimeout(function(){origyearshtml===inst.yearshtml&&inst.yearshtml&&inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml),origyearshtml=inst.yearshtml=null},0)}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());return offset.left-=this._get(inst,"isRTL")?dpWidth-inputWidth:0,offset.left-=isFixed&&offset.left==inst.input.offset().left?$(document).scrollLeft():0,offset.top-=isFixed&&offset.top==inst.input.offset().top+inputHeight?$(document).scrollTop():0,offset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):0),offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight):0),offset},_findPos:function(obj){for(var inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");obj&&("hidden"==obj.type||1!=obj.nodeType||$.expr.filters.hidden(obj));)obj=obj[isRTL?"previousSibling":"nextSibling"];var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input){var inst=this._curInst;if(inst&&(!input||inst==$.data(input,PROP_NAME))&&this._datepickerShowing){var showAnim=this._get(inst,"showAnim"),duration=this._get(inst,"duration"),postProcess=function(){$.datepicker._tidyDialog(inst)};$.effects&&$.effects[showAnim]?inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv["slideDown"==showAnim?"slideUp":"fadeIn"==showAnim?"fadeOut":"hide"](showAnim?duration:null,postProcess),showAnim||postProcess(),this._datepickerShowing=!1;var onClose=this._get(inst,"onClose");onClose&&onClose.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():"",inst]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(inst){
inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if($.datepicker._curInst){var $target=$(event.target),inst=$.datepicker._getInst($target[0]);($target[0].id==$.datepicker._mainDivId||0!=$target.parents("#"+$.datepicker._mainDivId).length||$target.hasClass($.datepicker.markerClassName)||$target.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!$target.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==inst)||$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);this._isDisabledDatepicker(target[0])||(this._adjustInstDate(inst,offset+("M"==period?this._get(inst,"showCurrentAtPos"):0),period),this._updateDatepicker(inst))},_gotoToday:function(id){var target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay)inst.selectedDay=inst.currentDay,inst.drawMonth=inst.selectedMonth=inst.currentMonth,inst.drawYear=inst.selectedYear=inst.currentYear;else{var date=new Date;inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst),this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+("M"==period?"Month":"Year")]=inst["draw"+("M"==period?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10),this._notifyChange(inst),this._adjustDate(target)},_selectDay:function(id,month,year,td){var target=$(id);if(!$(td).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(target[0])){var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html(),inst.selectedMonth=inst.currentMonth=month,inst.selectedYear=inst.currentYear=year,this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))}},_clearDate:function(id){var target=$(id);this._getInst(target[0]);this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id),inst=this._getInst(target[0]);dateStr=null!=dateStr?dateStr:this._formatDate(inst),inst.input&&inst.input.val(dateStr),this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");onSelect?onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]):inst.input&&inst.input.trigger("change"),inst.inline?this._updateDatepicker(inst):(this._hideDatepicker(),this._lastInput=inst.input[0],"object"!=typeof inst.input[0]&&inst.input.focus(),this._lastInput=null)},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat"),date=this._getDate(inst),dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[day>0&&day<6,""]},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1},parseDate:function(format,value,settings){if(null==format||null==value)throw"Invalid arguments";if(value="object"==typeof value?value.toString():value+"",""==value)return null;var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10);for(var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},getNumber=function(match){var isDoubled=lookAhead(match),size="@"==match?14:"!"==match?20:"y"==match&&isDoubled?4:"o"==match?3:2,digits=new RegExp("^\\d{1,"+size+"}"),num=value.substring(iValue).match(digits);if(!num)throw"Missing number at position "+iValue;return iValue+=num[0].length,parseInt(num[0],10)},getName=function(match,shortNames,longNames){var names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),index=-1;if($.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()==name.toLowerCase())return index=pair[0],iValue+=name.length,!1}),index!=-1)return index+1;throw"Unknown name at position "+iValue},checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++},iValue=0,iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":var date=new Date(getNumber("@"));year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"!":var date=new Date((getNumber("!")-this._ticksTo1970)/1e4);year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}if(iValue<value.length)throw"Extra/unparsed characters found in date: "+value.substring(iValue);if(year==-1?year=(new Date).getFullYear():year<100&&(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(year<=shortYearCutoff?0:-100)),doy>-1)for(month=1,day=doy;;){var dim=this._getDaysInMonth(year,month-1);if(day<=dim)break;month++,day-=dim}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day)throw"Invalid date";return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(format,date,settings){if(!date)return"";var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match))for(;num.length<len;)num="0"+num;return num},formatName=function(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value]},output="",literal=!1;if(date)for(var iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?output+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/864e5),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100;break;case"@":output+=date.getTime();break;case"!":output+=1e4*date.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?output+="'":literal=!0;break;default:output+=format.charAt(iFormat)}return output},_possibleChars:function(format){for(var chars="",literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?chars+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?chars+="'":literal=!0;break;default:chars+=format.charAt(iFormat)}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()!=inst.lastVal){var date,defaultDate,dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event),dates=noDefault?"":dates}inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),inst.currentDay=dates?date.getDate():0,inst.currentMonth=dates?date.getMonth():0,inst.currentYear=dates?date.getFullYear():0,this._adjustInstDate(inst)}},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date;return date.setDate(date.getDate()+offset),date},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}for(var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date,year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);matches;){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=7*parseInt(matches[1],10);break;case"m":case"M":month+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day)},newDate=null==date||""===date?defaultDate:"string"==typeof date?offsetString(date):"number"==typeof date?isNaN(date)?defaultDate:offsetNumeric(date):new Date(date.getTime());return newDate=newDate&&"Invalid Date"==newDate.toString()?defaultDate:newDate,newDate&&(newDate.setHours(0),newDate.setMinutes(0),newDate.setSeconds(0),newDate.setMilliseconds(0)),this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){return date?(date.setHours(date.getHours()>12?date.getHours()+2:0),date):null},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date));inst.selectedDay=inst.currentDay=newDate.getDate(),inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth(),inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear(),origMonth==inst.selectedMonth&&origYear==inst.selectedYear||noChange||this._notifyChange(inst),this._adjustInstDate(inst),inst.input&&inst.input.val(clear?"":this._formatDate(inst))},_getDate:function(inst){var startDate=!inst.currentYear||inst.input&&""==inst.input.val()?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return startDate},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,-stepMonths,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(id)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},_generateHTML:function(inst){var today=new Date;today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=1!=numMonths[0]||1!=numMonths[1],currentDate=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0&&(drawMonth+=12,drawYear--),maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate()));for(maxDraw=minDate&&maxDraw<minDate?minDate:maxDraw;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw;)drawMonth--,drawMonth<0&&(drawMonth=11,drawYear--)}inst.drawMonth=drawMonth,inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=navigationAsDateFormat?this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)):prevText;var prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>",nextText=this._get(inst,"nextText");nextText=navigationAsDateFormat?this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)):nextText;var next=this._canAdjustMonth(inst,1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>",currentText=this._get(inst,"currentText"),gotoDate=this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today;currentText=navigationAsDateFormat?this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)):currentText;var controls=inst.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(inst,"closeText")+"</button>",buttonPanel=showButtonPanel?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"",firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=isNaN(firstDay)?0:firstDay;for(var showWeek=this._get(inst,"showWeek"),dayNames=this._get(inst,"dayNames"),dayNamesMin=(this._get(inst,"dayNamesShort"),this._get(inst,"dayNamesMin")),monthNames=this._get(inst,"monthNames"),monthNamesShort=this._get(inst,"monthNamesShort"),beforeShowDay=this._get(inst,"beforeShowDay"),showOtherMonths=this._get(inst,"showOtherMonths"),selectOtherMonths=this._get(inst,"selectOtherMonths"),defaultDate=(this._get(inst,"calculateWeek")||this.iso8601Week,this._getDefaultDate(inst)),html="",row=0;row<numMonths[0];row++){var group="";this.maxRows=4;for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay)),cornerClass=" ui-corner-all",calender="";if(isMultiMonth){if(calender+='<div class="ui-datepicker-group',numMonths[1]>1)switch(col){case 0:calender+=" ui-datepicker-group-first",cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last",cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle",cornerClass=""}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&0==row?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&&0==row?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var thead=showWeek?'<th class="ui-datepicker-week-col">'+this._get(inst,"weekHeader")+"</th>":"",dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth&&(inst.selectedDay=Math.min(inst.selectedDay,daysInMonth));var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7,curRows=Math.ceil((leadDays+daysInMonth)/7),numRows=isMultiMonth&&this.maxRows>curRows?this.maxRows:curRows;this.maxRows=numRows;for(var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays)),dRow=0;dRow<numRows;dRow++){calender+="<tr>";for(var tbody=showWeek?'<td class="ui-datepicker-week-col">'+this._get(inst,"calculateWeek")(printDate)+"</td>":"",dow=0;dow<7;dow++){var daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""],otherMonth=printDate.getMonth()!=drawMonth,unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&printDate>maxDate;tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+(printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()==currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+(otherMonth&&!showOtherMonths||!daySettings[2]?"":' title="'+daySettings[2]+'"')+(unselectable?"":' data-handler="selectDay" data-event="click" data-month="'+printDate.getMonth()+'" data-year="'+printDate.getFullYear()+'"')+">"+(otherMonth&&!showOtherMonths?"&#xa0;":unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()==currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+'" href="#">'+printDate.getDate()+"</a>")+"</td>",printDate.setDate(printDate.getDate()+1),printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++,drawMonth>11&&(drawMonth=0,drawYear++),calender+="</tbody></table>"+(isMultiMonth?"</div>"+(numMonths[0]>0&&col==numMonths[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),group+=calender}html+=group}return html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),inst._keyEvent=!1,html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html='<div class="ui-datepicker-title">',monthHtml="";if(secondary||!changeMonth)monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span>";else{var inMinYear=minDate&&minDate.getFullYear()==drawYear,inMaxYear=maxDate&&maxDate.getFullYear()==drawYear;monthHtml+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var month=0;month<12;month++)(!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())&&(monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>");monthHtml+="</select>"}if(showMonthAfterYear||(html+=monthHtml+(!secondary&&changeMonth&&changeYear?"":"&#xa0;")),!inst.yearshtml)if(inst.yearshtml="",secondary||!changeYear)html+='<span class="ui-datepicker-year">'+drawYear+"</span>";else{var years=this._get(inst,"yearRange").split(":"),thisYear=(new Date).getFullYear(),determineYear=function(value){var year=value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10);return isNaN(year)?thisYear:year},year=determineYear(years[0]),endYear=Math.max(year,determineYear(years[1]||""));for(year=minDate?Math.max(year,minDate.getFullYear()):year,endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear,inst.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';year<=endYear;year++)inst.yearshtml+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>";inst.yearshtml+="</select>",html+=inst.yearshtml,inst.yearshtml=null}return html+=this._get(inst,"yearSuffix"),showMonthAfterYear&&(html+=(!secondary&&changeMonth&&changeYear?"":"&#xa0;")+monthHtml),html+="</div>"},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+("Y"==period?offset:0),month=inst.drawMonth+("M"==period?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+("D"==period?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),"M"!=period&&"Y"!=period||this._notifyChange(inst)},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=minDate&&date<minDate?minDate:date;return newDate=maxDate&&newDate>maxDate?maxDate:newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");onChange&&onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst])},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return null==numMonths?[1,1]:"number"==typeof numMonths?[1,numMonths]:numMonths},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));return offset<0&&date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth())),this._isInRange(inst,date)},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max");return(!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");return shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){day||(inst.currentDay=inst.selectedDay,inst.currentMonth=inst.selectedMonth,inst.currentYear=inst.selectedYear);var date=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}}),$.fn.datepicker=function(options){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var otherArgs=Array.prototype.slice.call(arguments,1);return"string"!=typeof options||"isDisabled"!=options&&"getDate"!=options&&"widget"!=options?"option"==options&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs)):this.each(function(){"string"==typeof options?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)}):$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.23",window["DP_jQuery_"+dpuuid]=$}(jQuery),function($,undefined){var uiDialogClasses="ui-dialog ui-widget ui-widget-content ui-corner-all ",sizeRelatedOptions={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};$.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;topOffset<0&&$(this).css("top",pos.top-topOffset)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var self=this,options=self.options,title=options.title||"&#160;",titleId=$.ui.dialog.getTitleId(self.element),uiDialog=(self.uiDialog=$("<div></div>")).appendTo(document.body).hide().addClass(uiDialogClasses+options.dialogClass).css({zIndex:options.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(event){options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE&&(self.close(event),event.preventDefault())}).attr({role:"dialog","aria-labelledby":titleId}).mousedown(function(event){self.moveToTop(!1,event)}),uiDialogTitlebar=(self.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(uiDialog),(self.uiDialogTitlebar=$("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(uiDialog)),uiDialogTitlebarClose=$('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){uiDialogTitlebarClose.addClass("ui-state-hover")},function(){uiDialogTitlebarClose.removeClass("ui-state-hover")}).focus(function(){uiDialogTitlebarClose.addClass("ui-state-focus")}).blur(function(){uiDialogTitlebarClose.removeClass("ui-state-focus")}).click(function(event){return self.close(event),!1}).appendTo(uiDialogTitlebar);(self.uiDialogTitlebarCloseText=$("<span></span>")).addClass("ui-icon ui-icon-closethick").text(options.closeText).appendTo(uiDialogTitlebarClose),$("<span></span>").addClass("ui-dialog-title").attr("id",titleId).html(title).prependTo(uiDialogTitlebar);$.isFunction(options.beforeclose)&&!$.isFunction(options.beforeClose)&&(options.beforeClose=options.beforeclose),uiDialogTitlebar.find("*").add(uiDialogTitlebar).disableSelection(),options.draggable&&$.fn.draggable&&self._makeDraggable(),options.resizable&&$.fn.resizable&&self._makeResizable(),self._createButtons(options.buttons),self._isOpen=!1,$.fn.bgiframe&&uiDialog.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var self=this;return self.overlay&&self.overlay.destroy(),self.uiDialog.hide(),self.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),self.uiDialog.remove(),self.originalTitle&&self.element.attr("title",self.originalTitle),self},widget:function(){return this.uiDialog},close:function(event){var maxZ,thisZ,self=this;if(!1!==self._trigger("beforeClose",event))return self.overlay&&self.overlay.destroy(),self.uiDialog.unbind("keypress.ui-dialog"),self._isOpen=!1,self.options.hide?self.uiDialog.hide(self.options.hide,function(){self._trigger("close",event)}):(self.uiDialog.hide(),self._trigger("close",event)),$.ui.dialog.overlay.resize(),self.options.modal&&(maxZ=0,$(".ui-dialog").each(function(){this!==self.uiDialog[0]&&(thisZ=$(this).css("z-index"),isNaN(thisZ)||(maxZ=Math.max(maxZ,thisZ)))}),$.ui.dialog.maxZ=maxZ),self},isOpen:function(){return this._isOpen},moveToTop:function(force,event){var saveScroll,self=this,options=self.options;return options.modal&&!force||!options.stack&&!options.modal?self._trigger("focus",event):(options.zIndex>$.ui.dialog.maxZ&&($.ui.dialog.maxZ=options.zIndex),self.overlay&&($.ui.dialog.maxZ+=1,self.overlay.$el.css("z-index",$.ui.dialog.overlay.maxZ=$.ui.dialog.maxZ)),saveScroll={scrollTop:self.element.scrollTop(),scrollLeft:self.element.scrollLeft()},$.ui.dialog.maxZ+=1,self.uiDialog.css("z-index",$.ui.dialog.maxZ),self.element.attr(saveScroll),self._trigger("focus",event),self)},open:function(){if(!this._isOpen){var self=this,options=self.options,uiDialog=self.uiDialog;return self.overlay=options.modal?new $.ui.dialog.overlay(self):null,self._size(),self._position(options.position),uiDialog.show(options.show),self.moveToTop(!0),options.modal&&uiDialog.bind("keydown.ui-dialog",function(event){if(event.keyCode===$.ui.keyCode.TAB){var tabbables=$(":tabbable",this),first=tabbables.filter(":first"),last=tabbables.filter(":last");return event.target!==last[0]||event.shiftKey?event.target===first[0]&&event.shiftKey?(last.focus(1),!1):void 0:(first.focus(1),!1)}}),$(self.element.find(":tabbable").get().concat(uiDialog.find(".ui-dialog-buttonpane :tabbable").get().concat(uiDialog.get()))).eq(0).focus(),self._isOpen=!0,self._trigger("open"),self}},_createButtons:function(buttons){var self=this,hasButtons=!1,uiDialogButtonPane=$("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),uiButtonSet=$("<div></div>").addClass("ui-dialog-buttonset").appendTo(uiDialogButtonPane);self.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof buttons&&null!==buttons&&$.each(buttons,function(){
return!(hasButtons=!0)}),hasButtons&&($.each(buttons,function(name,props){props=$.isFunction(props)?{click:props,text:name}:props;var button=$('<button type="button"></button>').click(function(){props.click.apply(self.element[0],arguments)}).appendTo(uiButtonSet);$.each(props,function(key,value){"click"!==key&&(key in button?button[key](value):button.attr(key,value))}),$.fn.button&&button.button()}),uiDialogButtonPane.appendTo(self.uiDialog))},_makeDraggable:function(){function filteredUi(ui){return{position:ui.position,offset:ui.offset}}var heightBeforeDrag,self=this,options=self.options,doc=$(document);self.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){heightBeforeDrag="auto"===options.height?"auto":$(this).height(),$(this).height($(this).height()).addClass("ui-dialog-dragging"),self._trigger("dragStart",event,filteredUi(ui))},drag:function(event,ui){self._trigger("drag",event,filteredUi(ui))},stop:function(event,ui){options.position=[ui.position.left-doc.scrollLeft(),ui.position.top-doc.scrollTop()],$(this).removeClass("ui-dialog-dragging").height(heightBeforeDrag),self._trigger("dragStop",event,filteredUi(ui)),$.ui.dialog.overlay.resize()}})},_makeResizable:function(handles){function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size}}handles=handles===undefined?this.options.resizable:handles;var self=this,options=self.options,position=self.uiDialog.css("position"),resizeHandles="string"==typeof handles?handles:"n,e,s,w,se,sw,ne,nw";self.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:self.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:self._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing"),self._trigger("resizeStart",event,filteredUi(ui))},resize:function(event,ui){self._trigger("resize",event,filteredUi(ui))},stop:function(event,ui){$(this).removeClass("ui-dialog-resizing"),options.height=$(this).height(),options.width=$(this).width(),self._trigger("resizeStop",event,filteredUi(ui)),$.ui.dialog.overlay.resize()}}).css("position",position).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var options=this.options;return"auto"===options.height?options.minHeight:Math.min(options.minHeight,options.height)},_position:function(position){var isVisible,myAt=[],offset=[0,0];position?(("string"==typeof position||"object"==typeof position&&"0"in position)&&(myAt=position.split?position.split(" "):[position[0],position[1]],1===myAt.length&&(myAt[1]=myAt[0]),$.each(["left","top"],function(i,offsetPosition){+myAt[i]===myAt[i]&&(offset[i]=myAt[i],myAt[i]=offsetPosition)}),position={my:myAt.join(" "),at:myAt.join(" "),offset:offset.join(" ")}),position=$.extend({},$.ui.dialog.prototype.options.position,position)):position=$.ui.dialog.prototype.options.position,isVisible=this.uiDialog.is(":visible"),isVisible||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position($.extend({of:window},position)),isVisible||this.uiDialog.hide()},_setOptions:function(options){var self=this,resizableOptions={},resize=!1;$.each(options,function(key,value){self._setOption(key,value),key in sizeRelatedOptions&&(resize=!0),key in resizableRelatedOptions&&(resizableOptions[key]=value)}),resize&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",resizableOptions)},_setOption:function(key,value){var self=this,uiDialog=self.uiDialog;switch(key){case"beforeclose":key="beforeClose";break;case"buttons":self._createButtons(value);break;case"closeText":self.uiDialogTitlebarCloseText.text(""+value);break;case"dialogClass":uiDialog.removeClass(self.options.dialogClass).addClass(uiDialogClasses+value);break;case"disabled":value?uiDialog.addClass("ui-dialog-disabled"):uiDialog.removeClass("ui-dialog-disabled");break;case"draggable":var isDraggable=uiDialog.is(":data(draggable)");isDraggable&&!value&&uiDialog.draggable("destroy"),!isDraggable&&value&&self._makeDraggable();break;case"position":self._position(value);break;case"resizable":var isResizable=uiDialog.is(":data(resizable)");isResizable&&!value&&uiDialog.resizable("destroy"),isResizable&&"string"==typeof value&&uiDialog.resizable("option","handles",value),isResizable||value===!1||self._makeResizable(value);break;case"title":$(".ui-dialog-title",self.uiDialogTitlebar).html(""+(value||"&#160;"))}$.Widget.prototype._setOption.apply(self,arguments)},_size:function(){var nonContentHeight,minContentHeight,options=this.options,isVisible=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),options.minWidth>options.width&&(options.width=options.minWidth),nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).height(),minContentHeight=Math.max(0,options.minHeight-nonContentHeight),"auto"===options.height)if($.support.minHeight)this.element.css({minHeight:minContentHeight,height:"auto"});else{this.uiDialog.show();var autoHeight=this.element.css("height","auto").height();isVisible||this.uiDialog.hide(),this.element.height(Math.max(autoHeight,minContentHeight))}else this.element.height(Math.max(options.height-nonContentHeight,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),$.extend($.ui.dialog,{version:"1.8.23",uuid:0,maxZ:0,getTitleId:function($el){var id=$el.attr("id");return id||(this.uuid+=1,id=this.uuid),"ui-dialog-title-"+id},overlay:function(dialog){this.$el=$.ui.dialog.overlay.create(dialog)}}),$.extend($.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:$.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(event){return event+".dialog-overlay"}).join(" "),create:function(dialog){0===this.instances.length&&(setTimeout(function(){$.ui.dialog.overlay.instances.length&&$(document).bind($.ui.dialog.overlay.events,function(event){if($(event.target).zIndex()<$.ui.dialog.overlay.maxZ)return!1})},1),$(document).bind("keydown.dialog-overlay",function(event){dialog.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE&&(dialog.close(event),event.preventDefault())}),$(window).bind("resize.dialog-overlay",$.ui.dialog.overlay.resize));var $el=(this.oldInstances.pop()||$("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return $.fn.bgiframe&&$el.bgiframe(),this.instances.push($el),$el},destroy:function($el){var indexOf=$.inArray($el,this.instances);indexOf!=-1&&this.oldInstances.push(this.instances.splice(indexOf,1)[0]),0===this.instances.length&&$([document,window]).unbind(".dialog-overlay"),$el.remove();var maxZ=0;$.each(this.instances,function(){maxZ=Math.max(maxZ,this.css("z-index"))}),this.maxZ=maxZ},height:function(){var scrollHeight,offsetHeight;return $.browser.msie&&$.browser.version<7?(scrollHeight=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),offsetHeight=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),scrollHeight<offsetHeight?$(window).height()+"px":scrollHeight+"px"):$(document).height()+"px"},width:function(){var scrollWidth,offsetWidth;return $.browser.msie?(scrollWidth=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),scrollWidth<offsetWidth?$(window).width()+"px":scrollWidth+"px"):$(document).width()+"px"},resize:function(){var $overlays=$([]);$.each($.ui.dialog.overlay.instances,function(){$overlays=$overlays.add(this)}),$overlays.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()})}}),$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function($,undefined){$.ui=$.ui||{};var horizontalPositions=/left|center|right/,verticalPositions=/top|center|bottom/,center="center",support={},_position=$.fn.position,_offset=$.fn.offset;$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var targetWidth,targetHeight,basePosition,target=$(options.of),targetElem=target[0],collision=(options.collision||"flip").split(" "),offset=options.offset?options.offset.split(" "):[0,0];return 9===targetElem.nodeType?(targetWidth=target.width(),targetHeight=target.height(),basePosition={top:0,left:0}):targetElem.setTimeout?(targetWidth=target.width(),targetHeight=target.height(),basePosition={top:target.scrollTop(),left:target.scrollLeft()}):targetElem.preventDefault?(options.at="left top",targetWidth=targetHeight=0,basePosition={top:options.of.pageY,left:options.of.pageX}):(targetWidth=target.outerWidth(),targetHeight=target.outerHeight(),basePosition=target.offset()),$.each(["my","at"],function(){var pos=(options[this]||"").split(" ");1===pos.length&&(pos=horizontalPositions.test(pos[0])?pos.concat([center]):verticalPositions.test(pos[0])?[center].concat(pos):[center,center]),pos[0]=horizontalPositions.test(pos[0])?pos[0]:center,pos[1]=verticalPositions.test(pos[1])?pos[1]:center,options[this]=pos}),1===collision.length&&(collision[1]=collision[0]),offset[0]=parseInt(offset[0],10)||0,1===offset.length&&(offset[1]=offset[0]),offset[1]=parseInt(offset[1],10)||0,"right"===options.at[0]?basePosition.left+=targetWidth:options.at[0]===center&&(basePosition.left+=targetWidth/2),"bottom"===options.at[1]?basePosition.top+=targetHeight:options.at[1]===center&&(basePosition.top+=targetHeight/2),basePosition.left+=offset[0],basePosition.top+=offset[1],this.each(function(){var collisionPosition,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseInt($.curCSS(this,"marginLeft",!0))||0,marginTop=parseInt($.curCSS(this,"marginTop",!0))||0,collisionWidth=elemWidth+marginLeft+(parseInt($.curCSS(this,"marginRight",!0))||0),collisionHeight=elemHeight+marginTop+(parseInt($.curCSS(this,"marginBottom",!0))||0),position=$.extend({},basePosition);"right"===options.my[0]?position.left-=elemWidth:options.my[0]===center&&(position.left-=elemWidth/2),"bottom"===options.my[1]?position.top-=elemHeight:options.my[1]===center&&(position.top-=elemHeight/2),support.fractions||(position.left=Math.round(position.left),position.top=Math.round(position.top)),collisionPosition={left:position.left-marginLeft,top:position.top-marginTop},$.each(["left","top"],function(i,dir){$.ui.position[collision[i]]&&$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:offset,my:options.my,at:options.at})}),$.fn.bgiframe&&elem.bgiframe(),elem.offset($.extend(position,{using:options.using}))})},$.ui.position={fit:{left:function(position,data){var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft();position.left=over>0?position.left-over:Math.max(position.left-data.collisionPosition.left,position.left)},top:function(position,data){var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop();position.top=over>0?position.top-over:Math.max(position.top-data.collisionPosition.top,position.top)}},flip:{left:function(position,data){if(data.at[0]!==center){var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft(),myOffset="left"===data.my[0]?-data.elemWidth:"right"===data.my[0]?data.elemWidth:0,atOffset="left"===data.at[0]?data.targetWidth:-data.targetWidth,offset=-2*data.offset[0];position.left+=data.collisionPosition.left<0?myOffset+atOffset+offset:over>0?myOffset+atOffset+offset:0}},top:function(position,data){if(data.at[1]!==center){var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop(),myOffset="top"===data.my[1]?-data.elemHeight:"bottom"===data.my[1]?data.elemHeight:0,atOffset="top"===data.at[1]?data.targetHeight:-data.targetHeight,offset=-2*data.offset[1];position.top+=data.collisionPosition.top<0?myOffset+atOffset+offset:over>0?myOffset+atOffset+offset:0}}}},$.offset.setOffset||($.offset.setOffset=function(elem,options){/static/.test($.curCSS(elem,"position"))&&(elem.style.position="relative");var curElem=$(elem),curOffset=curElem.offset(),curTop=parseInt($.curCSS(elem,"top",!0),10)||0,curLeft=parseInt($.curCSS(elem,"left",!0),10)||0,props={top:options.top-curOffset.top+curTop,left:options.left-curOffset.left+curLeft};"using"in options?options.using.call(elem,props):curElem.css(props)},$.fn.offset=function(options){var elem=this[0];return elem&&elem.ownerDocument?options?$.isFunction(options)?this.each(function(i){$(this).offset(options.call(this,i,$(this).offset()))}):this.each(function(){$.offset.setOffset(this,options)}):_offset.call(this):null}),$.curCSS||($.curCSS=$.css),function(){var testElement,testElementParent,testElementStyle,offset,offsetTotal,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body"),testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},body&&$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});for(var i in testElementStyle)testElement.style[i]=testElementStyle[i];testElement.appendChild(div),testElementParent=body||document.documentElement,testElementParent.insertBefore(testElement,testElementParent.firstChild),div.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",offset=$(div).offset(function(_,offset){return offset}).offset(),testElement.innerHTML="",testElementParent.removeChild(testElement),offsetTotal=offset.top+offset.left+(body?2e3:0),support.fractions=offsetTotal>21&&offsetTotal<22}()}(jQuery),function($,undefined){$.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),$.Widget.prototype.destroy.apply(this,arguments)},value:function(newValue){return newValue===undefined?this._value():(this._setOption("value",newValue),this)},_setOption:function(key,value){"value"===key&&(this.options.value=value,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),$.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var val=this.options.value;return"number"!=typeof val&&(val=0),Math.min(this.options.max,Math.max(this.min,val))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var value=this.value(),percentage=this._percentage();this.oldValue!==value&&(this.oldValue=value,this._trigger("change")),this.valueDiv.toggle(value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%"),this.element.attr("aria-valuenow",value)}}),$.extend($.ui.progressbar,{version:"1.8.23"})}(jQuery),function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var self=this,o=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",handleCount=o.values&&o.values.length||1,handles=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":"")),this.range=$([]),o.range&&(o.range===!0&&(o.values||(o.values=[this._valueMin(),this._valueMin()]),o.values.length&&2!==o.values.length&&(o.values=[o.values[0],o.values[0]])),this.range=$("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===o.range||"max"===o.range?" ui-slider-range-"+o.range:"")));for(var i=existingHandles.length;i<handleCount;i+=1)handles.push(handle);this.handles=existingHandles.add($(handles.join("")).appendTo(self.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(event){event.preventDefault()}).hover(function(){o.disabled||$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).focus(function(){o.disabled?$(this).blur():($(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),$(this).addClass("ui-state-focus"))}).blur(function(){$(this).removeClass("ui-state-focus")}),this.handles.each(function(i){$(this).data("index.ui-slider-handle",i)}),this.handles.keydown(function(event){var allowed,curVal,newVal,step,index=$(this).data("index.ui-slider-handle");if(!self.options.disabled){switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(event.preventDefault(),!self._keySliding&&(self._keySliding=!0,$(this).addClass("ui-state-active"),allowed=self._start(event,index),allowed===!1))return}switch(step=self.options.step,curVal=newVal=self.options.values&&self.options.values.length?self.values(index):self.value(),event.keyCode){case $.ui.keyCode.HOME:newVal=self._valueMin();break;case $.ui.keyCode.END:newVal=self._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=self._trimAlignValue(curVal+(self._valueMax()-self._valueMin())/numPages);break;case $.ui.keyCode.PAGE_DOWN:newVal=self._trimAlignValue(curVal-(self._valueMax()-self._valueMin())/numPages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===self._valueMax())return;newVal=self._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===self._valueMin())return;newVal=self._trimAlignValue(curVal-step)}self._slide(event,index,newVal)}}).keyup(function(event){var index=$(this).data("index.ui-slider-handle");self._keySliding&&(self._keySliding=!1,self._stop(event,index),self._change(event,index),$(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(event){var position,normValue,distance,closestHandle,self,index,allowed,offset,mouseOverHandle,o=this.options;return!o.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position),distance=this._valueMax()-this._valueMin()+1,self=this,this.handles.each(function(i){var thisDistance=Math.abs(normValue-self.values(i));distance>thisDistance&&(distance=thisDistance,closestHandle=$(this),index=i)}),o.range===!0&&this.values(1)===o.min&&(index+=1,closestHandle=$(this.handles[index])),allowed=this._start(event,index),allowed!==!1&&(this._mouseSliding=!0,self._handleIndex=index,closestHandle.addClass("ui-state-active").focus(),offset=closestHandle.offset(),mouseOverHandle=!$(event.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-closestHandle.width()/2,top:event.pageY-offset.top-closestHandle.height()/2-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(event,index,normValue),this._animateOff=!0,!0))},_mouseStart:function(event){return!0},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);return this._slide(event,this._handleIndex,normValue),!1},_mouseStop:function(event){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(event,this._handleIndex),this._change(event,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;return"horizontal"===this.orientation?(pixelTotal=this.elementSize.width,pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(pixelTotal=this.elementSize.height,pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),percentMouse=pixelMouse/pixelTotal,percentMouse>1&&(percentMouse=1),percentMouse<0&&(percentMouse=0),"vertical"===this.orientation&&(percentMouse=1-percentMouse),valueTotal=this._valueMax()-this._valueMin(),valueMouse=this._valueMin()+percentMouse*valueTotal,this._trimAlignValue(valueMouse)},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};return this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("start",event,uiHash)},_slide:function(event,index,newVal){var otherVal,newValues,allowed;this.options.values&&this.options.values.length?(otherVal=this.values(index?0:1),2===this.options.values.length&&this.options.range===!0&&(0===index&&newVal>otherVal||1===index&&newVal<otherVal)&&(newVal=otherVal),newVal!==this.values(index)&&(newValues=this.values(),newValues[index]=newVal,allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues}),otherVal=this.values(index?0:1),allowed!==!1&&this.values(index,newVal,!0))):newVal!==this.value()&&(allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal}),allowed!==!1&&this.value(newVal))},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("stop",event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("change",event,uiHash)}},value:function(newValue){return arguments.length?(this.options.value=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,0)):this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1)return this.options.values[index]=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,index);if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(index):this.value();for(vals=this.options.values,newValues=arguments[0],i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(newValues[i]),this._change(null,i);this._refreshValue()},_setOption:function(key,value){var i,valsLength=0;switch($.isArray(this.options.values)&&(valsLength=this.options.values.length),$.Widget.prototype._setOption.apply(this,arguments),key){case"disabled":value?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<valsLength;i+=1)this._change(null,i);this._animateOff=!1}},_value:function(){var val=this.options.value;return val=this._trimAlignValue(val)},_values:function(index){var val,vals,i;if(arguments.length)return val=this.options.values[index],val=this._trimAlignValue(val);for(vals=this.options.values.slice(),i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(vals[i]);return vals},_trimAlignValue:function(val){if(val<=this._valueMin())return this._valueMin();if(val>=this._valueMax())return this._valueMax();var step=this.options.step>0?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;return 2*Math.abs(valModStep)>=step&&(alignValue+=valModStep>0?step:-step),parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var valPercent,lastValPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,self=this,animate=!this._animateOff&&o.animate,_set={};this.options.values&&this.options.values.length?this.handles.each(function(i,j){valPercent=(self.values(i)-self._valueMin())/(self._valueMax()-self._valueMin())*100,_set["horizontal"===self.orientation?"left":"bottom"]=valPercent+"%",$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate),self.options.range===!0&&("horizontal"===self.orientation?(0===i&&self.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate),1===i&&self.range[animate?"animate":"css"]({width:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate})):(0===i&&self.range.stop(1,1)[animate?"animate":"css"]({bottom:valPercent+"%"},o.animate),1===i&&self.range[animate?"animate":"css"]({height:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate}))),lastValPercent=valPercent}):(value=this.value(),valueMin=this._valueMin(),valueMax=this._valueMax(),valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0,_set["horizontal"===self.orientation?"left":"bottom"]=valPercent+"%",this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate),"min"===oRange&&"horizontal"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate),"max"===oRange&&"horizontal"===this.orientation&&this.range[animate?"animate":"css"]({width:100-valPercent+"%"},{queue:!1,duration:o.animate}),"min"===oRange&&"vertical"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate),"max"===oRange&&"vertical"===this.orientation&&this.range[animate?"animate":"css"]({height:100-valPercent+"%"},{queue:!1,duration:o.animate}))}}),$.extend($.ui.slider,{version:"1.8.23"})}(jQuery),function($,undefined){function getNextTabId(){return++tabId}function getNextListId(){return++listId}var tabId=0,listId=0;$.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(key,value){if("selected"==key){if(this.options.collapsible&&value==this.options.selected)return;this.select(value)}else this.options[key]=value,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+getNextTabId()},_sanitizeSelector:function(hash){return hash.replace(/:/g,"\\:")},_cookie:function(){var cookie=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+getNextListId());return $.cookie.apply(null,[cookie].concat($.makeArray(arguments)))},_ui:function(tab,panel){return{tab:tab,panel:panel,index:this.anchors.index(tab)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var el=$(this);el.html(el.data("label.tabs")).removeData("label.tabs")})},_tabify:function(init){function resetStyle($el,fx){$el.css("display",""),!$.support.opacity&&fx.opacity&&$el[0].style.removeAttribute("filter")}var self=this,o=this.options,fragmentId=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=$(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return $("a",this)[0]}),this.panels=$([]),this.anchors.each(function(i,a){var baseEl,href=$(a).attr("href"),hrefBase=href.split("#")[0];if(hrefBase&&(hrefBase===location.toString().split("#")[0]||(baseEl=$("base")[0])&&hrefBase===baseEl.href)&&(href=a.hash,a.href=href),fragmentId.test(href))self.panels=self.panels.add(self.element.find(self._sanitizeSelector(href)));else if(href&&"#"!==href){$.data(a,"href.tabs",href),$.data(a,"load.tabs",href.replace(/#.*$/,""));var id=self._tabId(a);a.href="#"+id;var $panel=self.element.find("#"+id);$panel.length||($panel=$(o.panelTemplate).attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(self.panels[i-1]||self.list),$panel.data("destroy.tabs",!0)),self.panels=self.panels.add($panel)}else o.disabled.push(i)}),init?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),o.selected===undefined?(location.hash&&this.anchors.each(function(i,a){if(a.hash==location.hash)return o.selected=i,!1}),"number"!=typeof o.selected&&o.cookie&&(o.selected=parseInt(self._cookie(),10)),"number"!=typeof o.selected&&this.lis.filter(".ui-tabs-selected").length&&(o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),o.selected=o.selected||(this.lis.length?0:-1)):null===o.selected&&(o.selected=-1),o.selected=o.selected>=0&&this.anchors[o.selected]||o.selected<0?o.selected:0,o.disabled=$.unique(o.disabled.concat($.map(this.lis.filter(".ui-state-disabled"),function(n,i){return self.lis.index(n)}))).sort(),$.inArray(o.selected,o.disabled)!=-1&&o.disabled.splice($.inArray(o.selected,o.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),o.selected>=0&&this.anchors.length&&(self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active"),self.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[o.selected],self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash))[0]))}),this.load(o.selected)),$(window).bind("unload",function(){self.lis.add(self.anchors).unbind(".tabs"),self.lis=self.anchors=self.panels=null})):o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),o.cookie&&this._cookie(o.selected,o.cookie);for(var li,i=0;li=this.lis[i];i++)$(li)[$.inArray(i,o.disabled)==-1||$(li).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(o.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==o.event){var addState=function(state,el){
el.is(":not(.ui-state-disabled)")&&el.addClass("ui-state-"+state)},removeState=function(state,el){el.removeClass("ui-state-"+state)};this.lis.bind("mouseover.tabs",function(){addState("hover",$(this))}),this.lis.bind("mouseout.tabs",function(){removeState("hover",$(this))}),this.anchors.bind("focus.tabs",function(){addState("focus",$(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){removeState("focus",$(this).closest("li"))})}var hideFx,showFx;o.fx&&($.isArray(o.fx)?(hideFx=o.fx[0],showFx=o.fx[1]):hideFx=showFx=o.fx);var showTab=showFx?function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active"),$show.hide().removeClass("ui-tabs-hide").animate(showFx,showFx.duration||"normal",function(){resetStyle($show,showFx),self._trigger("show",null,self._ui(clicked,$show[0]))})}:function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active"),$show.removeClass("ui-tabs-hide"),self._trigger("show",null,self._ui(clicked,$show[0]))},hideTab=hideFx?function(clicked,$hide){$hide.animate(hideFx,hideFx.duration||"normal",function(){self.lis.removeClass("ui-tabs-selected ui-state-active"),$hide.addClass("ui-tabs-hide"),resetStyle($hide,hideFx),self.element.dequeue("tabs")})}:function(clicked,$hide,$show){self.lis.removeClass("ui-tabs-selected ui-state-active"),$hide.addClass("ui-tabs-hide"),self.element.dequeue("tabs")};this.anchors.bind(o.event+".tabs",function(){var el=this,$li=$(el).closest("li"),$hide=self.panels.filter(":not(.ui-tabs-hide)"),$show=self.element.find(self._sanitizeSelector(el.hash));if($li.hasClass("ui-tabs-selected")&&!o.collapsible||$li.hasClass("ui-state-disabled")||$li.hasClass("ui-state-processing")||self.panels.filter(":animated").length||self._trigger("select",null,self._ui(this,$show[0]))===!1)return this.blur(),!1;if(o.selected=self.anchors.index(this),self.abort(),o.collapsible){if($li.hasClass("ui-tabs-selected"))return o.selected=-1,o.cookie&&self._cookie(o.selected,o.cookie),self.element.queue("tabs",function(){hideTab(el,$hide)}).dequeue("tabs"),this.blur(),!1;if(!$hide.length)return o.cookie&&self._cookie(o.selected,o.cookie),self.element.queue("tabs",function(){showTab(el,$show)}),self.load(self.anchors.index(this)),this.blur(),!1}if(o.cookie&&self._cookie(o.selected,o.cookie),!$show.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";$hide.length&&self.element.queue("tabs",function(){hideTab(el,$hide)}),self.element.queue("tabs",function(){showTab(el,$show)}),self.load(self.anchors.index(this)),$.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(index){return"string"==typeof index&&(index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"))),index},destroy:function(){var o=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var href=$.data(this,"href.tabs");href&&(this.href=href);var $this=$(this).unbind(".tabs");$.each(["href","load","cache"],function(i,prefix){$this.removeData(prefix+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){$.data(this,"destroy.tabs")?$(this).remove():$(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),o.cookie&&this._cookie(null,o.cookie),this},add:function(url,label,index){index===undefined&&(index=this.anchors.length);var self=this,o=this.options,$li=$(o.tabTemplate.replace(/#\{href\}/g,url).replace(/#\{label\}/g,label)),id=url.indexOf("#")?this._tabId($("a",$li)[0]):url.replace("#","");$li.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var $panel=self.element.find("#"+id);return $panel.length||($panel=$(o.panelTemplate).attr("id",id).data("destroy.tabs",!0)),$panel.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),index>=this.lis.length?($li.appendTo(this.list),$panel.appendTo(this.list[0].parentNode)):($li.insertBefore(this.lis[index]),$panel.insertBefore(this.panels[index])),o.disabled=$.map(o.disabled,function(n,i){return n>=index?++n:n}),this._tabify(),1==this.anchors.length&&(o.selected=0,$li.addClass("ui-tabs-selected ui-state-active"),$panel.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[0],self.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[index],this.panels[index])),this},remove:function(index){index=this._getIndex(index);var o=this.options,$li=this.lis.eq(index).remove(),$panel=this.panels.eq(index).remove();return $li.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(index+(index+1<this.anchors.length?1:-1)),o.disabled=$.map($.grep(o.disabled,function(n,i){return n!=index}),function(n,i){return n>=index?--n:n}),this._tabify(),this._trigger("remove",null,this._ui($li.find("a")[0],$panel[0])),this},enable:function(index){index=this._getIndex(index);var o=this.options;if($.inArray(index,o.disabled)!=-1)return this.lis.eq(index).removeClass("ui-state-disabled"),o.disabled=$.grep(o.disabled,function(n,i){return n!=index}),this._trigger("enable",null,this._ui(this.anchors[index],this.panels[index])),this},disable:function(index){index=this._getIndex(index);var o=this.options;return index!=o.selected&&(this.lis.eq(index).addClass("ui-state-disabled"),o.disabled.push(index),o.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[index],this.panels[index]))),this},select:function(index){if(index=this._getIndex(index),index==-1){if(!this.options.collapsible||this.options.selected==-1)return this;index=this.options.selected}return this.anchors.eq(index).trigger(this.options.event+".tabs"),this},load:function(index){index=this._getIndex(index);var self=this,o=this.options,a=this.anchors.eq(index)[0],url=$.data(a,"load.tabs");if(this.abort(),!url||0!==this.element.queue("tabs").length&&$.data(a,"cache.tabs"))return void this.element.dequeue("tabs");if(this.lis.eq(index).addClass("ui-state-processing"),o.spinner){var span=$("span",a);span.data("label.tabs",span.html()).html(o.spinner)}return this.xhr=$.ajax($.extend({},o.ajaxOptions,{url:url,success:function(r,s){self.element.find(self._sanitizeSelector(a.hash)).html(r),self._cleanup(),o.cache&&$.data(a,"cache.tabs",!0),self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.success(r,s)}catch(e){}},error:function(xhr,s,e){self._cleanup(),self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.error(xhr,s,index,a)}catch(e){}}})),self.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(index,url){return this.anchors.eq(index).removeData("cache.tabs").data("load.tabs",url),this},length:function(){return this.anchors.length}}),$.extend($.ui.tabs,{version:"1.8.23"}),$.extend($.ui.tabs.prototype,{rotation:null,rotate:function(ms,continuing){var self=this,o=this.options,rotate=self._rotate||(self._rotate=function(e){clearTimeout(self.rotation),self.rotation=setTimeout(function(){var t=o.selected;self.select(++t<self.anchors.length?t:0)},ms),e&&e.stopPropagation()}),stop=self._unrotate||(self._unrotate=continuing?function(e){rotate()}:function(e){e.clientX&&self.rotate(null)});return ms?(this.element.bind("tabsshow",rotate),this.anchors.bind(o.event+".tabs",stop),rotate()):(clearTimeout(self.rotation),this.element.unbind("tabsshow",rotate),this.anchors.unbind(o.event+".tabs",stop),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(jQuery,undefined){function newTmplItem(options,parentItem,fn,data){var newItem={data:data||(parentItem?parentItem.data:{}),_wrap:parentItem?parentItem._wrap:null,tmpl:null,parent:parentItem||null,nodes:[],calls:tiCalls,nest:tiNest,wrap:tiWrap,html:tiHtml,update:tiUpdate};return options&&jQuery.extend(newItem,options,{nodes:[],parent:parentItem}),fn&&(newItem.tmpl=fn,newItem._ctnt=newItem._ctnt||newItem.tmpl(jQuery,newItem),newItem.key=++itemKey,(stack.length?wrappedItems:newTmplItems)[itemKey]=newItem),newItem}function build(tmplItem,nested,content){var frag,ret=content?jQuery.map(content,function(item){return"string"==typeof item?tmplItem.key?item.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+tmplItmAtt+'="'+tmplItem.key+'" $2'):item:build(item,tmplItem,item._ctnt)}):tmplItem;return nested?ret:(ret=ret.join(""),ret.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(all,before,middle,after){frag=jQuery(middle).get(),storeTmplItems(frag),before&&(frag=unencode(before).concat(frag)),after&&(frag=frag.concat(unencode(after)))}),frag?frag:unencode(ret))}function unencode(text){var el=document.createElement("div");return el.innerHTML=text,jQuery.makeArray(el.childNodes)}function buildTmplFn(markup){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+jQuery.trim(markup).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(all,slash,type,fnargs,target,parens,args){var def,expr,exprAutoFnDetect,tag=jQuery.tmpl.tag[type];if(!tag)throw"Template command not found: "+type;return def=tag._default||[],parens&&!/\w$/.test(target)&&(target+=parens,parens=""),target?(target=unescape(target),args=args?","+unescape(args)+")":parens?")":"",expr=parens?target.indexOf(".")>-1?target+parens:"("+target+").call($item"+args:target,exprAutoFnDetect=parens?expr:"(typeof("+target+")==='function'?("+target+").call($item):("+target+"))"):exprAutoFnDetect=expr=def.$1||"null",fnargs=unescape(fnargs),"');"+tag[slash?"close":"open"].split("$notnull_1").join(target?"typeof("+target+")!=='undefined' && ("+target+")!=null":"true").split("$1a").join(exprAutoFnDetect).split("$1").join(expr).split("$2").join(fnargs?fnargs.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(all,name,parens,params){return params=params?","+params+")":parens?")":"",params?"("+name+").call($item"+params:all}):def.$2||"")+"_.push('"})+"');}return _;")}function updateWrapped(options,wrapped){options._wrap=build(options,!0,jQuery.isArray(wrapped)?wrapped:[htmlExpr.test(wrapped)?wrapped:jQuery(wrapped).html()]).join("")}function unescape(args){return args?args.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function outerHtml(elem){var div=document.createElement("div");return div.appendChild(elem.cloneNode(!0)),div.innerHTML}function storeTmplItems(content){function processItemKey(el){function cloneTmplItem(key){key+=keySuffix,tmplItem=newClonedItems[key]=newClonedItems[key]||newTmplItem(tmplItem,newTmplItems[tmplItem.parent.key+keySuffix]||tmplItem.parent,null,!0)}var pntKey,pntItem,tmplItem,key,pntNode=el;if(key=el.getAttribute(tmplItmAtt)){for(;pntNode.parentNode&&1===(pntNode=pntNode.parentNode).nodeType&&!(pntKey=pntNode.getAttribute(tmplItmAtt)););pntKey!==key&&(pntNode=pntNode.parentNode?11===pntNode.nodeType?0:pntNode.getAttribute(tmplItmAtt)||0:0,(tmplItem=newTmplItems[key])||(tmplItem=wrappedItems[key],tmplItem=newTmplItem(tmplItem,newTmplItems[pntNode]||wrappedItems[pntNode],null,!0),tmplItem.key=++itemKey,newTmplItems[itemKey]=tmplItem),cloneIndex&&cloneTmplItem(key)),el.removeAttribute(tmplItmAtt)}else cloneIndex&&(tmplItem=jQuery.data(el,"tmplItem"))&&(cloneTmplItem(tmplItem.key),newTmplItems[tmplItem.key]=tmplItem,pntNode=jQuery.data(el.parentNode,"tmplItem"),pntNode=pntNode?pntNode.key:0);if(tmplItem){for(pntItem=tmplItem;pntItem&&pntItem.key!=pntNode;)pntItem.nodes.push(el),pntItem=pntItem.parent;delete tmplItem._ctnt,delete tmplItem._wrap,jQuery.data(el,"tmplItem",tmplItem)}}var elem,elems,i,l,m,keySuffix="_"+cloneIndex,newClonedItems={};for(i=0,l=content.length;i<l;i++)if(1===(elem=content[i]).nodeType){for(elems=elem.getElementsByTagName("*"),m=elems.length-1;m>=0;m--)processItemKey(elems[m]);processItemKey(elem)}}function tiCalls(content,tmpl,data,options){return content?void stack.push({_:content,tmpl:tmpl,item:this,data:data,options:options}):stack.pop()}function tiNest(tmpl,data,options){return jQuery.tmpl(jQuery.template(tmpl),data,options,this)}function tiWrap(call,wrapped){var options=call.options||{};return options.wrapped=wrapped,jQuery.tmpl(jQuery.template(call.tmpl),call.data,options,call.item)}function tiHtml(filter,textOnly){var wrapped=this._wrap;return jQuery.map(jQuery(jQuery.isArray(wrapped)?wrapped.join(""):wrapped).filter(filter||"*"),function(e){return textOnly?e.innerText||e.textContent:e.outerHTML||outerHtml(e)})}function tiUpdate(){var coll=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(coll[0]),jQuery(coll).remove()}var appendToTmplItems,oldManip=jQuery.fn.domManip,tmplItmAtt="_tmplitem",htmlExpr=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,newTmplItems={},wrappedItems={},topTmplItem={key:0,data:{}},itemKey=0,cloneIndex=0,stack=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i,l,tmplItems,ret=[],insert=jQuery(selector),parent=1===this.length&&this[0].parentNode;if(appendToTmplItems=newTmplItems||{},parent&&11===parent.nodeType&&1===parent.childNodes.length&&1===insert.length)insert[original](this[0]),ret=this;else{for(i=0,l=insert.length;i<l;i++)cloneIndex=i,elems=(i>0?this.clone(!0):this).get(),jQuery.fn[original].apply(jQuery(insert[i]),elems),ret=ret.concat(elems);cloneIndex=0,ret=this.pushStack(ret,name,insert.selector)}return tmplItems=appendToTmplItems,appendToTmplItems=null,jQuery.tmpl.complete(tmplItems),ret}}),jQuery.fn.extend({tmpl:function(data,options,parentItem){return jQuery.tmpl(this[0],data,options,parentItem)},tmplItem:function(){return jQuery.tmplItem(this[0])},template:function(name){return jQuery.template(name,this[0])},domManip:function(args,table,callback,options){if(args[0]&&args[0].nodeType){for(var tmplItem,dmArgs=jQuery.makeArray(arguments),argsLength=args.length,i=0;i<argsLength&&!(tmplItem=jQuery.data(args[i++],"tmplItem")););argsLength>1&&(dmArgs[0]=[jQuery.makeArray(args)]),tmplItem&&cloneIndex&&(dmArgs[2]=function(fragClone){jQuery.tmpl.afterManip(this,fragClone,callback)}),oldManip.apply(this,dmArgs)}else oldManip.apply(this,arguments);return cloneIndex=0,appendToTmplItems||jQuery.tmpl.complete(newTmplItems),this}}),jQuery.extend({tmpl:function(tmpl,data,options,parentItem){var ret,topLevel=!parentItem;if(topLevel)parentItem=topTmplItem,tmpl=jQuery.template[tmpl]||jQuery.template(null,tmpl),wrappedItems={};else if(!tmpl)return tmpl=parentItem.tmpl,newTmplItems[parentItem.key]=parentItem,parentItem.nodes=[],parentItem.wrapped&&updateWrapped(parentItem,parentItem.wrapped),jQuery(build(parentItem,null,parentItem.tmpl(jQuery,parentItem)));return tmpl?("function"==typeof data&&(data=data.call(parentItem||{})),options&&options.wrapped&&updateWrapped(options,options.wrapped),ret=jQuery.isArray(data)?jQuery.map(data,function(dataItem){return dataItem?newTmplItem(options,parentItem,tmpl,dataItem):null}):[newTmplItem(options,parentItem,tmpl,data)],topLevel?jQuery(build(parentItem,null,ret)):ret):[]},tmplItem:function(elem){var tmplItem;for(elem instanceof jQuery&&(elem=elem[0]);elem&&1===elem.nodeType&&!(tmplItem=jQuery.data(elem,"tmplItem"))&&(elem=elem.parentNode););return tmplItem||topTmplItem},template:function(name,tmpl){return tmpl?("string"==typeof tmpl?tmpl=buildTmplFn(tmpl):tmpl instanceof jQuery&&(tmpl=tmpl[0]||{}),tmpl.nodeType&&(tmpl=jQuery.data(tmpl,"tmpl")||jQuery.data(tmpl,"tmpl",buildTmplFn(tmpl.innerHTML))),"string"==typeof name?jQuery.template[name]=tmpl:tmpl):name?"string"!=typeof name?jQuery.template(null,name):jQuery.template[name]||jQuery.template(null,htmlExpr.test(name)?name:jQuery(name)):null},encode:function(text){return(""+text).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},if:{open:"if(($notnull_1) && $1a){",close:"}"},else:{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(items){newTmplItems={}},afterManip:function(elem,fragClone,callback){var content=11===fragClone.nodeType?jQuery.makeArray(fragClone.childNodes):1===fragClone.nodeType?[fragClone]:[];callback.call(elem,fragClone),storeTmplItems(content),cloneIndex++}})}(jQuery),function(){"use strict";function setup($){function install(el,opts){var css,themedCSS,full=el==window,msg=opts&&void 0!==opts.message?opts.message:void 0;if(opts=$.extend({},$.blockUI.defaults,opts||{}),!opts.ignoreIfBlocked||!$(el).data("blockUI.isBlocked")){if(opts.overlayCSS=$.extend({},$.blockUI.defaults.overlayCSS,opts.overlayCSS||{}),css=$.extend({},$.blockUI.defaults.css,opts.css||{}),opts.onOverlayClick&&(opts.overlayCSS.cursor="pointer"),themedCSS=$.extend({},$.blockUI.defaults.themedCSS,opts.themedCSS||{}),msg=void 0===msg?opts.message:msg,full&&pageBlock&&remove(window,{fadeOut:0}),msg&&"string"!=typeof msg&&(msg.parentNode||msg.jquery)){var node=msg.jquery?msg[0]:msg,data={};$(el).data("blockUI.history",data),data.el=node,data.parent=node.parentNode,data.display=node.style.display,data.position=node.style.position,data.parent&&data.parent.removeChild(node)}$(el).data("blockUI.onUnblock",opts.onUnblock);var lyr1,lyr2,lyr3,s,z=opts.baseZ;lyr1=$(msie||opts.forceIframe?'<iframe class="blockUI" style="z-index:'+z++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+opts.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),lyr2=$(opts.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+z++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+z++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),opts.theme&&full?(s='<div class="blockUI '+opts.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:fixed">',opts.title&&(s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||"&nbsp;")+"</div>"),s+='<div class="ui-widget-content ui-dialog-content"></div>',s+="</div>"):opts.theme?(s='<div class="blockUI '+opts.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:absolute">',opts.title&&(s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||"&nbsp;")+"</div>"),s+='<div class="ui-widget-content ui-dialog-content"></div>',s+="</div>"):s=full?'<div class="blockUI '+opts.blockMsgClass+' blockPage" style="z-index:'+(z+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+opts.blockMsgClass+' blockElement" style="z-index:'+(z+10)+';display:none;position:absolute"></div>',lyr3=$(s),msg&&(opts.theme?(lyr3.css(themedCSS),lyr3.addClass("ui-widget-content")):lyr3.css(css)),opts.theme||lyr2.css(opts.overlayCSS),lyr2.css("position",full?"fixed":"absolute"),(msie||opts.forceIframe)&&lyr1.css("opacity",0);var layers=[lyr1,lyr2,lyr3],$par=$(full?"body":el);$.each(layers,function(){this.appendTo($par)}),opts.theme&&opts.draggable&&$.fn.draggable&&lyr3.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var expr=setExpr&&(!$.support.boxModel||$("object,embed",full?null:el).length>0);if(ie6||expr){if(full&&opts.allowBodyStretch&&$.support.boxModel&&$("html,body").css("height","100%"),(ie6||!$.support.boxModel)&&!full)var t=sz(el,"borderTopWidth"),l=sz(el,"borderLeftWidth"),fixT=t?"(0 - "+t+")":0,fixL=l?"(0 - "+l+")":0;$.each(layers,function(i,o){var s=o[0].style;if(s.position="absolute",i<2)full?s.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+opts.quirksmodeOffsetHack+') + "px"'):s.setExpression("height",'this.parentNode.offsetHeight + "px"'),full?s.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):s.setExpression("width",'this.parentNode.offsetWidth + "px"'),fixL&&s.setExpression("left",fixL),fixT&&s.setExpression("top",fixT);else if(opts.centerY)full&&s.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),s.marginTop=0;else if(!opts.centerY&&full){var top=opts.css&&opts.css.top?parseInt(opts.css.top,10):0,expression="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+top+') + "px"';s.setExpression("top",expression)}})}if(msg&&(opts.theme?lyr3.find(".ui-widget-content").append(msg):lyr3.append(msg),(msg.jquery||msg.nodeType)&&$(msg).show()),(msie||opts.forceIframe)&&opts.showOverlay&&lyr1.show(),opts.fadeIn){var cb=opts.onBlock?opts.onBlock:noOp,cb1=opts.showOverlay&&!msg?cb:noOp,cb2=msg?cb:noOp;opts.showOverlay&&lyr2._fadeIn(opts.fadeIn,cb1),msg&&lyr3._fadeIn(opts.fadeIn,cb2)}else opts.showOverlay&&lyr2.show(),msg&&lyr3.show(),opts.onBlock&&opts.onBlock.bind(lyr3)();if(bind(1,el,opts),full?(pageBlock=lyr3[0],pageBlockEls=$(opts.focusableElements,pageBlock),opts.focusInput&&setTimeout(focus,20)):center(lyr3[0],opts.centerX,opts.centerY),opts.timeout){var to=setTimeout(function(){full?$.unblockUI(opts):$(el).unblock(opts)},opts.timeout);$(el).data("blockUI.timeout",to)}}}function remove(el,opts){var count,full=el==window,$el=$(el),data=$el.data("blockUI.history"),to=$el.data("blockUI.timeout");to&&(clearTimeout(to),$el.removeData("blockUI.timeout")),opts=$.extend({},$.blockUI.defaults,opts||{}),bind(0,el,opts),null===opts.onUnblock&&(opts.onUnblock=$el.data("blockUI.onUnblock"),$el.removeData("blockUI.onUnblock"));var els;els=full?$("body").children().filter(".blockUI").add("body > .blockUI"):$el.find(">.blockUI"),opts.cursorReset&&(els.length>1&&(els[1].style.cursor=opts.cursorReset),els.length>2&&(els[2].style.cursor=opts.cursorReset)),full&&(pageBlock=pageBlockEls=null),opts.fadeOut?(count=els.length,els.stop().fadeOut(opts.fadeOut,function(){0===--count&&reset(els,data,opts,el)})):reset(els,data,opts,el)}function reset(els,data,opts,el){var $el=$(el);if(!$el.data("blockUI.isBlocked")){els.each(function(i,o){this.parentNode&&this.parentNode.removeChild(this)}),data&&data.el&&(data.el.style.display=data.display,data.el.style.position=data.position,data.el.style.cursor="default",data.parent&&data.parent.appendChild(data.el),$el.removeData("blockUI.history")),$el.data("blockUI.static")&&$el.css("position","static"),"function"==typeof opts.onUnblock&&opts.onUnblock(el,opts);var body=$(document.body),w=body.width(),cssW=body[0].style.width;body.width(w-1).width(w),body[0].style.width=cssW}}function bind(b,el,opts){var full=el==window,$el=$(el);if((b||(!full||pageBlock)&&(full||$el.data("blockUI.isBlocked")))&&($el.data("blockUI.isBlocked",b),full&&opts.bindEvents&&(!b||opts.showOverlay))){var events="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";b?$(document).bind(events,opts,handler):$(document).unbind(events,handler)}}function handler(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&pageBlock&&e.data.constrainTabKey){var els=pageBlockEls,fwd=!e.shiftKey&&e.target===els[els.length-1],back=e.shiftKey&&e.target===els[0];if(fwd||back)return setTimeout(function(){focus(back)},10),!1}var opts=e.data,target=$(e.target);return target.hasClass("blockOverlay")&&opts.onOverlayClick&&opts.onOverlayClick(e),target.parents("div."+opts.blockMsgClass).length>0||0===target.parents().children().filter("div.blockUI").length}function focus(back){if(pageBlockEls){var e=pageBlockEls[back===!0?pageBlockEls.length-1:0];e&&e.focus()}}function center(el,x,y){var p=el.parentNode,s=el.style,l=(p.offsetWidth-el.offsetWidth)/2-sz(p,"borderLeftWidth"),t=(p.offsetHeight-el.offsetHeight)/2-sz(p,"borderTopWidth");x&&(s.left=l>0?l+"px":"0"),y&&(s.top=t>0?t+"px":"0")}function sz(el,p){return parseInt($.css(el,p),10)||0}$.fn._fadeIn=$.fn.fadeIn;var noOp=$.noop||function(){},msie=/MSIE/.test(navigator.userAgent),ie6=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),setExpr=(document.documentMode||0,$.isFunction(document.createElement("div").style.setExpression));$.blockUI=function(opts){install(window,opts)},$.unblockUI=function(opts){remove(window,opts)},$.growlUI=function(title,message,timeout,onClose){var $m=$('<div class="growlUI"></div>');title&&$m.append("<h1>"+title+"</h1>"),message&&$m.append("<h2>"+message+"</h2>"),void 0===timeout&&(timeout=3e3);var callBlock=function(opts){opts=opts||{},$.blockUI({message:$m,fadeIn:"undefined"!=typeof opts.fadeIn?opts.fadeIn:700,fadeOut:"undefined"!=typeof opts.fadeOut?opts.fadeOut:1e3,timeout:"undefined"!=typeof opts.timeout?opts.timeout:timeout,centerY:!1,showOverlay:!1,onUnblock:onClose,css:$.blockUI.defaults.growlCSS})};callBlock();$m.css("opacity");$m.mouseover(function(){callBlock({fadeIn:0,timeout:3e4});var displayBlock=$(".blockMsg");displayBlock.stop(),displayBlock.fadeTo(300,1)}).mouseout(function(){$(".blockMsg").fadeOut(1e3)})},$.fn.block=function(opts){if(this[0]===window)return $.blockUI(opts),this;var fullOpts=$.extend({},$.blockUI.defaults,opts||{});return this.each(function(){var $el=$(this);fullOpts.ignoreIfBlocked&&$el.data("blockUI.isBlocked")||$el.unblock({fadeOut:0})}),this.each(function(){"static"==$.css(this,"position")&&(this.style.position="relative",$(this).data("blockUI.static",!0)),this.style.zoom=1,install(this,opts)})},$.fn.unblock=function(opts){return this[0]===window?($.unblockUI(opts),this):this.each(function(){remove(this,opts)})},$.blockUI.version=2.7,$.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var pageBlock=null,pageBlockEls=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],setup):setup(jQuery)}(),function($,document,window){function $tag(tag,id,css){var element=document.createElement(tag);return id&&(element.id=prefix+id),css&&(element.style.cssText=css),$(element)}function winheight(){return window.innerHeight?window.innerHeight:$(window).height()}function Settings(element,options){options!==Object(options)&&(options={}),this.cache={},this.el=element,this.value=function(key){var dataAttr;return void 0===this.cache[key]&&(dataAttr=$(this.el).attr("data-cbox-"+key),void 0!==dataAttr?this.cache[key]=dataAttr:void 0!==options[key]?this.cache[key]=options[key]:void 0!==defaults[key]&&(this.cache[key]=defaults[key])),this.cache[key]},this.get=function(key){var value=this.value(key);return $.isFunction(value)?value.call(this.el,this):value}}function getIndex(increment){var max=$related.length,newIndex=(index+increment)%max;return newIndex<0?max+newIndex:newIndex}function setSize(size,dimension){return Math.round((/%/.test(size)?("x"===dimension?$window.width():winheight())/100:1)*parseInt(size,10))}function isImage(settings,url){return settings.get("photo")||settings.get("photoRegex").test(url)}function retinaUrl(settings,url){return settings.get("retinaUrl")&&window.devicePixelRatio>1?url.replace(settings.get("photoRegex"),settings.get("retinaSuffix")):url}function trapFocus(e){"contains"in $box[0]&&!$box[0].contains(e.target)&&e.target!==$overlay[0]&&(e.stopPropagation(),$box.focus())}function setClass(str){setClass.str!==str&&($box.add($overlay).removeClass(setClass.str).addClass(str),setClass.str=str)}function getRelated(rel){index=0,rel&&rel!==!1&&"nofollow"!==rel?($related=$("."+boxElement).filter(function(){var options=$.data(this,colorbox),settings=new Settings(this,options);return settings.get("rel")===rel}),index=$related.index(settings.el),index===-1&&($related=$related.add(settings.el),index=$related.length-1)):$related=$(settings.el)}function trigger(event){$(document).trigger(event),$events.triggerHandler(event)}function launch(element){var options;if(!closing){if(options=$(element).data(colorbox),settings=new Settings(element,options),getRelated(settings.get("rel")),!open){open=active=!0,setClass(settings.get("className")),$box.css({visibility:"hidden",display:"block",opacity:""}),$loaded=$tag(div,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),$content.css({width:"",height:""}).append($loaded),interfaceHeight=$topBorder.height()+$bottomBorder.height()+$content.outerHeight(!0)-$content.height(),interfaceWidth=$leftBorder.width()+$rightBorder.width()+$content.outerWidth(!0)-$content.width(),loadedHeight=$loaded.outerHeight(!0),loadedWidth=$loaded.outerWidth(!0);var initialWidth=setSize(settings.get("initialWidth"),"x"),initialHeight=setSize(settings.get("initialHeight"),"y"),maxWidth=settings.get("maxWidth"),maxHeight=settings.get("maxHeight");settings.w=Math.max((maxWidth!==!1?Math.min(initialWidth,setSize(maxWidth,"x")):initialWidth)-loadedWidth-interfaceWidth,0),settings.h=Math.max((maxHeight!==!1?Math.min(initialHeight,setSize(maxHeight,"y")):initialHeight)-loadedHeight-interfaceHeight,0),$loaded.css({width:"",height:settings.h}),publicMethod.position(),trigger(event_open),settings.get("onOpen"),$groupControls.add($title).hide(),$box.focus(),settings.get("trapFocus")&&document.addEventListener&&(document.addEventListener("focus",trapFocus,!0),$events.one(event_closed,function(){document.removeEventListener("focus",trapFocus,!0)})),settings.get("returnFocus")&&$events.one(event_closed,function(){$(settings.el).focus()})}var opacity=parseFloat(settings.get("opacity"));$overlay.css({opacity:opacity===opacity?opacity:"",cursor:settings.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),settings.get("closeButton")?$close.html(settings.get("close")).appendTo($content):$close.appendTo("<div/>"),load()}}function appendHTML(){$box||(init=!1,$window=$(window),$box=$tag(div).attr({id:colorbox,class:$.support.opacity===!1?prefix+"IE":"",role:"dialog",tabindex:"-1"}).hide(),$overlay=$tag(div,"Overlay").hide(),$loadingOverlay=$([$tag(div,"LoadingOverlay")[0],$tag(div,"LoadingGraphic")[0]]),$wrap=$tag(div,"Wrapper"),$content=$tag(div,"Content").append($title=$tag(div,"Title"),$current=$tag(div,"Current"),$prev=$('<button type="button"/>').attr({
id:prefix+"Previous"}),$next=$('<button type="button"/>').attr({id:prefix+"Next"}),$slideshow=$('<button type="button"/>').attr({id:prefix+"Slideshow"}),$loadingOverlay),$close=$('<button type="button"/>').attr({id:prefix+"Close"}),$wrap.append($tag(div).append($tag(div,"TopLeft"),$topBorder=$tag(div,"TopCenter"),$tag(div,"TopRight")),$tag(div,!1,"clear:left").append($leftBorder=$tag(div,"MiddleLeft"),$content,$rightBorder=$tag(div,"MiddleRight")),$tag(div,!1,"clear:left").append($tag(div,"BottomLeft"),$bottomBorder=$tag(div,"BottomCenter"),$tag(div,"BottomRight"))).find("div div").css({float:"left"}),$loadingBay=$tag(div,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),$groupControls=$next.add($prev).add($current).add($slideshow)),document.body&&!$box.parent().length&&$(document.body).append($overlay,$box.append($wrap,$loadingBay))}function addBindings(){function clickHandler(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),launch(this))}return!!$box&&(init||(init=!0,$next.click(function(){publicMethod.next()}),$prev.click(function(){publicMethod.prev()}),$close.click(function(){publicMethod.close()}),$overlay.click(function(){settings.get("overlayClose")&&publicMethod.close()}),$(document).bind("keydown."+prefix,function(e){var key=e.keyCode;open&&settings.get("escKey")&&27===key&&(e.preventDefault(),publicMethod.close()),open&&settings.get("arrowKey")&&$related[1]&&!e.altKey&&(37===key?(e.preventDefault(),$prev.click()):39===key&&(e.preventDefault(),$next.click()))}),$.isFunction($.fn.on)?$(document).on("click."+prefix,"."+boxElement,clickHandler):$("."+boxElement).live("click."+prefix,clickHandler)),!0)}function load(){var href,setResize,$inline,prep=publicMethod.prep,request=++requests;if(active=!0,photo=!1,trigger(event_purge),trigger(event_load),settings.get("onLoad"),settings.h=settings.get("height")?setSize(settings.get("height"),"y")-loadedHeight-interfaceHeight:settings.get("innerHeight")&&setSize(settings.get("innerHeight"),"y"),settings.w=settings.get("width")?setSize(settings.get("width"),"x")-loadedWidth-interfaceWidth:settings.get("innerWidth")&&setSize(settings.get("innerWidth"),"x"),settings.mw=settings.w,settings.mh=settings.h,settings.get("maxWidth")&&(settings.mw=setSize(settings.get("maxWidth"),"x")-loadedWidth-interfaceWidth,settings.mw=settings.w&&settings.w<settings.mw?settings.w:settings.mw),settings.get("maxHeight")&&(settings.mh=setSize(settings.get("maxHeight"),"y")-loadedHeight-interfaceHeight,settings.mh=settings.h&&settings.h<settings.mh?settings.h:settings.mh),href=settings.get("href"),loadingTimer=setTimeout(function(){$loadingOverlay.show()},100),settings.get("inline")){var $target=$(href).eq(0);$inline=$("<div>").hide().insertBefore($target),$events.one(event_purge,function(){$inline.replaceWith($target)}),prep($target)}else settings.get("iframe")?prep(" "):settings.get("html")?prep(settings.get("html")):isImage(settings,href)?(href=retinaUrl(settings,href),photo=settings.get("createImg"),$(photo).addClass(prefix+"Photo").bind("error."+prefix,function(){prep($tag(div,"Error").html(settings.get("imgError")))}).one("load",function(){request===requests&&setTimeout(function(){var percent;settings.get("retinaImage")&&window.devicePixelRatio>1&&(photo.height=photo.height/window.devicePixelRatio,photo.width=photo.width/window.devicePixelRatio),settings.get("scalePhotos")&&(setResize=function(){photo.height-=photo.height*percent,photo.width-=photo.width*percent},settings.mw&&photo.width>settings.mw&&(percent=(photo.width-settings.mw)/photo.width,setResize()),settings.mh&&photo.height>settings.mh&&(percent=(photo.height-settings.mh)/photo.height,setResize())),settings.h&&(photo.style.marginTop=Math.max(settings.mh-photo.height,0)/2+"px"),$related[1]&&(settings.get("loop")||$related[index+1])&&(photo.style.cursor="pointer",$(photo).bind("click."+prefix,function(){publicMethod.next()})),photo.style.width=photo.width+"px",photo.style.height=photo.height+"px",prep(photo)},1)}),photo.src=href):href&&$loadingBay.load(href,settings.get("data"),function(data,status){request===requests&&prep("error"===status?$tag(div,"Error").html(settings.get("xhrError")):$(this).contents())})}var $overlay,$box,$wrap,$content,$topBorder,$leftBorder,$rightBorder,$bottomBorder,$related,$window,$loaded,$loadingBay,$loadingOverlay,$title,$current,$slideshow,$next,$prev,$close,$groupControls,settings,interfaceHeight,interfaceWidth,loadedHeight,loadedWidth,index,photo,open,active,closing,loadingTimer,publicMethod,init,defaults={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return $(this).attr("href")},title:function(){return this.title},createImg:function(){var img=new Image,attrs=$(this).data("cbox-img-attrs");return"object"==typeof attrs&&$.each(attrs,function(key,val){img[key]=val}),img},createIframe:function(){var iframe=document.createElement("iframe"),attrs=$(this).data("cbox-iframe-attrs");return"object"==typeof attrs&&$.each(attrs,function(key,val){iframe[key]=val}),"frameBorder"in iframe&&(iframe.frameBorder=0),"allowTransparency"in iframe&&(iframe.allowTransparency="true"),iframe.name=(new Date).getTime(),iframe.allowFullscreen=!0,iframe}},colorbox="colorbox",prefix="cbox",boxElement=prefix+"Element",event_open=prefix+"_open",event_load=prefix+"_load",event_complete=prefix+"_complete",event_cleanup=prefix+"_cleanup",event_closed=prefix+"_closed",event_purge=prefix+"_purge",$events=$("<a/>"),div="div",requests=0,previousCSS={},slideshow=function(){function clear(){clearTimeout(timeOut)}function set(){(settings.get("loop")||$related[index+1])&&(clear(),timeOut=setTimeout(publicMethod.next,settings.get("slideshowSpeed")))}function start(){$slideshow.html(settings.get("slideshowStop")).unbind(click).one(click,stop),$events.bind(event_complete,set).bind(event_load,clear),$box.removeClass(className+"off").addClass(className+"on")}function stop(){clear(),$events.unbind(event_complete,set).unbind(event_load,clear),$slideshow.html(settings.get("slideshowStart")).unbind(click).one(click,function(){publicMethod.next(),start()}),$box.removeClass(className+"on").addClass(className+"off")}function reset(){active=!1,$slideshow.hide(),clear(),$events.unbind(event_complete,set).unbind(event_load,clear),$box.removeClass(className+"off "+className+"on")}var active,timeOut,className=prefix+"Slideshow_",click="click."+prefix;return function(){active?settings.get("slideshow")||($events.unbind(event_cleanup,reset),reset()):settings.get("slideshow")&&$related[1]&&(active=!0,$events.one(event_cleanup,reset),settings.get("slideshowAuto")?start():stop(),$slideshow.show())}}();$[colorbox]||($(appendHTML),publicMethod=$.fn[colorbox]=$[colorbox]=function(options,callback){var settings,$obj=this;return options=options||{},$.isFunction($obj)&&($obj=$("<a/>"),options.open=!0),$obj[0]?(appendHTML(),addBindings()&&(callback&&(options.onComplete=callback),$obj.each(function(){var old=$.data(this,colorbox)||{};$.data(this,colorbox,$.extend(old,options))}).addClass(boxElement),settings=new Settings($obj[0],options),settings.get("open")&&launch($obj[0])),$obj):$obj},publicMethod.position=function(speed,loadedCallback){function modalDimensions(){$topBorder[0].style.width=$bottomBorder[0].style.width=$content[0].style.width=parseInt($box[0].style.width,10)-interfaceWidth+"px",$content[0].style.height=$leftBorder[0].style.height=$rightBorder[0].style.height=parseInt($box[0].style.height,10)-interfaceHeight+"px"}var css,scrollTop,scrollLeft,top=0,left=0,offset=$box.offset();if($window.unbind("resize."+prefix),$box.css({top:-9e4,left:-9e4}),scrollTop=$window.scrollTop(),scrollLeft=$window.scrollLeft(),settings.get("fixed")?(offset.top-=scrollTop,offset.left-=scrollLeft,$box.css({position:"fixed"})):(top=scrollTop,left=scrollLeft,$box.css({position:"absolute"})),left+=settings.get("right")!==!1?Math.max($window.width()-settings.w-loadedWidth-interfaceWidth-setSize(settings.get("right"),"x"),0):settings.get("left")!==!1?setSize(settings.get("left"),"x"):Math.round(Math.max($window.width()-settings.w-loadedWidth-interfaceWidth,0)/2),top+=settings.get("bottom")!==!1?Math.max(winheight()-settings.h-loadedHeight-interfaceHeight-setSize(settings.get("bottom"),"y"),0):settings.get("top")!==!1?setSize(settings.get("top"),"y"):Math.round(Math.max(winheight()-settings.h-loadedHeight-interfaceHeight,0)/2),$box.css({top:offset.top,left:offset.left,visibility:"visible"}),$wrap[0].style.width=$wrap[0].style.height="9999px",css={width:settings.w+loadedWidth+interfaceWidth,height:settings.h+loadedHeight+interfaceHeight,top:top,left:left},speed){var tempSpeed=0;$.each(css,function(i){if(css[i]!==previousCSS[i])return void(tempSpeed=speed)}),speed=tempSpeed}previousCSS=css,speed||$box.css(css),$box.dequeue().animate(css,{duration:speed||0,complete:function(){modalDimensions(),active=!1,$wrap[0].style.width=settings.w+loadedWidth+interfaceWidth+"px",$wrap[0].style.height=settings.h+loadedHeight+interfaceHeight+"px",settings.get("reposition")&&setTimeout(function(){$window.bind("resize."+prefix,publicMethod.position)},1),$.isFunction(loadedCallback)&&loadedCallback()},step:modalDimensions})},publicMethod.resize=function(options){var scrolltop;open&&(options=options||{},options.width&&(settings.w=setSize(options.width,"x")-loadedWidth-interfaceWidth),options.innerWidth&&(settings.w=setSize(options.innerWidth,"x")),$loaded.css({width:settings.w}),options.height&&(settings.h=setSize(options.height,"y")-loadedHeight-interfaceHeight),options.innerHeight&&(settings.h=setSize(options.innerHeight,"y")),options.innerHeight||options.height||(scrolltop=$loaded.scrollTop(),$loaded.css({height:"auto"}),settings.h=$loaded.height()),$loaded.css({height:settings.h}),scrolltop&&$loaded.scrollTop(scrolltop),publicMethod.position("none"===settings.get("transition")?0:settings.get("speed")))},publicMethod.prep=function(object){function getWidth(){return settings.w=settings.w||$loaded.width(),settings.w=settings.mw&&settings.mw<settings.w?settings.mw:settings.w,settings.w}function getHeight(){return settings.h=settings.h||$loaded.height(),settings.h=settings.mh&&settings.mh<settings.h?settings.mh:settings.h,settings.h}if(open){var callback,speed="none"===settings.get("transition")?0:settings.get("speed");$loaded.remove(),$loaded=$tag(div,"LoadedContent").append(object),$loaded.hide().appendTo($loadingBay.show()).css({width:getWidth(),overflow:settings.get("scrolling")?"auto":"hidden"}).css({height:getHeight()}).prependTo($content),$loadingBay.hide(),$(photo).css({float:"none"}),setClass(settings.get("className")),callback=function(){function removeFilter(){$.support.opacity===!1&&$box[0].style.removeAttribute("filter")}var iframe,complete,total=$related.length;open&&(complete=function(){clearTimeout(loadingTimer),$loadingOverlay.hide(),trigger(event_complete),settings.get("onComplete")},$title.html(settings.get("title")).show(),$loaded.show(),total>1?("string"==typeof settings.get("current")&&$current.html(settings.get("current").replace("{current}",index+1).replace("{total}",total)).show(),$next[settings.get("loop")||index<total-1?"show":"hide"]().html(settings.get("next")),$prev[settings.get("loop")||index?"show":"hide"]().html(settings.get("previous")),slideshow(),settings.get("preloading")&&$.each([getIndex(-1),getIndex(1)],function(){var img,i=$related[this],settings=new Settings(i,$.data(i,colorbox)),src=settings.get("href");src&&isImage(settings,src)&&(src=retinaUrl(settings,src),img=document.createElement("img"),img.src=src)})):$groupControls.hide(),settings.get("iframe")?(iframe=settings.get("createIframe"),settings.get("scrolling")||(iframe.scrolling="no"),$(iframe).attr({src:settings.get("href"),class:prefix+"Iframe"}).one("load",complete).appendTo($loaded),$events.one(event_purge,function(){iframe.src="//about:blank"}),settings.get("fastIframe")&&$(iframe).trigger("load")):complete(),"fade"===settings.get("transition")?$box.fadeTo(speed,1,removeFilter):removeFilter())},"fade"===settings.get("transition")?$box.fadeTo(speed,0,function(){publicMethod.position(0,callback)}):publicMethod.position(speed,callback)}},publicMethod.next=function(){!active&&$related[1]&&(settings.get("loop")||$related[index+1])&&(index=getIndex(1),launch($related[index]))},publicMethod.prev=function(){!active&&$related[1]&&(settings.get("loop")||index)&&(index=getIndex(-1),launch($related[index]))},publicMethod.close=function(){open&&!closing&&(closing=!0,open=!1,trigger(event_cleanup),settings.get("onCleanup"),$window.unbind("."+prefix),$overlay.fadeTo(settings.get("fadeOut")||0,0),$box.stop().fadeTo(settings.get("fadeOut")||0,0,function(){$box.hide(),$overlay.hide(),trigger(event_purge),$loaded.remove(),setTimeout(function(){closing=!1,trigger(event_closed),settings.get("onClosed")},1)}))},publicMethod.remove=function(){$box&&($box.stop(),$[colorbox].close(),$box.stop(!1,!0).remove(),$overlay.remove(),closing=!1,$box=null,$("."+boxElement).removeData(colorbox).removeClass(boxElement),$(document).unbind("click."+prefix).unbind("keydown."+prefix))},publicMethod.element=function(){return $(settings.el)},publicMethod.settings=defaults)}(jQuery,document,window),jQuery.bt={version:"0.9.5-rc1"},function($){jQuery.fn.bt=function(content,options){function drawIt(points,strokeWidth){for(this.moveTo(points[0].x,points[0].y),i=1;i<points.length;i++)"arcStart"==points[i-1].type?(this.quadraticCurveTo(round5(points[i].x,strokeWidth),round5(points[i].y,strokeWidth),round5(points[(i+1)%points.length].x,strokeWidth),round5(points[(i+1)%points.length].y,strokeWidth)),i++):this.lineTo(round5(points[i].x,strokeWidth),round5(points[i].y,strokeWidth))}function round5(num,strokeWidth){var ret;return strokeWidth=numb(strokeWidth),ret=strokeWidth%2?num:Math.round(num-.5)+.5}function numb(num){return parseInt(num)||0}function arrayRemove(arr,elem){var x,newArr=new Array;for(x in arr)arr[x]!=elem&&newArr.push(arr[x]);return newArr}function canvasSupport(){var canvas_compatible=!1;try{canvas_compatible=!!document.createElement("canvas").getContext("2d")}catch(e){canvas_compatible=!!document.createElement("canvas").getContext}return canvas_compatible}function shadowSupport(){try{var userAgent=navigator.userAgent.toLowerCase();if(/webkit/.test(userAgent))return!0;if(/gecko|mozilla/.test(userAgent)&&parseFloat(userAgent.match(/firefox\/(\d+(?:\.\d+)+)/)[1])>=3.1)return!0}catch(err){}return!1}function betweenPoint(point1,point2,dist){var y,x;return point1.x==point2.x?(y=point1.y<point2.y?point1.y+dist:point1.y-dist,{x:point1.x,y:y}):point1.y==point2.y?(x=point1.x<point2.x?point1.x+dist:point1.x-dist,{x:x,y:point1.y}):void 0}function centerPoint(arcStart,corner,arcEnd){var startAngle,endAngle,x=corner.x==arcStart.x?arcEnd.x:arcStart.x,y=corner.y==arcStart.y?arcEnd.y:arcStart.y;return arcStart.x<arcEnd.x?arcStart.y>arcEnd.y?(startAngle=Math.PI/180*180,endAngle=Math.PI/180*90):(startAngle=Math.PI/180*90,endAngle=0):arcStart.y>arcEnd.y?(startAngle=Math.PI/180*270,endAngle=Math.PI/180*180):(startAngle=0,endAngle=Math.PI/180*270),{x:x,y:y,type:"center",startAngle:startAngle,endAngle:endAngle}}function findIntersect(r1x1,r1y1,r1x2,r1y2,r2x1,r2y1,r2x2,r2y2){if(r2x1==r2x2)return findIntersectY(r1x1,r1y1,r1x2,r1y2,r2x1);if(r2y1==r2y2)return findIntersectX(r1x1,r1y1,r1x2,r1y2,r2y1);var r1m=(r1y1-r1y2)/(r1x1-r1x2),r1b=r1y1-r1m*r1x1,r2m=(r2y1-r2y2)/(r2x1-r2x2),r2b=r2y1-r2m*r2x1,x=(r2b-r1b)/(r1m-r2m),y=r1m*x+r1b;return{x:x,y:y}}function findIntersectY(r1x1,r1y1,r1x2,r1y2,x){if(r1y1==r1y2)return{x:x,y:r1y1};var r1m=(r1y1-r1y2)/(r1x1-r1x2),r1b=r1y1-r1m*r1x1,y=r1m*x+r1b;return{x:x,y:y}}function findIntersectX(r1x1,r1y1,r1x2,r1y2,y){if(r1x1==r1x2)return{x:r1x1,y:y};var r1m=(r1y1-r1y2)/(r1x1-r1x2),r1b=r1y1-r1m*r1x1,x=(y-r1b)/r1m;return{x:x,y:y}}if("string"!=typeof content){var contentSelect=!0;options=content,content=!1}else var contentSelect=!1;return jQuery.fn.hoverIntent&&"hover"==jQuery.bt.defaults.trigger&&(jQuery.bt.defaults.trigger="hoverIntent"),this.each(function(index){var opts=jQuery.extend(!1,jQuery.bt.defaults,jQuery.bt.options,options);opts.spikeLength=numb(opts.spikeLength),opts.spikeGirth=numb(opts.spikeGirth),opts.overlap=numb(opts.overlap);var ajaxTimeout=!1;if(opts.killTitle&&$(this).find("[title]").andSelf().each(function(){$(this).attr("bt-xTitle")||$(this).attr("bt-xTitle",$(this).attr("title")).attr("title","")}),"string"==typeof opts.trigger&&(opts.trigger=[opts.trigger]),"hoverIntent"==opts.trigger[0]){var hoverOpts=jQuery.extend(opts.hoverIntentOpts,{over:function(){this.btOn()},out:function(){this.btOff()}});$(this).hoverIntent(hoverOpts)}else"hover"==opts.trigger[0]?$(this).hover(function(){this.btOn()},function(){this.btOff()}):"now"==opts.trigger[0]?$(this).hasClass("bt-active")?this.btOff():this.btOn():"none"==opts.trigger[0]||(opts.trigger.length>1&&opts.trigger[0]!=opts.trigger[1]?$(this).bind(opts.trigger[0],function(){this.btOn()}).bind(opts.trigger[1],function(){this.btOff()}):$(this).bind(opts.trigger[0],function(){$(this).hasClass("bt-active")?this.btOff():this.btOn()}));this.btOn=function(){if("object"==typeof $(this).data("bt-box")&&this.btOff(),opts.preBuild.apply(this),$(jQuery.bt.vars.closeWhenOpenStack).btOff(),$(this).addClass("bt-active "+opts.activeClass),contentSelect&&null==opts.ajaxPath&&(opts.killTitle&&$(this).attr("title",$(this).attr("bt-xTitle")),content=$.isFunction(opts.contentSelector)?opts.contentSelector.apply(this):eval(opts.contentSelector),opts.killTitle&&$(this).attr("title","")),null!=opts.ajaxPath&&0==content){if("object"==typeof opts.ajaxPath){var url=eval(opts.ajaxPath[0]);url+=opts.ajaxPath[1]?" "+opts.ajaxPath[1]:""}else var url=opts.ajaxPath;var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var cacheData=opts.ajaxCache?$(document.body).data("btCache-"+url.replace(/\./g,"")):null;if("string"==typeof cacheData)content=selector?$("<div/>").append(cacheData.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):cacheData;else{var target=this,ajaxOpts=jQuery.extend(!1,{type:opts.ajaxType,data:opts.ajaxData,cache:opts.ajaxCache,url:url,complete:function(XMLHttpRequest,textStatus){"success"==textStatus||"notmodified"==textStatus?(opts.ajaxCache&&$(document.body).data("btCache-"+url.replace(/\./g,""),XMLHttpRequest.responseText),ajaxTimeout=!1,content=selector?$("<div/>").append(XMLHttpRequest.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):XMLHttpRequest.responseText):("timeout"==textStatus&&(ajaxTimeout=!0),content=opts.ajaxError.replace(/%error/g,XMLHttpRequest.statusText)),$(target).hasClass("bt-active")&&target.btOn()}},opts.ajaxOpts);jQuery.ajax(ajaxOpts),content=opts.ajaxLoading}}var shadowMarginX=0,shadowMarginY=0,shadowShiftX=0,shadowShiftY=0;if(opts.shadow&&!shadowSupport()&&(opts.shadow=!1,jQuery.extend(opts,opts.noShadowOpts)),opts.shadow&&(shadowMarginX=opts.shadowBlur>Math.abs(opts.shadowOffsetX)?2*opts.shadowBlur:opts.shadowBlur+Math.abs(opts.shadowOffsetX),shadowShiftX=opts.shadowBlur-opts.shadowOffsetX>0?opts.shadowBlur-opts.shadowOffsetX:0,shadowMarginY=opts.shadowBlur>Math.abs(opts.shadowOffsetY)?2*opts.shadowBlur:opts.shadowBlur+Math.abs(opts.shadowOffsetY),shadowShiftY=opts.shadowBlur-opts.shadowOffsetY>0?opts.shadowBlur-opts.shadowOffsetY:0),opts.offsetParent)var offsetParent=$(opts.offsetParent),offsetParentPos=offsetParent.offset(),pos=$(this).offset(),top=numb(pos.top)-numb(offsetParentPos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=numb(pos.left)-numb(offsetParentPos.left)+numb($(this).css("margin-left"))-shadowShiftX;else var offsetParent="absolute"==$(this).css("position")?$(this).parents().eq(0).offsetParent():$(this).offsetParent(),pos=$(this).btPosition(),top=numb(pos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=numb(pos.left)+numb($(this).css("margin-left"))-shadowShiftX;var width=$(this).btOuterWidth(),height=$(this).outerHeight();if("object"==typeof content){var original=content,clone=$(original).clone(!0).show(),origClones=$(original).data("bt-clones")||[];origClones.push(clone),$(original).data("bt-clones",origClones),$(clone).data("bt-orig",original),$(this).data("bt-content-orig",{original:original,clone:clone}),content=clone}if("null"!=typeof content&&""!=content){var $text=$('<div class="bt-content"></div>').append(content).css({padding:opts.padding,position:"absolute",width:opts.shrinkToFit?"auto":opts.width,zIndex:opts.textzIndex,left:shadowShiftX,top:shadowShiftY}).css(opts.cssStyles),$box=$('<div class="bt-wrapper"></div>').append($text).addClass(opts.cssClass).css({position:"absolute",width:opts.width,zIndex:opts.wrapperzIndex,visibility:"hidden"}).appendTo(offsetParent);jQuery.fn.bgiframe&&($text.bgiframe(),$box.bgiframe()),$(this).data("bt-box",$box);var scrollTop=numb($(document).scrollTop()),scrollLeft=numb($(document).scrollLeft()),docWidth=numb($(window).width()),docHeight=numb($(window).height()),winRight=scrollLeft+docWidth,winBottom=scrollTop+docHeight,space=new Object,thisOffset=$(this).offset();space.top=thisOffset.top-scrollTop,space.bottom=docHeight-(thisOffset+height-scrollTop),space.left=thisOffset.left-scrollLeft,space.right=docWidth-(thisOffset.left+width-scrollLeft);var textOutHeight=numb($text.outerHeight()),textOutWidth=numb($text.btOuterWidth());if(opts.positions.constructor==String&&(opts.positions=opts.positions.replace(/ /,"").split(",")),"most"==opts.positions[0]){var position="top";for(var pig in space)position=space[pig]>space[position]?pig:position}else for(var x in opts.positions){var position=opts.positions[x];if(("left"==position||"right"==position)&&space[position]>textOutWidth+opts.spikeLength)break;if(("top"==position||"bottom"==position)&&space[position]>textOutHeight+opts.spikeLength)break}var horiz=left+.5*(width-textOutWidth),vert=top+.5*(height-textOutHeight),points=new Array,textTop,textLeft,textRight,textBottom,textTopSpace,textBottomSpace,textLeftSpace,textRightSpace,crossPoint,textCenter,spikePoint;switch(position){case"top":$text.css("margin-bottom",opts.spikeLength+"px"),$box.css({top:top-$text.outerHeight(!0)+opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={y:textBottom+opts.spikeLength,x:.5*(textRight-textLeft)+xShift,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textBottom),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.CornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]=spikePoint;break;case"left":$text.css("margin-right",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left-$text.btOuterWidth(!0)+opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:textRight+opts.spikeLength,y:.5*(textBottom-textTop)+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textRight),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textRight,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint;break;case"bottom":$text.css("margin-top",opts.spikeLength+"px"),$box.css({top:top+height-opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:.5*(textRight-textLeft)+xShift,y:shadowShiftY,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textTop),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.cornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]=spikePoint;break;case"right":$text.css("margin-left",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left+width-opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:shadowShiftX,y:.5*(textBottom-textTop)+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textLeft),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textLeft,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint}var canvas=document.createElement("canvas");if($(canvas).attr("width",numb($text.btOuterWidth(!0))+2*opts.strokeWidth+shadowMarginX).attr("height",numb($text.outerHeight(!0))+2*opts.strokeWidth+shadowMarginY).appendTo($box).css({position:"absolute",zIndex:opts.boxzIndex}),"undefined"!=typeof G_vmlCanvasManager&&(canvas=G_vmlCanvasManager.initElement(canvas)),opts.cornerRadius>0){for(var newPoints=new Array,newPoint,i=0;i<points.length;i++)"corner"==points[i].type?(newPoint=betweenPoint(points[i],points[(i-1)%points.length],opts.cornerRadius),newPoint.type="arcStart",newPoints[newPoints.length]=newPoint,newPoints[newPoints.length]=points[i],newPoint=betweenPoint(points[i],points[(i+1)%points.length],opts.cornerRadius),newPoint.type="arcEnd",newPoints[newPoints.length]=newPoint):newPoints[newPoints.length]=points[i];points=newPoints}var ctx=canvas.getContext("2d");if(opts.shadow&&opts.shadowOverlap!==!0){var shadowOverlap=numb(opts.shadowOverlap);switch(position){case"top":opts.shadowOffsetX+opts.shadowBlur-shadowOverlap>0&&$box.css("top",numb($box.css("top"))-(opts.shadowOffsetX+opts.shadowBlur-shadowOverlap));break;case"right":shadowShiftX-shadowOverlap>0&&$box.css("left",numb($box.css("left"))+shadowShiftX-shadowOverlap);break;case"bottom":shadowShiftY-shadowOverlap>0&&$box.css("top",numb($box.css("top"))+shadowShiftY-shadowOverlap);break;case"left":opts.shadowOffsetY+opts.shadowBlur-shadowOverlap>0&&$box.css("left",numb($box.css("left"))-(opts.shadowOffsetY+opts.shadowBlur-shadowOverlap))}}if(drawIt.apply(ctx,[points],opts.strokeWidth),ctx.fillStyle=opts.fill,opts.shadow&&(ctx.shadowOffsetX=opts.shadowOffsetX,ctx.shadowOffsetY=opts.shadowOffsetY,ctx.shadowBlur=opts.shadowBlur,ctx.shadowColor=opts.shadowColor),ctx.closePath(),ctx.fill(),opts.strokeWidth>0&&(ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineWidth=opts.strokeWidth,ctx.strokeStyle=opts.strokeStyle,ctx.beginPath(),drawIt.apply(ctx,[points],opts.strokeWidth),ctx.closePath(),ctx.stroke()),opts.preShow.apply(this,[$box[0]]),$box.css({display:"none",visibility:"visible"}),opts.showTip.apply(this,[$box[0]]),opts.overlay){var overlay=$('<div class="bt-overlay"></div>').css({
position:"absolute",backgroundColor:"blue",top:top,left:left,width:width,height:height,opacity:".2"}).appendTo(offsetParent);$(this).data("overlay",overlay)}(null!=opts.ajaxPath&&0==opts.ajaxCache||ajaxTimeout)&&(content=!1),opts.clickAnywhereToClose&&(jQuery.bt.vars.clickAnywhereStack.push(this),$(document).click(jQuery.bt.docClick)),opts.closeWhenOthersOpen&&jQuery.bt.vars.closeWhenOpenStack.push(this),opts.postShow.apply(this,[$box[0]])}},this.btOff=function(){var box=$(this).data("bt-box");opts.preHide.apply(this,[box]);var i=this;i.btCleanup=function(){var box=$(i).data("bt-box"),contentOrig=$(i).data("bt-content-orig"),overlay=$(i).data("bt-overlay");if("object"==typeof box&&($(box).remove(),$(i).removeData("bt-box")),"object"==typeof contentOrig){var clones=$(contentOrig.original).data("bt-clones");$(contentOrig).data("bt-clones",arrayRemove(clones,contentOrig.clone))}"object"==typeof overlay&&($(overlay).remove(),$(i).removeData("bt-overlay")),jQuery.bt.vars.clickAnywhereStack=arrayRemove(jQuery.bt.vars.clickAnywhereStack,i),jQuery.bt.vars.closeWhenOpenStack=arrayRemove(jQuery.bt.vars.closeWhenOpenStack,i),$(i).removeClass("bt-active "+opts.activeClass),opts.postHide.apply(i)},opts.hideTip.apply(this,[box,i.btCleanup])};var refresh=this.btRefresh=function(){this.btOff(),this.btOn()}})},jQuery.fn.btPosition=function(){function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,!0),10)||0}var results;if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();offset.top-=num(this,"marginTop"),offset.left-=num(this,"marginLeft"),parentOffset.top+=num(offsetParent,"borderTopWidth"),parentOffset.left+=num(offsetParent,"borderLeftWidth"),results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}return results},jQuery.fn.btOuterWidth=function(margin){function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,!0),10)||0}return this.innerWidth()+num(this,"borderLeftWidth")+num(this,"borderRightWidth")+(margin?num(this,"marginLeft")+num(this,"marginRight"):0)},jQuery.fn.btOn=function(){return this.each(function(index){jQuery.isFunction(this.btOn)&&this.btOn()})},jQuery.fn.btOff=function(){return this.each(function(index){jQuery.isFunction(this.btOff)&&this.btOff()})},jQuery.bt.vars={clickAnywhereStack:[],closeWhenOpenStack:[]},jQuery.bt.docClick=function(e){if(!e)var e=window.event;!$(e.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length&&jQuery.bt.vars.clickAnywhereStack.length&&($(jQuery.bt.vars.clickAnywhereStack).btOff(),$(document).unbind("click",jQuery.bt.docClick))},jQuery.bt.defaults={trigger:"hover",clickAnywhereToClose:!0,closeWhenOthersOpen:!1,shrinkToFit:!1,width:"200px",padding:"10px",spikeGirth:10,spikeLength:15,overlap:0,overlay:!1,killTitle:!0,textzIndex:9999,boxzIndex:9998,wrapperzIndex:9997,offsetParent:null,positions:["most"],fill:"rgb(255, 255, 102)",windowMargin:10,strokeWidth:1,strokeStyle:"#000",cornerRadius:5,centerPointX:.5,centerPointY:.5,shadow:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:3,shadowColor:"#000",shadowOverlap:!1,noShadowOpts:{strokeStyle:"#999"},cssClass:"",cssStyles:{},activeClass:"bt-active",contentSelector:"$(this).attr('title')",ajaxPath:null,ajaxError:"<strong>ERROR:</strong> <em>%error</em>",ajaxLoading:"<blink>Loading...</blink>",ajaxData:{},ajaxType:"GET",ajaxCache:!0,ajaxOpts:{},preBuild:function(){},preShow:function(box){},showTip:function(box){$(box).show()},postShow:function(box){},preHide:function(box){},hideTip:function(box,callback){$(box).hide(),callback()},postHide:function(){},hoverIntentOpts:{interval:300,timeout:500}},jQuery.bt.options={}}(jQuery),function($){$.widget("ui.stars",{options:{inputType:"radio",split:0,disabled:!1,cancelTitle:"Cancel Rating",cancelValue:0,cancelShow:!0,disableValue:!0,oneVoteOnly:!1,showTitles:!1,captionEl:null,callback:null,starWidth:16,cancelClass:"ui-stars-cancel",starClass:"ui-stars-star",starOnClass:"ui-stars-star-on",starHoverClass:"ui-stars-star-hover",starDisabledClass:"ui-stars-star-disabled",cancelHoverClass:"ui-stars-cancel-hover",cancelDisabledClass:"ui-stars-cancel-disabled"},_create:function(){function fillTo(index,hover){if(index!=-1){var addClass=hover?o.starHoverClass:o.starOnClass,remClass=hover?o.starOnClass:o.starHoverClass;self.$stars.eq(index).prevAll("."+o.starClass).andSelf().removeClass(remClass).addClass(addClass),self.$stars.eq(index).nextAll("."+o.starClass).removeClass(o.starHoverClass+" "+o.starOnClass),self._showCap(o.id2title[index])}else fillNone()}function fillNone(){self.$stars.removeClass(o.starOnClass+" "+o.starHoverClass),self._showCap("")}var self=this,o=this.options,starId=0;this.element.data("former.stars",this.element.html()),o.isSelect="select"==o.inputType,this.$form=$(this.element).closest("form"),this.$selec=o.isSelect?$("select",this.element):null,this.$rboxs=o.isSelect?$("option",this.$selec):$(":radio",this.element),this.$stars=this.$rboxs.map(function(i){var el={value:this.value,title:(o.isSelect?this.text:this.title)||this.value,isDefault:o.isSelect&&this.defaultSelected||this.defaultChecked};if(0==i&&(o.split="number"!=typeof o.split?0:o.split,o.val2id=[],o.id2val=[],o.id2title=[],o.name=o.isSelect?self.$selec.get(0).name:this.name,o.disabled=o.disabled||(o.isSelect?$(self.$selec).prop("disabled"):$(this).prop("disabled"))),el.value==o.cancelValue)return o.cancelTitle=el.title,null;o.val2id[el.value]=starId,o.id2val[starId]=el.value,o.id2title[starId]=el.title,el.isDefault&&(o.checked=starId,o.value=o.defaultValue=el.value,o.title=el.title);var $s=$("<div/>").addClass(o.starClass),$a=$("<a/>").attr("title",o.showTitles?el.title:"").text(el.value);if(o.split){var oddeven=starId%o.split,stwidth=Math.floor(o.starWidth/o.split);$s.width(stwidth),$a.css("margin-left","-"+oddeven*stwidth+"px")}return starId++,$s.append($a).get(0)}),o.items=starId,o.isSelect?this.$selec.remove():this.$rboxs.remove(),this.$cancel=$("<div/>").addClass(o.cancelClass).append($("<a/>").attr("title",o.showTitles?o.cancelTitle:"").text(o.cancelValue)),o.cancelShow&=!o.disabled&&!o.oneVoteOnly,o.cancelShow&&this.element.append(this.$cancel),this.element.append(this.$stars),void 0===o.checked&&(o.checked=-1,o.value=o.defaultValue=o.cancelValue,o.title=""),this.$value=$("<input type='hidden' name='"+o.name+"' value='"+o.value+"' />"),this.element.append(this.$value),this.$stars.bind("click.stars",function(e){if(!o.forceSelect&&o.disabled)return!1;var i=self.$stars.index(this);o.checked=i,o.value=o.id2val[i],o.title=o.id2title[i],self.$value.val(o.value),self.$value.prop("disabled",o.disabled),fillTo(i,!1),self._disableCancel(),!o.forceSelect&&self.callback(e,"star")}).bind("mouseover.stars",function(){if(o.disabled)return!1;var i=self.$stars.index(this);fillTo(i,!0)}).bind("mouseout.stars",function(){return!o.disabled&&void fillTo(self.options.checked,!1)}),this.$cancel.bind("click.stars",function(e){return!(!o.forceSelect&&(o.disabled||o.value==o.cancelValue))&&(o.checked=-1,o.value=o.cancelValue,o.title="",self.$value.val(o.value),o.disableValue&&self.$value.prop("disabled",!0),fillNone(),self._disableCancel(),void(!o.forceSelect&&self.callback(e,"cancel")))}).bind("mouseover.stars",function(){return!self._disableCancel()&&(self.$cancel.addClass(o.cancelHoverClass),fillNone(),void self._showCap(o.cancelTitle))}).bind("mouseout.stars",function(){return!self._disableCancel()&&(self.$cancel.removeClass(o.cancelHoverClass),void self.$stars.triggerHandler("mouseout.stars"))}),this.$form.bind("reset.stars",function(){!o.disabled&&self.select(o.defaultValue)}),$(window).unload(function(){self.$cancel.unbind(".stars"),self.$stars.unbind(".stars"),self.$form.unbind(".stars"),self.$selec=self.$rboxs=self.$stars=self.$value=self.$cancel=self.$form=null}),this.select(o.value),o.disabled&&this.disable()},_disableCancel:function(){var o=this.options,disabled=o.disabled||o.oneVoteOnly||o.value==o.cancelValue;return disabled?this.$cancel.removeClass(o.cancelHoverClass).addClass(o.cancelDisabledClass):this.$cancel.removeClass(o.cancelDisabledClass),this.$cancel.css("opacity",disabled?.5:1),disabled},_disableAll:function(){var o=this.options;this._disableCancel(),o.disabled?this.$stars.filter("div").addClass(o.starDisabledClass):this.$stars.filter("div").removeClass(o.starDisabledClass)},_showCap:function(s){var o=this.options;o.captionEl&&o.captionEl.text(s)},value:function(){return this.options.value},select:function(val){var o=this.options,e=val==o.cancelValue?this.$cancel:this.$stars.eq(o.val2id[val]);o.forceSelect=!0,e.triggerHandler("click.stars"),o.forceSelect=!1},selectID:function(id){var o=this.options,e=id==-1?this.$cancel:this.$stars.eq(id);o.forceSelect=!0,e.triggerHandler("click.stars"),o.forceSelect=!1},enable:function(){this.options.disabled=!1,this._disableAll()},disable:function(){this.options.disabled=!0,this._disableAll()},destroy:function(){return this.$form.unbind(".stars"),this.$cancel.unbind(".stars").remove(),this.$stars.unbind(".stars").remove(),this.$value.remove(),this.element.unbind(".stars").html(this.element.data("former.stars")).removeData("stars"),this},callback:function(e,type){var o=this.options;o.callback&&o.callback(this,type,o.value,e),o.oneVoteOnly&&!o.disabled&&this.disable()}}),$.extend($.ui.stars,{version:"@VERSION@"})}(jQuery),function($){var eventNamespace="waitForImages";$.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]},$.expr[":"].uncached=function(obj){if(!$(obj).is('img[src!=""]'))return!1;var img=new Image;return img.src=obj.src,!img.complete},$.fn.waitForImages=function(finishedCallback,eachCallback,waitForAll){var allImgsLength=0,allImgsLoaded=0;if($.isPlainObject(arguments[0])&&(waitForAll=arguments[0].waitForAll,eachCallback=arguments[0].each,finishedCallback=arguments[0].finished),finishedCallback=finishedCallback||$.noop,eachCallback=eachCallback||$.noop,waitForAll=!!waitForAll,!$.isFunction(finishedCallback)||!$.isFunction(eachCallback))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var obj=$(this),allImgs=[],hasImgProperties=$.waitForImages.hasImageProperties||[],matchUrl=/url\(\s*(['"]?)(.*?)\1\s*\)/g;waitForAll?obj.find("*").andSelf().each(function(){var element=$(this);element.is("img:uncached")&&allImgs.push({src:element.attr("src"),element:element[0]}),$.each(hasImgProperties,function(i,property){var match,propertyValue=element.css(property);if(!propertyValue)return!0;for(;match=matchUrl.exec(propertyValue);)allImgs.push({src:match[2],element:element[0]})})}):obj.find("img:uncached").each(function(){allImgs.push({src:this.src,element:this})}),allImgsLength=allImgs.length,allImgsLoaded=0,0===allImgsLength&&finishedCallback.call(obj[0]),$.each(allImgs,function(i,img){var image=new Image;$(image).bind("load."+eventNamespace+" error."+eventNamespace,function(event){if(allImgsLoaded++,eachCallback.call(img.element,allImgsLoaded,allImgsLength,"load"==event.type),allImgsLoaded==allImgsLength)return finishedCallback.call(obj[0]),!1}),image.src=img.src})})}}(jQuery),function($){function both(val){return"object"==typeof val?val:{top:val,left:val}}var $scrollTo=$.scrollTo=function(target,duration,settings){return $(window).scrollTo(target,duration,settings)};$scrollTo.defaults={axis:"xy",duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:!0},$scrollTo.window=function(scope){return $(window)._scrollable()},$.fn._scrollable=function(){return this.map(function(){var elem=this,isWin=!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!isWin)return elem;var doc=(elem.contentWindow||elem).document||elem.ownerDocument||elem;return/webkit/i.test(navigator.userAgent)||"BackCompat"==doc.compatMode?doc.body:doc.documentElement})},$.fn.scrollTo=function(target,duration,settings){return"object"==typeof duration&&(settings=duration,duration=0),"function"==typeof settings&&(settings={onAfter:settings}),"max"==target&&(target=9e9),settings=$.extend({},$scrollTo.defaults,settings),duration=duration||settings.duration,settings.queue=settings.queue&&settings.axis.length>1,settings.queue&&(duration/=2),settings.offset=both(settings.offset),settings.over=both(settings.over),this._scrollable().each(function(){function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,targ,settings)})}if(null!=target){var toff,elem=this,$elem=$(elem),targ=target,attr={},win=$elem.is("html,body");switch(typeof targ){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}if(targ=$(targ,this),!targ.length)return;case"object":(targ.is||targ.style)&&(toff=(targ=$(targ)).offset())}$.each(settings.axis.split(""),function(i,axis){var Pos="x"==axis?"Left":"Top",pos=Pos.toLowerCase(),key="scroll"+Pos,old=elem[key],max=$scrollTo.max(elem,axis);if(toff)attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]),settings.margin&&(attr[key]-=parseInt(targ.css("margin"+Pos))||0,attr[key]-=parseInt(targ.css("border"+Pos+"Width"))||0),attr[key]+=settings.offset[pos]||0,settings.over[pos]&&(attr[key]+=targ["x"==axis?"width":"height"]()*settings.over[pos]);else{var val=targ[pos];attr[key]=val.slice&&"%"==val.slice(-1)?parseFloat(val)/100*max:val}settings.limit&&/^\d+$/.test(attr[key])&&(attr[key]=attr[key]<=0?0:Math.min(attr[key],max)),!i&&settings.queue&&(old!=attr[key]&&animate(settings.onAfterFirst),delete attr[key])}),animate(settings.onAfter)}}).end()},$scrollTo.max=function(elem,axis){var Dim="x"==axis?"Width":"Height",scroll="scroll"+Dim;if(!$(elem).is("html,body"))return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size="client"+Dim,html=elem.ownerDocument.documentElement,body=elem.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size])}}(jQuery),function($){"use strict";function doAjaxSubmit(e){var options=e.data;e.isDefaultPrevented()||(e.preventDefault(),$(this).ajaxSubmit(options))}function captureSubmittingElement(e){var target=e.target,$el=$(target);if(!$el.is("[type=submit],[type=image]")){var t=$el.closest("[type=submit]");if(0===t.length)return;target=t[0]}var form=this;if(form.clk=target,"image"==target.type)if(void 0!==e.offsetX)form.clk_x=e.offsetX,form.clk_y=e.offsetY;else if("function"==typeof $.fn.offset){var offset=$el.offset();form.clk_x=e.pageX-offset.left,form.clk_y=e.pageY-offset.top}else form.clk_x=e.pageX-target.offsetLeft,form.clk_y=e.pageY-target.offsetTop;setTimeout(function(){form.clk=form.clk_x=form.clk_y=null},100)}function log(){if($.fn.ajaxSubmit.debug){var msg="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(msg):window.opera&&window.opera.postError&&window.opera.postError(msg)}}var feature={};feature.fileapi=void 0!==$("<input type='file'/>").get(0).files,feature.formdata=void 0!==window.FormData,$.fn.ajaxSubmit=function(options){function deepSerialize(extraData){var i,part,serialized=$.param(extraData).split("&"),len=serialized.length,result={};for(i=0;i<len;i++)part=serialized[i].split("="),result[decodeURIComponent(part[0])]=decodeURIComponent(part[1]);return result}function fileUploadXhr(a){for(var formdata=new FormData,i=0;i<a.length;i++)formdata.append(a[i].name,a[i].value);if(options.extraData){var serializedData=deepSerialize(options.extraData);for(var p in serializedData)serializedData.hasOwnProperty(p)&&formdata.append(p,serializedData[p])}options.data=null;var s=$.extend(!0,{},$.ajaxSettings,options,{contentType:!1,processData:!1,cache:!1,type:method||"POST"});options.uploadProgress&&(s.xhr=function(){var xhr=jQuery.ajaxSettings.xhr();return xhr.upload&&(xhr.upload.onprogress=function(event){var percent=0,position=event.loaded||event.position,total=event.total;event.lengthComputable&&(percent=Math.ceil(position/total*100)),options.uploadProgress(event,position,total,percent)}),xhr}),s.data=null;var beforeSend=s.beforeSend;return s.beforeSend=function(xhr,o){o.data=formdata,beforeSend&&beforeSend.call(this,xhr,o)},$.ajax(s)}function fileUploadIframe(a){function getDoc(frame){var doc=frame.contentWindow?frame.contentWindow.document:frame.contentDocument?frame.contentDocument:frame.document;return doc}function doSubmit(){function checkState(){try{var state=getDoc(io).readyState;log("state = "+state),state&&"uninitialized"==state.toLowerCase()&&setTimeout(checkState,50)}catch(e){log("Server abort: ",e," (",e.name,")"),cb(SERVER_ABORT),timeoutHandle&&clearTimeout(timeoutHandle),timeoutHandle=void 0}}var t=$form.attr("target"),a=$form.attr("action");form.setAttribute("target",id),method||form.setAttribute("method","POST"),a!=s.url&&form.setAttribute("action",s.url),s.skipEncodingOverride||method&&!/post/i.test(method)||$form.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),s.timeout&&(timeoutHandle=setTimeout(function(){timedOut=!0,cb(CLIENT_TIMEOUT_ABORT)},s.timeout));var extraInputs=[];try{if(s.extraData)for(var n in s.extraData)s.extraData.hasOwnProperty(n)&&($.isPlainObject(s.extraData[n])&&s.extraData[n].hasOwnProperty("name")&&s.extraData[n].hasOwnProperty("value")?extraInputs.push($('<input type="hidden" name="'+s.extraData[n].name+'">').attr("value",s.extraData[n].value).appendTo(form)[0]):extraInputs.push($('<input type="hidden" name="'+n+'">').attr("value",s.extraData[n]).appendTo(form)[0]));s.iframeTarget||($io.appendTo("body"),io.attachEvent?io.attachEvent("onload",cb):io.addEventListener("load",cb,!1)),setTimeout(checkState,15),form.submit()}finally{form.setAttribute("action",a),t?form.setAttribute("target",t):$form.removeAttr("target"),$(extraInputs).remove()}}function cb(e){if(!xhr.aborted&&!callbackProcessed){try{doc=getDoc(io)}catch(ex){log("cannot access response document: ",ex),e=SERVER_ABORT}if(e===CLIENT_TIMEOUT_ABORT&&xhr)return xhr.abort("timeout"),void deferred.reject(xhr,"timeout");if(e==SERVER_ABORT&&xhr)return xhr.abort("server abort"),void deferred.reject(xhr,"error","server abort");if(doc&&doc.location.href!=s.iframeSrc||timedOut){io.detachEvent?io.detachEvent("onload",cb):io.removeEventListener("load",cb,!1);var errMsg,status="success";try{if(timedOut)throw"timeout";var isXml="xml"==s.dataType||doc.XMLDocument||$.isXMLDoc(doc);if(log("isXml="+isXml),!isXml&&window.opera&&(null===doc.body||!doc.body.innerHTML)&&--domCheckCount)return log("requeing onLoad callback, DOM not available"),void setTimeout(cb,250);var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null,xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc,isXml&&(s.dataType="xml"),xhr.getResponseHeader=function(header){var headers={"content-type":s.dataType};return headers[header]},docRoot&&(xhr.status=Number(docRoot.getAttribute("status"))||xhr.status,xhr.statusText=docRoot.getAttribute("statusText")||xhr.statusText);var dt=(s.dataType||"").toLowerCase(),scr=/(json|script|text)/.test(dt);if(scr||s.textarea){var ta=doc.getElementsByTagName("textarea")[0];if(ta)xhr.responseText=ta.value,xhr.status=Number(ta.getAttribute("status"))||xhr.status,xhr.statusText=ta.getAttribute("statusText")||xhr.statusText;else if(scr){var pre=doc.getElementsByTagName("pre")[0],b=doc.getElementsByTagName("body")[0];pre?xhr.responseText=pre.textContent?pre.textContent:pre.innerText:b&&(xhr.responseText=b.textContent?b.textContent:b.innerText)}}else"xml"==dt&&!xhr.responseXML&&xhr.responseText&&(xhr.responseXML=toXml(xhr.responseText));try{data=httpData(xhr,dt,s)}catch(e){status="parsererror",xhr.error=errMsg=e||status}}catch(e){log("error caught: ",e),status="error",xhr.error=errMsg=e||status}xhr.aborted&&(log("upload aborted"),status=null),xhr.status&&(status=xhr.status>=200&&xhr.status<300||304===xhr.status?"success":"error"),"success"===status?(s.success&&s.success.call(s.context,data,"success",xhr),deferred.resolve(xhr.responseText,"success",xhr),g&&$.event.trigger("ajaxSuccess",[xhr,s])):status&&(void 0===errMsg&&(errMsg=xhr.statusText),s.error&&s.error.call(s.context,xhr,status,errMsg),deferred.reject(xhr,"error",errMsg),g&&$.event.trigger("ajaxError",[xhr,s,errMsg])),g&&$.event.trigger("ajaxComplete",[xhr,s]),g&&!--$.active&&$.event.trigger("ajaxStop"),s.complete&&s.complete.call(s.context,xhr,status),callbackProcessed=!0,s.timeout&&clearTimeout(timeoutHandle),setTimeout(function(){s.iframeTarget||$io.remove(),xhr.responseXML=null},100)}}}var el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle,form=$form[0],useProp=!!$.fn.prop,deferred=$.Deferred();if($("[name=submit],[id=submit]",form).length)return alert('Error: Form elements must not have name or id of "submit".'),deferred.reject(),deferred;if(a)for(i=0;i<elements.length;i++)el=$(elements[i]),useProp?el.prop("disabled",!1):el.removeAttr("disabled");if(s=$.extend(!0,{},$.ajaxSettings,options),s.context=s.context||s,id="jqFormIO"+(new Date).getTime(),s.iframeTarget?($io=$(s.iframeTarget),n=$io.attr("name"),n?id=n:$io.attr("name",id)):($io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />'),$io.css({position:"absolute",top:"-1000px",left:"-1000px"})),io=$io[0],xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e="timeout"===status?"timeout":"aborted";if(log("aborting upload... "+e),this.aborted=1,io.contentWindow.document.execCommand)try{io.contentWindow.document.execCommand("Stop")}catch(ignore){}$io.attr("src",s.iframeSrc),xhr.error=e,s.error&&s.error.call(s.context,xhr,e,status),g&&$.event.trigger("ajaxError",[xhr,s,e]),s.complete&&s.complete.call(s.context,xhr,e)}},g=s.global,g&&0===$.active++&&$.event.trigger("ajaxStart"),g&&$.event.trigger("ajaxSend",[xhr,s]),s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===!1)return s.global&&$.active--,deferred.reject(),deferred;if(xhr.aborted)return deferred.reject(),deferred;sub=form.clk,sub&&(n=sub.name,n&&!sub.disabled&&(s.extraData=s.extraData||{},s.extraData[n]=sub.value,"image"==sub.type&&(s.extraData[n+".x"]=form.clk_x,s.extraData[n+".y"]=form.clk_y)));var CLIENT_TIMEOUT_ABORT=1,SERVER_ABORT=2,csrf_token=$("meta[name=csrf-token]").attr("content"),csrf_param=$("meta[name=csrf-param]").attr("content");csrf_param&&csrf_token&&(s.extraData=s.extraData||{},s.extraData[csrf_param]=csrf_token),s.forceSync?doSubmit():setTimeout(doSubmit,10);var data,doc,callbackProcessed,domCheckCount=50,toXml=$.parseXML||function(s,doc){return window.ActiveXObject?(doc=new ActiveXObject("Microsoft.XMLDOM"),doc.async="false",doc.loadXML(s)):doc=(new DOMParser).parseFromString(s,"text/xml"),doc&&doc.documentElement&&"parsererror"!=doc.documentElement.nodeName?doc:null},parseJSON=$.parseJSON||function(s){return window.eval("("+s+")")},httpData=function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml="xml"===type||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;return xml&&"parsererror"===data.documentElement.nodeName&&$.error&&$.error("parsererror"),s&&s.dataFilter&&(data=s.dataFilter(data,type)),"string"==typeof data&&("json"===type||!type&&ct.indexOf("json")>=0?data=parseJSON(data):("script"===type||!type&&ct.indexOf("javascript")>=0)&&$.globalEval(data)),data};return deferred}if(!this.length)return log("ajaxSubmit: skipping submit process - no element selected"),this;var method,action,url,$form=this;"function"==typeof options&&(options={success:options}),method=this.attr("method"),action=this.attr("action"),url="string"==typeof action?$.trim(action):"",url=url||window.location.href||"",url&&(url=(url.match(/^([^#]+)/)||[])[1]),options=$.extend(!0,{url:url,success:$.ajaxSettings.success,type:method||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},options);var veto={};if(this.trigger("form-pre-serialize",[this,options,veto]),veto.veto)return log("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(options.beforeSerialize&&options.beforeSerialize(this,options)===!1)return log("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var traditional=options.traditional;void 0===traditional&&(traditional=$.ajaxSettings.traditional);var qx,elements=[],a=this.formToArray(options.semantic,elements);if(options.data&&(options.extraData=options.data,qx=$.param(options.data,traditional)),options.beforeSubmit&&options.beforeSubmit(a,this,options)===!1)return log("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,options,veto]),veto.veto)return log("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var q=$.param(a,traditional);qx&&(q=q?q+"&"+qx:qx),"GET"==options.type.toUpperCase()?(options.url+=(options.url.indexOf("?")>=0?"&":"?")+q,options.data=null):options.data=q;var callbacks=[];if(options.resetForm&&callbacks.push(function(){$form.resetForm()}),options.clearForm&&callbacks.push(function(){$form.clearForm(options.includeHidden)}),!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data){var fn=options.replaceTarget?"replaceWith":"html";$(options.target)[fn](data).each(oldSuccess,arguments)})}else options.success&&callbacks.push(options.success);options.success=function(data,status,xhr){for(var context=options.context||this,i=0,max=callbacks.length;i<max;i++)callbacks[i].apply(context,[data,status,xhr||$form,$form])};var fileInputs=$("input[type=file]:enabled[value]",this),hasFileInputs=fileInputs.length>0,mp="multipart/form-data",multipart=$form.attr("enctype")==mp||$form.attr("encoding")==mp,fileAPI=feature.fileapi&&feature.formdata;log("fileAPI :"+fileAPI);var jqxhr,shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI;options.iframe!==!1&&(options.iframe||shouldUseFrame)?options.closeKeepAlive?$.get(options.closeKeepAlive,function(){jqxhr=fileUploadIframe(a)}):jqxhr=fileUploadIframe(a):jqxhr=(hasFileInputs||multipart)&&fileAPI?fileUploadXhr(a):$.ajax(options),$form.removeData("jqxhr").data("jqxhr",jqxhr);for(var k=0;k<elements.length;k++)elements[k]=null;return this.trigger("form-submit-notify",[this,options]),this},$.fn.ajaxForm=function(options){if(options=options||{},options.delegation=options.delegation&&$.isFunction($.fn.on),!options.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!$.isReady&&o.s?(log("DOM not ready, queuing ajaxForm"),$(function(){$(o.s,o.c).ajaxForm(options)}),this):(log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)")),this)}return options.delegation?($(document).off("submit.form-plugin",this.selector,doAjaxSubmit).off("click.form-plugin",this.selector,captureSubmittingElement).on("submit.form-plugin",this.selector,options,doAjaxSubmit).on("click.form-plugin",this.selector,options,captureSubmittingElement),this):this.ajaxFormUnbind().bind("submit.form-plugin",options,doAjaxSubmit).bind("click.form-plugin",options,captureSubmittingElement)},$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},$.fn.formToArray=function(semantic,elements){var a=[];if(0===this.length)return a;var form=this[0],els=semantic?form.getElementsByTagName("*"):form.elements;if(!els)return a;var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++)if(el=els[i],n=el.name)if(semantic&&form.clk&&"image"==el.type)el.disabled||form.clk!=el||(a.push({name:n,value:$(el).val(),type:el.type}),a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y}));else if(v=$.fieldValue(el,!0),v&&v.constructor==Array)for(elements&&elements.push(el),j=0,jmax=v.length;j<jmax;j++)a.push({name:n,value:v[j]});else if(feature.fileapi&&"file"==el.type&&!el.disabled){elements&&elements.push(el);var files=el.files;if(files.length)for(j=0;j<files.length;j++)a.push({name:n,value:files[j],type:el.type});else a.push({name:n,value:"",type:el.type})}else null!==v&&"undefined"!=typeof v&&(elements&&elements.push(el),a.push({name:n,value:v,type:el.type,required:el.required}));if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name,n&&!input.disabled&&"image"==input.type&&(a.push({name:n,value:$input.val()}),a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y}))}return a},$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))},$.fn.fieldSerialize=function(successful){var a=[];return this.each(function(){var n=this.name;if(n){var v=$.fieldValue(this,successful);if(v&&v.constructor==Array)for(var i=0,max=v.length;i<max;i++)a.push({name:n,value:v[i]});else null!==v&&"undefined"!=typeof v&&a.push({name:this.name,value:v})}}),$.param(a)},$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i],v=$.fieldValue(el,successful);null===v||"undefined"==typeof v||v.constructor==Array&&!v.length||(v.constructor==Array?$.merge(val,v):val.push(v))}return val},$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(void 0===successful&&(successful=!0),successful&&(!n||el.disabled||"reset"==t||"button"==t||("checkbox"==t||"radio"==t)&&!el.checked||("submit"==t||"image"==t)&&el.form&&el.form.clk!=el||"select"==tag&&el.selectedIndex==-1))return null;if("select"==tag){var index=el.selectedIndex;if(index<0)return null;for(var a=[],ops=el.options,one="select-one"==t,max=one?index+1:ops.length,i=one?index:0;i<max;i++){var op=ops[i];if(op.selected){var v=op.value;if(v||(v=op.attributes&&op.attributes.value&&!op.attributes.value.specified?op.text:op.value),one)return v;a.push(v)}}return a}return $(el).val()},$.fn.clearForm=function(includeHidden){return this.each(function(){$("input,select,textarea",this).clearFields(includeHidden)})},$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();re.test(t)||"textarea"==tag?this.value="":"checkbox"==t||"radio"==t?this.checked=!1:"select"==tag?this.selectedIndex=-1:includeHidden&&(includeHidden===!0&&/hidden/.test(t)||"string"==typeof includeHidden&&$(this).is(includeHidden))&&(this.value="")})},$.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},$.fn.enable=function(b){return void 0===b&&(b=!0),this.each(function(){this.disabled=!b})},$.fn.selected=function(select){return void 0===select&&(select=!0),this.each(function(){var t=this.type;if("checkbox"==t||"radio"==t)this.checked=select;else if("option"==this.tagName.toLowerCase()){var $sel=$(this).parent("select");select&&$sel[0]&&"select-one"==$sel[0].type&&$sel.find("option").selected(!1),this.selected=select}})},$.fn.ajaxSubmit.debug=!1}(jQuery),function($){function prop(n){return n&&n.constructor===Number?n+"px":n}$.fn.bgiframe=$.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(s){s=$.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},s);var html='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+s.src+'"style="display:block;position:absolute;z-index:-1;'+(s.opacity!==!1?"filter:Alpha(Opacity='0');":"")+"top:"+("auto"==s.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":prop(s.top))+";left:"+("auto"==s.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":prop(s.left))+";width:"+("auto"==s.width?"expression(this.parentNode.offsetWidth+'px')":prop(s.width))+";height:"+("auto"==s.height?"expression(this.parentNode.offsetHeight+'px')":prop(s.height))+';"/>';return this.each(function(){0===$(this).children("iframe.bgiframe").length&&this.insertBefore(document.createElement(html),this.firstChild)})}:function(){return this},$.fn.bgIframe=$.fn.bgiframe}(jQuery),function($){$.extend($.fn,{pstrength:function(options){var options=$.extend({
verdicts:["Very Weak","Weak","Medium","Strong","Very Strong"],colors:["#f00","#c06","#f60","#3c0","#3f0"],scores:[10,15,30,40],minchar:6,tooShort:"Too Short!",minCharText:"Minimum length is %d characters"},options);return this.each(function(){var infoarea=$(this).attr("id");options.minchar>0&&$(this).after('<div class="pstrength-minchar" id="'+infoarea+'_minchar">'+options.minCharText.replace("%d",options.minchar)+"</div>"),$(this).after('<div class="pstrength-info" id="'+infoarea+'_text"></div>'),$(this).after('<div><div class="pstrength-bar" id="'+infoarea+'_bar" style="border: 1px solid white; font-size: 1px; height: 5px; width: 0px;"></div></div>'),$(this).keyup(function(){$.fn.runPassword($(this).val(),infoarea,options)})})},runPassword:function(password,infoarea,options){nPerc=$.fn.checkPassword(password,options);var ctlBar="#"+infoarea+"_bar",ctlText="#"+infoarea+"_text";nPerc<0?(strColor="#ccc",strText=options.tooShort,$(ctlBar).css({width:"5%"})):nPerc<=options.scores[0]?(strColor=options.colors[0],strText=options.verdicts[0],$(ctlBar).css({width:"10%"})):nPerc>options.scores[0]&&nPerc<=options.scores[1]?(strColor=options.colors[1],strText=options.verdicts[1],$(ctlBar).css({width:"20%"})):nPerc>options.scores[1]&&nPerc<=options.scores[2]?(strColor=options.colors[2],strText=options.verdicts[2],$(ctlBar).css({width:"40%"})):nPerc>options.scores[2]&&nPerc<=options.scores[3]?(strColor=options.colors[3],strText=options.verdicts[3],$(ctlBar).css({width:"60%"})):(strColor=options.colors[4],strText=options.verdicts[4],$(ctlBar).css({width:"80%"})),$(ctlBar).css({backgroundColor:strColor}),$(ctlText).html("<span style='color: "+strColor+";'>"+strText+"</span>")},checkPassword:function(password,options){var intScore=0;options.verdicts[0];return password.length<options.minchar?intScore-=100:password.length>=options.minchar&&password.length<=options.minchar+2?intScore+=6:password.length>=options.minchar+3&&password.length<=options.minchar+4?intScore+=12:password.length>=options.minchar+5&&(intScore+=18),password.match(/[a-z]/)&&(intScore+=1),password.match(/[A-Z]/)&&(intScore+=5),password.match(/\d+/)&&(intScore+=5),password.match(/(.*[0-9].*[0-9].*[0-9])/)&&(intScore+=7),password.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)&&(intScore+=5),password.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(intScore+=7),password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(intScore+=2),password.match(/([a-zA-Z])/)&&password.match(/([0-9])/)&&(intScore+=3),password.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)&&(intScore+=3),intScore}})}(jQuery),function($){"use strict";var options={errors:[],minChar:8,errorMessages:{password_to_short:"Minimum 8 characters",same_as_username:"Your password cannot be the same as your username"},scores:[17,26,40,50],verdicts:["Weak","Normal","Medium","Strong","Very Strong"],showVerdicts:!0,raisePower:1.4,usernameField:"#username",onLoad:void 0,onKeyUp:void 0,viewports:{progress:void 0,verdict:void 0,errors:void 0},ruleScores:{wordNotEmail:-100,wordLength:-100,wordSimilarToUsername:-100,wordLowercase:1,wordUppercase:3,wordOneNumber:3,wordThreeNumbers:5,wordOneSpecialChar:3,wordTwoSpecialChar:5,wordUpperLowerCombo:2,wordLetterNumberCombo:2,wordLetterNumberCharCombo:2},rules:{wordNotEmail:!0,wordLength:!0,wordSimilarToUsername:!0,wordLowercase:!0,wordUppercase:!0,wordOneNumber:!0,wordThreeNumbers:!0,wordOneSpecialChar:!0,wordTwoSpecialChar:!0,wordUpperLowerCombo:!0,wordLetterNumberCombo:!0,wordLetterNumberCharCombo:!0},validationRules:{wordNotEmail:function(options,word,score){return word.match(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i)&&score},wordLength:function(options,word,score){var wordlen=word.length,lenScore=Math.pow(wordlen,options.raisePower);return wordlen<options.minChar&&(lenScore+=score,options.errors.push(options.errorMessages.password_to_short)),lenScore},wordSimilarToUsername:function(options,word,score){var username=$(options.usernameField).val();return!username||!word.toLowerCase().match(username.toLowerCase())||(options.errors.push(options.errorMessages.same_as_username),score)},wordLowercase:function(options,word,score){return word.match(/[a-z]/)&&score},wordUppercase:function(options,word,score){return word.match(/[A-Z]/)&&score},wordOneNumber:function(options,word,score){return word.match(/\d+/)&&score},wordThreeNumbers:function(options,word,score){return word.match(/(.*[0-9].*[0-9].*[0-9])/)&&score},wordOneSpecialChar:function(options,word,score){return word.match(/.[!,@,#,$,%,\^,&,*,?,_,~]/)&&score},wordTwoSpecialChar:function(options,word,score){return word.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)&&score},wordUpperLowerCombo:function(options,word,score){return word.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&score},wordLetterNumberCombo:function(options,word,score){return word.match(/([a-zA-Z])/)&&word.match(/([0-9])/)&&score},wordLetterNumberCharCombo:function(options,word,score){return word.match(/([a-zA-Z0-9].*[!,@,#,$,%,\^,&,*,?,_,~])|([!,@,#,$,%,\^,&,*,?,_,~].*[a-zA-Z0-9])/)&&score}}},setProgressBar=function($el,score){var $verdict,options=$el.data("pwstrength"),progressbar=options.progressbar;options.showVerdicts&&(options.viewports.verdict?$verdict=$(options.viewports.verdict).find(".password-verdict"):($verdict=$el.parent().find(".password-verdict"),0===$verdict.length&&($verdict=$('<span class="password-verdict"></span>'),$verdict.insertAfter($el)))),score<options.scores[0]?(progressbar.addClass("progress-danger").removeClass("progress-warning").removeClass("progress-success"),progressbar.find(".bar").css("width","5%"),options.showVerdicts&&$verdict.text(options.verdicts[0])):score>=options.scores[0]&&score<options.scores[1]?(progressbar.addClass("progress-danger").removeClass("progress-warning").removeClass("progress-success"),progressbar.find(".bar").css("width","25%"),options.showVerdicts&&$verdict.text(options.verdicts[1])):score>=options.scores[1]&&score<options.scores[2]?(progressbar.addClass("progress-warning").removeClass("progress-danger").removeClass("progress-success"),progressbar.find(".bar").css("width","50%"),options.showVerdicts&&$verdict.text(options.verdicts[2])):score>=options.scores[2]&&score<options.scores[3]?(progressbar.addClass("progress-warning").removeClass("progress-danger").removeClass("progress-success"),progressbar.find(".bar").css("width","75%"),options.showVerdicts&&$verdict.text(options.verdicts[3])):score>=options.scores[3]&&(progressbar.addClass("progress-success").removeClass("progress-warning").removeClass("progress-danger"),progressbar.find(".bar").css("width","100%"),options.showVerdicts&&$verdict.text(options.verdicts[4]))},calculateScore=function($el){var word=$el.val(),totalScore=0,options=$el.data("pwstrength");return $.each(options.rules,function(rule,active){if(active===!0){var score=options.ruleScores[rule],result=options.validationRules[rule](options,word,score);result&&(totalScore+=result)}}),setProgressBar($el,totalScore),totalScore},progressWidget=function(){return'<div class="progress"><div class="bar"></div></div>'},methods={init:function(settings){var self=this,allOptions=$.extend(options,settings);return this.each(function(idx,el){var progressbar,verdict,$el=$(el);$el.data("pwstrength",allOptions),$el.on("keyup",function(event){var options=$el.data("pwstrength");options.errors=[],calculateScore.call(self,$el),$.isFunction(options.onKeyUp)&&options.onKeyUp(event)}),progressbar=$(progressWidget()),allOptions.viewports.progress?$(allOptions.viewports.progress).append(progressbar):progressbar.insertAfter($el),progressbar.find(".bar").css("width","0%"),$el.data("pwstrength").progressbar=progressbar,allOptions.showVerdicts&&(verdict=$('<span class="password-verdict">'+allOptions.verdicts[0]+"</span>"),allOptions.viewports.verdict?$(allOptions.viewports.verdict).append(verdict):verdict.insertAfter($el)),$.isFunction(allOptions.onLoad)&&allOptions.onLoad()})},destroy:function(){this.each(function(idx,el){var $el=$(el);$el.parent().find("span.password-verdict").remove(),$el.parent().find("div.progress").remove(),$el.parent().find("ul.error-list").remove(),$el.removeData("pwstrength")})},forceUpdate:function(){var self=this;this.each(function(idx,el){var $el=$(el),options=$el.data("pwstrength");options.errors=[],calculateScore.call(self,$el)})},outputErrorList:function(){this.each(function(idx,el){var verdict,output='<ul class="error-list">',$el=$(el),errors=$el.data("pwstrength").errors,viewports=$el.data("pwstrength").viewports;$el.parent().find("ul.error-list").remove(),errors.length>0&&($.each(errors,function(i,item){output+=item}),output+="</ul>",viewports.errors?$(viewports.errors).html(output):(output=$(output),verdict=$el.parent().find("div.progress"),verdict.length>0&&(el=verdict),output.insertAfter(el)))})},addRule:function(name,method,score,active){this.each(function(idx,el){var options=$(el).data("pwstrength");options.rules[name]=active,options.ruleScores[name]=score,options.validationRules[name]=method})},changeScore:function(rule,score){this.each(function(idx,el){$(el).data("pwstrength").ruleScores[rule]=score})},ruleActive:function(rule,active){this.each(function(idx,el){$(el).data("pwstrength").rules[rule]=active})}};$.fn.pwstrength=function(method){var result;return methods[method]?result=methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?$.error("Method "+method+" does not exist on jQuery.pwstrength"):result=methods.init.apply(this,arguments),result}}(jQuery),function($){jQuery.fn.extend({slimScroll:function(options){var defaults={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},o=$.extend(defaults,options);return this.each(function(){function _onWheel(e){if(isOverPanel){var e=e||window.event,delta=0;e.wheelDelta&&(delta=-e.wheelDelta/120),e.detail&&(delta=e.detail/3);var target=e.target||e.srcTarget||e.srcElement;$(target).closest("."+o.wrapperClass).is(me.parent())&&scrollContent(delta,!0),e.preventDefault&&!releaseScroll&&e.preventDefault(),releaseScroll||(e.returnValue=!1)}}function scrollContent(y,isWheel,isJump){releaseScroll=!1;var delta=y,maxTop=me.outerHeight()-bar.outerHeight();if(isWheel&&(delta=parseInt(bar.css("top"))+y*parseInt(o.wheelStep)/100*bar.outerHeight(),delta=Math.min(Math.max(delta,0),maxTop),delta=y>0?Math.ceil(delta):Math.floor(delta),bar.css({top:delta+"px"})),percentScroll=parseInt(bar.css("top"))/(me.outerHeight()-bar.outerHeight()),delta=percentScroll*(me[0].scrollHeight-me.outerHeight()),isJump){delta=y;var offsetTop=delta/me[0].scrollHeight*me.outerHeight();offsetTop=Math.min(Math.max(offsetTop,0),maxTop),bar.css({top:offsetTop+"px"})}me.scrollTop(delta),me.trigger("slimscrolling",~~delta),showBar(),hideBar()}function attachWheel(){window.addEventListener?(this.addEventListener("DOMMouseScroll",_onWheel,!1),this.addEventListener("mousewheel",_onWheel,!1),this.addEventListener("MozMousePixelScroll",_onWheel,!1)):document.attachEvent("onmousewheel",_onWheel)}function getBarHeight(){barHeight=Math.max(me.outerHeight()/me[0].scrollHeight*me.outerHeight(),minBarHeight),bar.css({height:barHeight+"px"});var display=barHeight==me.outerHeight()?"none":"block";bar.css({display:display})}function showBar(){if(getBarHeight(),clearTimeout(queueHide),percentScroll==~~percentScroll){if(releaseScroll=o.allowPageScroll,lastScroll!=percentScroll){var msg=0==~~percentScroll?"top":"bottom";me.trigger("slimscroll",msg)}}else releaseScroll=!1;return lastScroll=percentScroll,barHeight>=me.outerHeight()?void(releaseScroll=!0):(bar.stop(!0,!0).fadeIn("fast"),void(o.railVisible&&rail.stop(!0,!0).fadeIn("fast")))}function hideBar(){o.alwaysVisible||(queueHide=setTimeout(function(){o.disableFadeOut&&isOverPanel||isOverBar||isDragg||(bar.fadeOut("slow"),rail.fadeOut("slow"))},1e3))}var isOverPanel,isOverBar,isDragg,queueHide,touchDif,barHeight,percentScroll,lastScroll,divS="<div></div>",minBarHeight=30,releaseScroll=!1,me=$(this);if(me.parent().hasClass(o.wrapperClass)){var offset=me.scrollTop();if(bar=me.parent().find("."+o.barClass),rail=me.parent().find("."+o.railClass),getBarHeight(),$.isPlainObject(options)){if("height"in options&&"auto"==options.height){me.parent().css("height","auto"),me.css("height","auto");var height=me.parent().parent().height();me.parent().css("height",height),me.css("height",height)}if("scrollTo"in options)offset=parseInt(o.scrollTo);else if("scrollBy"in options)offset+=parseInt(o.scrollBy);else if("destroy"in options)return bar.remove(),rail.remove(),void me.unwrap();scrollContent(offset,!1,!0)}}else{o.height="auto"==o.height?me.parent().height():o.height;var wrapper=$(divS).addClass(o.wrapperClass).css({position:"relative",overflow:"hidden",width:o.width,height:o.height});me.css({overflow:"hidden",width:o.width,height:o.height});var rail=$(divS).addClass(o.railClass).css({width:o.size,height:"100%",position:"absolute",top:0,display:o.alwaysVisible&&o.railVisible?"block":"none","border-radius":o.railBorderRadius,background:o.railColor,opacity:o.railOpacity,zIndex:90}),bar=$(divS).addClass(o.barClass).css({background:o.color,width:o.size,position:"absolute",top:0,opacity:o.opacity,display:o.alwaysVisible?"block":"none","border-radius":o.borderRadius,BorderRadius:o.borderRadius,MozBorderRadius:o.borderRadius,WebkitBorderRadius:o.borderRadius,zIndex:99}),posCss="right"==o.position?{right:o.distance}:{left:o.distance};rail.css(posCss),bar.css(posCss),me.wrap(wrapper),me.parent().append(bar),me.parent().append(rail),o.railDraggable&&bar.bind("mousedown",function(e){var $doc=$(document);return isDragg=!0,t=parseFloat(bar.css("top")),pageY=e.pageY,$doc.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,bar.css("top",currTop),scrollContent(0,bar.position().top,!1)}),$doc.bind("mouseup.slimscroll",function(e){isDragg=!1,hideBar(),$doc.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),rail.hover(function(){showBar()},function(){hideBar()}),bar.hover(function(){isOverBar=!0},function(){isOverBar=!1}),me.hover(function(){isOverPanel=!0,showBar(),hideBar()},function(){isOverPanel=!1,hideBar()}),me.bind("touchstart",function(e,b){e.originalEvent.touches.length&&(touchDif=e.originalEvent.touches[0].pageY)}),me.bind("touchmove",function(e){if(releaseScroll||e.originalEvent.preventDefault(),e.originalEvent.touches.length){var diff=(touchDif-e.originalEvent.touches[0].pageY)/o.touchScrollStep;scrollContent(diff,!0),touchDif=e.originalEvent.touches[0].pageY}}),getBarHeight(),"bottom"===o.start?(bar.css({top:me.outerHeight()-bar.outerHeight()}),scrollContent(0,!0)):"top"!==o.start&&(scrollContent($(o.start).position().top,null,!0),o.alwaysVisible||bar.hide()),attachWheel()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),"function"!=typeof Object.create&&(Object.create=function(obj){function F(){}return F.prototype=obj,new F}),function($,window,document,undefined){var ElevateZoom={init:function(options,elem){var self=this;self.elem=elem,self.$elem=$(elem),self.imageSrc=self.$elem.data("zoom-image")?self.$elem.data("zoom-image"):self.$elem.attr("src"),self.options=$.extend({},$.fn.elevateZoom.options,options),self.options.tint&&(self.options.lensColour="none",self.options.lensOpacity="1"),"inner"==self.options.zoomType&&(self.options.showLens=!1),self.$elem.parent().removeAttr("title").removeAttr("alt"),self.zoomImage=self.imageSrc,self.refresh(1),$("#"+self.options.gallery+" a").click(function(e){return self.options.galleryActiveClass&&($("#"+self.options.gallery+" a").removeClass(self.options.galleryActiveClass),$(this).addClass(self.options.galleryActiveClass)),e.preventDefault(),$(this).data("zoom-image")?self.zoomImagePre=$(this).data("zoom-image"):self.zoomImagePre=$(this).data("image"),self.swaptheimage($(this).data("image"),self.zoomImagePre),!1})},refresh:function(length){var self=this;setTimeout(function(){self.fetch(self.imageSrc)},length||self.options.refresh)},fetch:function(imgsrc){var self=this,newImg=new Image;newImg.onload=function(){self.largeWidth=newImg.width,self.largeHeight=newImg.height,self.startZoom(),self.currentImage=self.imageSrc,self.options.onZoomedImageLoaded(self.$elem)},newImg.src=imgsrc},startZoom:function(){var self=this;if(self.nzWidth=self.$elem.width(),self.nzHeight=self.$elem.height(),self.isWindowActive=!1,self.isLensActive=!1,self.isTintActive=!1,self.overWindow=!1,self.options.imageCrossfade&&(self.zoomWrap=self.$elem.wrap('<div style="height:'+self.nzHeight+"px;width:"+self.nzWidth+'px;" class="zoomWrapper" />'),self.$elem.css("position","absolute")),self.zoomLock=1,self.scrollingLock=!1,self.changeBgSize=!1,self.currentZoomLevel=self.options.zoomLevel,self.nzOffset=self.$elem.offset(),self.widthRatio=self.largeWidth/self.currentZoomLevel/self.nzWidth,self.heightRatio=self.largeHeight/self.currentZoomLevel/self.nzHeight,"window"==self.options.zoomType&&(self.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(self.options.zoomWindowBgColour)+";width: "+String(self.options.zoomWindowWidth)+"px;height: "+String(self.options.zoomWindowHeight)+"px;float: left;background-size: "+self.largeWidth/self.currentZoomLevel+"px "+self.largeHeight/self.currentZoomLevel+"px;display: none;z-index:100;border: "+String(self.options.borderSize)+"px solid "+self.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==self.options.zoomType){var borderWidth=self.$elem.css("border-left-width");self.zoomWindowStyle="overflow: hidden;margin-left: "+String(borderWidth)+";margin-top: "+String(borderWidth)+";background-position: 0px 0px;width: "+String(self.nzWidth)+"px;height: "+String(self.nzHeight)+"px;px;float: left;display: none;cursor:"+self.options.cursor+";px solid "+self.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==self.options.zoomType&&(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio?lensHeight=self.nzHeight:lensHeight=String(self.options.zoomWindowHeight/self.heightRatio),self.largeWidth<self.options.zoomWindowWidth?lensWidth=self.nzWidth:lensWidth=self.options.zoomWindowWidth/self.widthRatio,self.lensStyle="background-position: 0px 0px;width: "+String(self.options.zoomWindowWidth/self.widthRatio)+"px;height: "+String(self.options.zoomWindowHeight/self.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+self.options.lensOpacity+";filter: alpha(opacity = "+100*self.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+self.options.lensColour+";cursor:"+self.options.cursor+";border: "+self.options.lensBorderSize+"px solid "+self.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),self.tintStyle="display: block;position: absolute;background-color: "+self.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+self.nzWidth+"px;height: "+self.nzHeight+"px;",self.lensRound="","lens"==self.options.zoomType&&(self.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(self.options.borderSize)+"px solid "+self.options.borderColour+";width:"+String(self.options.lensSize)+"px;height:"+String(self.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==self.options.lensShape&&(self.lensRound="border-top-left-radius: "+String(self.options.lensSize/2+self.options.borderSize)+"px;border-top-right-radius: "+String(self.options.lensSize/2+self.options.borderSize)+"px;border-bottom-left-radius: "+String(self.options.lensSize/2+self.options.borderSize)+"px;border-bottom-right-radius: "+String(self.options.lensSize/2+self.options.borderSize)+"px;"),self.zoomContainer=$('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+self.nzOffset.left+"px;top:"+self.nzOffset.top+"px;height:"+self.nzHeight+"px;width:"+self.nzWidth+'px;"></div>'),$("body").append(self.zoomContainer),self.options.containLensZoom&&"lens"==self.options.zoomType&&self.zoomContainer.css("overflow","hidden"),"inner"!=self.options.zoomType&&(self.zoomLens=$("<div class='zoomLens' style='"+self.lensStyle+self.lensRound+"'>&nbsp;</div>").appendTo(self.zoomContainer).click(function(){self.$elem.trigger("click")}),self.options.tint&&(self.tintContainer=$("<div/>").addClass("tintContainer"),self.zoomTint=$("<div class='zoomTint' style='"+self.tintStyle+"'></div>"),self.zoomLens.wrap(self.tintContainer),self.zoomTintcss=self.zoomLens.after(self.zoomTint),self.zoomTintImage=$('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+self.nzWidth+"px; height: "+self.nzHeight+'px;" src="'+self.imageSrc+'">').appendTo(self.zoomLens).click(function(){self.$elem.trigger("click")}))),isNaN(self.options.zoomWindowPosition)?self.zoomWindow=$("<div style='z-index:999;left:"+self.windowOffsetLeft+"px;top:"+self.windowOffsetTop+"px;"+self.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){self.$elem.trigger("click")}):self.zoomWindow=$("<div style='z-index:999;left:"+self.windowOffsetLeft+"px;top:"+self.windowOffsetTop+"px;"+self.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(self.zoomContainer).click(function(){self.$elem.trigger("click")}),self.zoomWindowContainer=$("<div/>").addClass("zoomWindowContainer").css("width",self.options.zoomWindowWidth),self.zoomWindow.wrap(self.zoomWindowContainer),"lens"==self.options.zoomType&&self.zoomLens.css({backgroundImage:"url('"+self.imageSrc+"')"}),"window"==self.options.zoomType&&self.zoomWindow.css({backgroundImage:"url('"+self.imageSrc+"')"}),"inner"==self.options.zoomType&&self.zoomWindow.css({backgroundImage:"url('"+self.imageSrc+"')"}),self.$elem.bind("touchmove",function(e){e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];self.setPosition(touch)}),self.zoomContainer.bind("touchmove",function(e){"inner"==self.options.zoomType&&self.showHideWindow("show"),e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];self.setPosition(touch)}),self.zoomContainer.bind("touchend",function(e){self.showHideWindow("hide"),self.options.showLens&&self.showHideLens("hide"),self.options.tint&&"inner"!=self.options.zoomType&&self.showHideTint("hide")}),self.$elem.bind("touchend",function(e){self.showHideWindow("hide"),self.options.showLens&&self.showHideLens("hide"),self.options.tint&&"inner"!=self.options.zoomType&&self.showHideTint("hide")}),self.options.showLens&&(self.zoomLens.bind("touchmove",function(e){e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];self.setPosition(touch)}),self.zoomLens.bind("touchend",function(e){self.showHideWindow("hide"),self.options.showLens&&self.showHideLens("hide"),self.options.tint&&"inner"!=self.options.zoomType&&self.showHideTint("hide")})),self.$elem.bind("mousemove",function(e){0==self.overWindow&&self.setElements("show"),self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),self.zoomContainer.bind("mousemove",function(e){0==self.overWindow&&self.setElements("show"),self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),"inner"!=self.options.zoomType&&self.zoomLens.bind("mousemove",function(e){self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),self.options.tint&&"inner"!=self.options.zoomType&&self.zoomTint.bind("mousemove",function(e){self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),"inner"==self.options.zoomType&&self.zoomWindow.bind("mousemove",function(e){self.lastX===e.clientX&&self.lastY===e.clientY||(self.setPosition(e),self.currentLoc=e),self.lastX=e.clientX,self.lastY=e.clientY}),self.zoomContainer.add(self.$elem).mouseenter(function(){0==self.overWindow&&self.setElements("show")}).mouseleave(function(){self.scrollLock||(self.setElements("hide"),self.options.onDestroy(self.$elem))}),"inner"!=self.options.zoomType&&self.zoomWindow.mouseenter(function(){self.overWindow=!0,self.setElements("hide")}).mouseleave(function(){self.overWindow=!1}),1!=self.options.zoomLevel,self.options.minZoomLevel?self.minZoomLevel=self.options.minZoomLevel:self.minZoomLevel=2*self.options.scrollZoomIncrement,self.options.scrollZoom&&self.zoomContainer.add(self.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){self.scrollLock=!0,clearTimeout($.data(this,"timer")),$.data(this,"timer",setTimeout(function(){self.scrollLock=!1},250));var theEvent=e.originalEvent.wheelDelta||e.originalEvent.detail*-1;return e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),theEvent/120>0?self.currentZoomLevel>=self.minZoomLevel&&self.changeZoomLevel(self.currentZoomLevel-self.options.scrollZoomIncrement):self.options.maxZoomLevel?self.currentZoomLevel<=self.options.maxZoomLevel&&self.changeZoomLevel(parseFloat(self.currentZoomLevel)+self.options.scrollZoomIncrement):self.changeZoomLevel(parseFloat(self.currentZoomLevel)+self.options.scrollZoomIncrement),!1})},setElements:function(type){var self=this;return!!self.options.zoomEnabled&&("show"==type&&self.isWindowSet&&("inner"==self.options.zoomType&&self.showHideWindow("show"),"window"==self.options.zoomType&&self.showHideWindow("show"),self.options.showLens&&self.showHideLens("show"),self.options.tint&&"inner"!=self.options.zoomType&&self.showHideTint("show")),void("hide"==type&&("window"==self.options.zoomType&&self.showHideWindow("hide"),self.options.tint||self.showHideWindow("hide"),self.options.showLens&&self.showHideLens("hide"),self.options.tint&&self.showHideTint("hide"))))},setPosition:function(e){var self=this;return!!self.options.zoomEnabled&&(self.nzHeight=self.$elem.height(),self.nzWidth=self.$elem.width(),self.nzOffset=self.$elem.offset(),self.options.tint&&"inner"!=self.options.zoomType&&(self.zoomTint.css({top:0}),self.zoomTint.css({left:0})),self.options.responsive&&!self.options.scrollZoom&&self.options.showLens&&(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio?lensHeight=self.nzHeight:lensHeight=String(self.options.zoomWindowHeight/self.heightRatio),self.largeWidth<self.options.zoomWindowWidth?lensWidth=self.nzWidth:lensWidth=self.options.zoomWindowWidth/self.widthRatio,self.widthRatio=self.largeWidth/self.nzWidth,self.heightRatio=self.largeHeight/self.nzHeight,"lens"!=self.options.zoomType&&(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio?lensHeight=self.nzHeight:lensHeight=String(self.options.zoomWindowHeight/self.heightRatio),self.nzWidth<self.options.zoomWindowHeight/self.heightRatio?lensWidth=self.nzWidth:lensWidth=String(self.options.zoomWindowWidth/self.widthRatio),self.zoomLens.css("width",lensWidth),self.zoomLens.css("height",lensHeight),self.options.tint&&(self.zoomTintImage.css("width",self.nzWidth),self.zoomTintImage.css("height",self.nzHeight))),"lens"==self.options.zoomType&&self.zoomLens.css({width:String(self.options.lensSize)+"px",height:String(self.options.lensSize)+"px"})),self.zoomContainer.css({top:self.nzOffset.top}),self.zoomContainer.css({left:self.nzOffset.left}),self.mouseLeft=parseInt(e.pageX-self.nzOffset.left),self.mouseTop=parseInt(e.pageY-self.nzOffset.top),"window"==self.options.zoomType&&(self.Etoppos=self.mouseTop<self.zoomLens.height()/2,self.Eboppos=self.mouseTop>self.nzHeight-self.zoomLens.height()/2-2*self.options.lensBorderSize,self.Eloppos=self.mouseLeft<0+self.zoomLens.width()/2,self.Eroppos=self.mouseLeft>self.nzWidth-self.zoomLens.width()/2-2*self.options.lensBorderSize),"inner"==self.options.zoomType&&(self.Etoppos=self.mouseTop<self.nzHeight/2/self.heightRatio,self.Eboppos=self.mouseTop>self.nzHeight-self.nzHeight/2/self.heightRatio,self.Eloppos=self.mouseLeft<0+self.nzWidth/2/self.widthRatio,self.Eroppos=self.mouseLeft>self.nzWidth-self.nzWidth/2/self.widthRatio-2*self.options.lensBorderSize),self.mouseLeft<0||self.mouseTop<0||self.mouseLeft>self.nzWidth||self.mouseTop>self.nzHeight?void self.setElements("hide"):(self.options.showLens&&(self.lensLeftPos=String(Math.floor(self.mouseLeft-self.zoomLens.width()/2)),self.lensTopPos=String(Math.floor(self.mouseTop-self.zoomLens.height()/2))),self.Etoppos&&(self.lensTopPos=0),self.Eloppos&&(self.windowLeftPos=0,self.lensLeftPos=0,self.tintpos=0),"window"==self.options.zoomType&&(self.Eboppos&&(self.lensTopPos=Math.max(self.nzHeight-self.zoomLens.height()-2*self.options.lensBorderSize,0)),self.Eroppos&&(self.lensLeftPos=self.nzWidth-self.zoomLens.width()-2*self.options.lensBorderSize)),"inner"==self.options.zoomType&&(self.Eboppos&&(self.lensTopPos=Math.max(self.nzHeight-2*self.options.lensBorderSize,0)),self.Eroppos&&(self.lensLeftPos=self.nzWidth-self.nzWidth-2*self.options.lensBorderSize)),"lens"==self.options.zoomType&&(self.windowLeftPos=String(((e.pageX-self.nzOffset.left)*self.widthRatio-self.zoomLens.width()/2)*-1),self.windowTopPos=String(((e.pageY-self.nzOffset.top)*self.heightRatio-self.zoomLens.height()/2)*-1),self.zoomLens.css({backgroundPosition:self.windowLeftPos+"px "+self.windowTopPos+"px"}),self.changeBgSize&&(self.nzHeight>self.nzWidth?("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})):("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"})),self.changeBgSize=!1),self.setWindowPostition(e)),self.options.tint&&"inner"!=self.options.zoomType&&self.setTintPosition(e),"window"==self.options.zoomType&&self.setWindowPostition(e),"inner"==self.options.zoomType&&self.setWindowPostition(e),self.options.showLens&&(self.fullwidth&&"lens"!=self.options.zoomType&&(self.lensLeftPos=0),self.zoomLens.css({left:self.lensLeftPos+"px",top:self.lensTopPos+"px"})),void 0))},showHideWindow:function(change){var self=this;"show"==change&&(self.isWindowActive||(self.options.zoomWindowFadeIn?self.zoomWindow.stop(!0,!0,!1).fadeIn(self.options.zoomWindowFadeIn):self.zoomWindow.show(),self.isWindowActive=!0)),"hide"==change&&self.isWindowActive&&(self.options.zoomWindowFadeOut?self.zoomWindow.stop(!0,!0).fadeOut(self.options.zoomWindowFadeOut,function(){self.loop&&(clearInterval(self.loop),self.loop=!1)}):self.zoomWindow.hide(),self.isWindowActive=!1)},showHideLens:function(change){var self=this;"show"==change&&(self.isLensActive||(self.options.lensFadeIn?self.zoomLens.stop(!0,!0,!1).fadeIn(self.options.lensFadeIn):self.zoomLens.show(),self.isLensActive=!0)),"hide"==change&&self.isLensActive&&(self.options.lensFadeOut?self.zoomLens.stop(!0,!0).fadeOut(self.options.lensFadeOut):self.zoomLens.hide(),self.isLensActive=!1)},showHideTint:function(change){var self=this;"show"==change&&(self.isTintActive||(self.options.zoomTintFadeIn?self.zoomTint.css({opacity:self.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(self.zoomTint.css({opacity:self.options.tintOpacity}).animate(),self.zoomTint.show()),
self.isTintActive=!0)),"hide"==change&&self.isTintActive&&(self.options.zoomTintFadeOut?self.zoomTint.stop(!0,!0).fadeOut(self.options.zoomTintFadeOut):self.zoomTint.hide(),self.isTintActive=!1)},setLensPostition:function(e){},setWindowPostition:function(e){var self=this;if(isNaN(self.options.zoomWindowPosition))self.externalContainer=$("#"+self.options.zoomWindowPosition),self.externalContainerWidth=self.externalContainer.width(),self.externalContainerHeight=self.externalContainer.height(),self.externalContainerOffset=self.externalContainer.offset(),self.windowOffsetTop=self.externalContainerOffset.top,self.windowOffsetLeft=self.externalContainerOffset.left;else switch(self.options.zoomWindowPosition){case 1:self.windowOffsetTop=self.options.zoomWindowOffety,self.windowOffsetLeft=+self.nzWidth;break;case 2:self.options.zoomWindowHeight>self.nzHeight&&(self.windowOffsetTop=(self.options.zoomWindowHeight/2-self.nzHeight/2)*-1,self.windowOffsetLeft=self.nzWidth);break;case 3:self.windowOffsetTop=self.nzHeight-self.zoomWindow.height()-2*self.options.borderSize,self.windowOffsetLeft=self.nzWidth;break;case 4:self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=self.nzWidth;break;case 5:self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=self.nzWidth-self.zoomWindow.width()-2*self.options.borderSize;break;case 6:self.options.zoomWindowHeight>self.nzHeight&&(self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=(self.options.zoomWindowWidth/2-self.nzWidth/2+2*self.options.borderSize)*-1);break;case 7:self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=0;break;case 8:self.windowOffsetTop=self.nzHeight,self.windowOffsetLeft=(self.zoomWindow.width()+2*self.options.borderSize)*-1;break;case 9:self.windowOffsetTop=self.nzHeight-self.zoomWindow.height()-2*self.options.borderSize,self.windowOffsetLeft=(self.zoomWindow.width()+2*self.options.borderSize)*-1;break;case 10:self.options.zoomWindowHeight>self.nzHeight&&(self.windowOffsetTop=(self.options.zoomWindowHeight/2-self.nzHeight/2)*-1,self.windowOffsetLeft=(self.zoomWindow.width()+2*self.options.borderSize)*-1);break;case 11:self.windowOffsetTop=self.options.zoomWindowOffety,self.windowOffsetLeft=(self.zoomWindow.width()+2*self.options.borderSize)*-1;break;case 12:self.windowOffsetTop=(self.zoomWindow.height()+2*self.options.borderSize)*-1,self.windowOffsetLeft=(self.zoomWindow.width()+2*self.options.borderSize)*-1;break;case 13:self.windowOffsetTop=(self.zoomWindow.height()+2*self.options.borderSize)*-1,self.windowOffsetLeft=0;break;case 14:self.options.zoomWindowHeight>self.nzHeight&&(self.windowOffsetTop=(self.zoomWindow.height()+2*self.options.borderSize)*-1,self.windowOffsetLeft=(self.options.zoomWindowWidth/2-self.nzWidth/2+2*self.options.borderSize)*-1);break;case 15:self.windowOffsetTop=(self.zoomWindow.height()+2*self.options.borderSize)*-1,self.windowOffsetLeft=self.nzWidth-self.zoomWindow.width()-2*self.options.borderSize;break;case 16:self.windowOffsetTop=(self.zoomWindow.height()+2*self.options.borderSize)*-1,self.windowOffsetLeft=self.nzWidth;break;default:self.windowOffsetTop=self.options.zoomWindowOffety,self.windowOffsetLeft=self.nzWidth}self.isWindowSet=!0,self.windowOffsetTop=self.windowOffsetTop+self.options.zoomWindowOffety,self.windowOffsetLeft=self.windowOffsetLeft+self.options.zoomWindowOffetx,self.zoomWindow.css({top:self.windowOffsetTop}),self.zoomWindow.css({left:self.windowOffsetLeft}),"inner"==self.options.zoomType&&(self.zoomWindow.css({top:0}),self.zoomWindow.css({left:0})),self.windowLeftPos=String(((e.pageX-self.nzOffset.left)*self.widthRatio-self.zoomWindow.width()/2)*-1),self.windowTopPos=String(((e.pageY-self.nzOffset.top)*self.heightRatio-self.zoomWindow.height()/2)*-1),self.Etoppos&&(self.windowTopPos=0),self.Eloppos&&(self.windowLeftPos=0),self.Eboppos&&(self.windowTopPos=(self.largeHeight/self.currentZoomLevel-self.zoomWindow.height())*-1),self.Eroppos&&(self.windowLeftPos=(self.largeWidth/self.currentZoomLevel-self.zoomWindow.width())*-1),self.fullheight&&(self.windowTopPos=0),self.fullwidth&&(self.windowLeftPos=0),"window"!=self.options.zoomType&&"inner"!=self.options.zoomType||(1==self.zoomLock&&(self.widthRatio<=1&&(self.windowLeftPos=0),self.heightRatio<=1&&(self.windowTopPos=0)),"window"==self.options.zoomType&&(self.largeHeight<self.options.zoomWindowHeight&&(self.windowTopPos=0),self.largeWidth<self.options.zoomWindowWidth&&(self.windowLeftPos=0)),self.options.easing?(self.xp||(self.xp=0),self.yp||(self.yp=0),self.loop||(self.loop=setInterval(function(){self.xp+=(self.windowLeftPos-self.xp)/self.options.easingAmount,self.yp+=(self.windowTopPos-self.yp)/self.options.easingAmount,self.scrollingLock?(clearInterval(self.loop),self.xp=self.windowLeftPos,self.yp=self.windowTopPos,self.xp=((e.pageX-self.nzOffset.left)*self.widthRatio-self.zoomWindow.width()/2)*-1,self.yp=((e.pageY-self.nzOffset.top)*self.heightRatio-self.zoomWindow.height()/2)*-1,self.changeBgSize&&(self.nzHeight>self.nzWidth?("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})):("lens"!=self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"})),self.changeBgSize=!1),self.zoomWindow.css({backgroundPosition:self.windowLeftPos+"px "+self.windowTopPos+"px"}),self.scrollingLock=!1,self.loop=!1):Math.round(Math.abs(self.xp-self.windowLeftPos)+Math.abs(self.yp-self.windowTopPos))<1?(clearInterval(self.loop),self.zoomWindow.css({backgroundPosition:self.windowLeftPos+"px "+self.windowTopPos+"px"}),self.loop=!1):(self.changeBgSize&&(self.nzHeight>self.nzWidth?("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})):("lens"!=self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"})),self.changeBgSize=!1),self.zoomWindow.css({backgroundPosition:self.xp+"px "+self.yp+"px"}))},16))):(self.changeBgSize&&(self.nzHeight>self.nzWidth?("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"}),self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})):("lens"==self.options.zoomType&&self.zoomLens.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"}),self.largeHeight/self.newvaluewidth<self.options.zoomWindowHeight?self.zoomWindow.css({"background-size":self.largeWidth/self.newvaluewidth+"px "+self.largeHeight/self.newvaluewidth+"px"}):self.zoomWindow.css({"background-size":self.largeWidth/self.newvalueheight+"px "+self.largeHeight/self.newvalueheight+"px"})),self.changeBgSize=!1),self.zoomWindow.css({backgroundPosition:self.windowLeftPos+"px "+self.windowTopPos+"px"})))},setTintPosition:function(e){var self=this;self.nzOffset=self.$elem.offset(),self.tintpos=String((e.pageX-self.nzOffset.left-self.zoomLens.width()/2)*-1),self.tintposy=String((e.pageY-self.nzOffset.top-self.zoomLens.height()/2)*-1),self.Etoppos&&(self.tintposy=0),self.Eloppos&&(self.tintpos=0),self.Eboppos&&(self.tintposy=(self.nzHeight-self.zoomLens.height()-2*self.options.lensBorderSize)*-1),self.Eroppos&&(self.tintpos=(self.nzWidth-self.zoomLens.width()-2*self.options.lensBorderSize)*-1),self.options.tint&&(self.fullheight&&(self.tintposy=0),self.fullwidth&&(self.tintpos=0),self.zoomTintImage.css({left:self.tintpos+"px"}),self.zoomTintImage.css({top:self.tintposy+"px"}))},swaptheimage:function(smallimage,largeimage){var self=this,newImg=new Image;self.options.loadingIcon&&(self.spinner=$("<div style=\"background: url('"+self.options.loadingIcon+"') no-repeat center;height:"+self.nzHeight+"px;width:"+self.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),self.$elem.after(self.spinner)),self.options.onImageSwap(self.$elem),newImg.onload=function(){self.largeWidth=newImg.width,self.largeHeight=newImg.height,self.zoomImage=largeimage,self.zoomWindow.css({"background-size":self.largeWidth+"px "+self.largeHeight+"px"}),self.swapAction(smallimage,largeimage)},newImg.src=largeimage},swapAction:function(smallimage,largeimage){var self=this,newImg2=new Image;if(newImg2.onload=function(){self.nzHeight=newImg2.height,self.nzWidth=newImg2.width,self.options.onImageSwapComplete(self.$elem),self.doneCallback()},newImg2.src=smallimage,self.currentZoomLevel=self.options.zoomLevel,self.options.maxZoomLevel=!1,"lens"==self.options.zoomType&&self.zoomLens.css({backgroundImage:"url('"+largeimage+"')"}),"window"==self.options.zoomType&&self.zoomWindow.css({backgroundImage:"url('"+largeimage+"')"}),"inner"==self.options.zoomType&&self.zoomWindow.css({backgroundImage:"url('"+largeimage+"')"}),self.currentImage=largeimage,self.options.imageCrossfade){var oldImg=self.$elem,newImg=oldImg.clone();if(self.$elem.attr("src",smallimage),self.$elem.after(newImg),newImg.stop(!0).fadeOut(self.options.imageCrossfade,function(){$(this).remove()}),self.$elem.width("auto").removeAttr("width"),self.$elem.height("auto").removeAttr("height"),oldImg.fadeIn(self.options.imageCrossfade),self.options.tint&&"inner"!=self.options.zoomType){var oldImgTint=self.zoomTintImage,newImgTint=oldImgTint.clone();self.zoomTintImage.attr("src",largeimage),self.zoomTintImage.after(newImgTint),newImgTint.stop(!0).fadeOut(self.options.imageCrossfade,function(){$(this).remove()}),oldImgTint.fadeIn(self.options.imageCrossfade),self.zoomTint.css({height:self.$elem.height()}),self.zoomTint.css({width:self.$elem.width()})}self.zoomContainer.css("height",self.$elem.height()),self.zoomContainer.css("width",self.$elem.width()),"inner"==self.options.zoomType&&(self.options.constrainType||(self.zoomWrap.parent().css("height",self.$elem.height()),self.zoomWrap.parent().css("width",self.$elem.width()),self.zoomWindow.css("height",self.$elem.height()),self.zoomWindow.css("width",self.$elem.width()))),self.options.imageCrossfade&&(self.zoomWrap.css("height",self.$elem.height()),self.zoomWrap.css("width",self.$elem.width()))}else self.$elem.attr("src",smallimage),self.options.tint&&(self.zoomTintImage.attr("src",largeimage),self.zoomTintImage.attr("height",self.$elem.height()),self.zoomTintImage.css({height:self.$elem.height()}),self.zoomTint.css({height:self.$elem.height()})),self.zoomContainer.css("height",self.$elem.height()),self.zoomContainer.css("width",self.$elem.width()),self.options.imageCrossfade&&(self.zoomWrap.css("height",self.$elem.height()),self.zoomWrap.css("width",self.$elem.width()));self.options.constrainType&&("height"==self.options.constrainType&&(self.zoomContainer.css("height",self.options.constrainSize),self.zoomContainer.css("width","auto"),self.options.imageCrossfade?(self.zoomWrap.css("height",self.options.constrainSize),self.zoomWrap.css("width","auto"),self.constwidth=self.zoomWrap.width()):(self.$elem.css("height",self.options.constrainSize),self.$elem.css("width","auto"),self.constwidth=self.$elem.width()),"inner"==self.options.zoomType&&(self.zoomWrap.parent().css("height",self.options.constrainSize),self.zoomWrap.parent().css("width",self.constwidth),self.zoomWindow.css("height",self.options.constrainSize),self.zoomWindow.css("width",self.constwidth)),self.options.tint&&(self.tintContainer.css("height",self.options.constrainSize),self.tintContainer.css("width",self.constwidth),self.zoomTint.css("height",self.options.constrainSize),self.zoomTint.css("width",self.constwidth),self.zoomTintImage.css("height",self.options.constrainSize),self.zoomTintImage.css("width",self.constwidth))),"width"==self.options.constrainType&&(self.zoomContainer.css("height","auto"),self.zoomContainer.css("width",self.options.constrainSize),self.options.imageCrossfade?(self.zoomWrap.css("height","auto"),self.zoomWrap.css("width",self.options.constrainSize),self.constheight=self.zoomWrap.height()):(self.$elem.css("height","auto"),self.$elem.css("width",self.options.constrainSize),self.constheight=self.$elem.height()),"inner"==self.options.zoomType&&(self.zoomWrap.parent().css("height",self.constheight),self.zoomWrap.parent().css("width",self.options.constrainSize),self.zoomWindow.css("height",self.constheight),self.zoomWindow.css("width",self.options.constrainSize)),self.options.tint&&(self.tintContainer.css("height",self.constheight),self.tintContainer.css("width",self.options.constrainSize),self.zoomTint.css("height",self.constheight),self.zoomTint.css("width",self.options.constrainSize),self.zoomTintImage.css("height",self.constheight),self.zoomTintImage.css("width",self.options.constrainSize))))},doneCallback:function(){var self=this;self.options.loadingIcon&&self.spinner.hide(),self.nzOffset=self.$elem.offset(),self.nzWidth=self.$elem.width(),self.nzHeight=self.$elem.height(),self.currentZoomLevel=self.options.zoomLevel,self.widthRatio=self.largeWidth/self.nzWidth,self.heightRatio=self.largeHeight/self.nzHeight,"window"==self.options.zoomType&&(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio?lensHeight=self.nzHeight:lensHeight=String(self.options.zoomWindowHeight/self.heightRatio),self.options.zoomWindowWidth<self.options.zoomWindowWidth?lensWidth=self.nzWidth:lensWidth=self.options.zoomWindowWidth/self.widthRatio,self.zoomLens&&(self.zoomLens.css("width",lensWidth),self.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){var self=this;return self.zoomImage},getGalleryList:function(){var self=this;return self.gallerylist=[],self.options.gallery?$("#"+self.options.gallery+" a").each(function(){var img_src="";$(this).data("zoom-image")?img_src=$(this).data("zoom-image"):$(this).data("image")&&(img_src=$(this).data("image")),img_src==self.zoomImage?self.gallerylist.unshift({href:""+img_src,title:$(this).find("img").attr("title")}):self.gallerylist.push({href:""+img_src,title:$(this).find("img").attr("title")})}):self.gallerylist.push({href:""+self.zoomImage,title:$(this).find("img").attr("title")}),self.gallerylist},changeZoomLevel:function(value){var self=this;self.scrollingLock=!0,self.newvalue=parseFloat(value).toFixed(2),newvalue=parseFloat(value).toFixed(2),maxheightnewvalue=self.largeHeight/(self.options.zoomWindowHeight/self.nzHeight*self.nzHeight),maxwidthtnewvalue=self.largeWidth/(self.options.zoomWindowWidth/self.nzWidth*self.nzWidth),"inner"!=self.options.zoomType&&(maxheightnewvalue<=newvalue?(self.heightRatio=self.largeHeight/maxheightnewvalue/self.nzHeight,self.newvalueheight=maxheightnewvalue,self.fullheight=!0):(self.heightRatio=self.largeHeight/newvalue/self.nzHeight,self.newvalueheight=newvalue,self.fullheight=!1),maxwidthtnewvalue<=newvalue?(self.widthRatio=self.largeWidth/maxwidthtnewvalue/self.nzWidth,self.newvaluewidth=maxwidthtnewvalue,self.fullwidth=!0):(self.widthRatio=self.largeWidth/newvalue/self.nzWidth,self.newvaluewidth=newvalue,self.fullwidth=!1),"lens"==self.options.zoomType&&(maxheightnewvalue<=newvalue?(self.fullwidth=!0,self.newvaluewidth=maxheightnewvalue):(self.widthRatio=self.largeWidth/newvalue/self.nzWidth,self.newvaluewidth=newvalue,self.fullwidth=!1))),"inner"==self.options.zoomType&&(maxheightnewvalue=parseFloat(self.largeHeight/self.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(self.largeWidth/self.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(self.heightRatio=self.largeHeight/newvalue/self.nzHeight,newvalue>maxheightnewvalue?self.newvalueheight=maxheightnewvalue:self.newvalueheight=newvalue,self.fullheight=!0):(self.heightRatio=self.largeHeight/newvalue/self.nzHeight,newvalue>maxheightnewvalue?self.newvalueheight=maxheightnewvalue:self.newvalueheight=newvalue,self.fullheight=!1),maxwidthtnewvalue<=newvalue?(self.widthRatio=self.largeWidth/newvalue/self.nzWidth,newvalue>maxwidthtnewvalue?self.newvaluewidth=maxwidthtnewvalue:self.newvaluewidth=newvalue,self.fullwidth=!0):(self.widthRatio=self.largeWidth/newvalue/self.nzWidth,self.newvaluewidth=newvalue,self.fullwidth=!1)),scrcontinue=!1,"inner"==self.options.zoomType&&(self.nzWidth>=self.nzHeight&&(self.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,self.fullheight=!0,self.fullwidth=!0)),self.nzHeight>self.nzWidth&&(self.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,self.fullheight=!0,self.fullwidth=!0))),"inner"!=self.options.zoomType&&(scrcontinue=!0),scrcontinue&&(self.zoomLock=0,self.changeZoom=!0,self.options.zoomWindowHeight/self.heightRatio<=self.nzHeight&&(self.currentZoomLevel=self.newvalueheight,"lens"!=self.options.zoomType&&"inner"!=self.options.zoomType&&(self.changeBgSize=!0,self.zoomLens.css({height:String(self.options.zoomWindowHeight/self.heightRatio)+"px"})),"lens"!=self.options.zoomType&&"inner"!=self.options.zoomType||(self.changeBgSize=!0)),self.options.zoomWindowWidth/self.widthRatio<=self.nzWidth&&("inner"!=self.options.zoomType&&self.newvaluewidth>self.newvalueheight&&(self.currentZoomLevel=self.newvaluewidth),"lens"!=self.options.zoomType&&"inner"!=self.options.zoomType&&(self.changeBgSize=!0,self.zoomLens.css({width:String(self.options.zoomWindowWidth/self.widthRatio)+"px"})),"lens"!=self.options.zoomType&&"inner"!=self.options.zoomType||(self.changeBgSize=!0)),"inner"==self.options.zoomType&&(self.changeBgSize=!0,self.nzWidth>self.nzHeight&&(self.currentZoomLevel=self.newvaluewidth),self.nzHeight>self.nzWidth&&(self.currentZoomLevel=self.newvaluewidth))),self.setPosition(self.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(value){var self=this;"enable"==value&&(self.options.zoomEnabled=!0),"disable"==value&&(self.options.zoomEnabled=!1)}};$.fn.elevateZoom=function(options){return this.each(function(){var elevate=Object.create(ElevateZoom);elevate.init(options,this),$.data(this,"elevateZoom",elevate)})},$.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:$.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:$.noop,onImageSwapComplete:$.noop}}(jQuery,window,document),function($){$.extend({tablesorter:new function(){function benchmark(s,d){log(s+","+((new Date).getTime()-d.getTime())+"ms")}function log(s){"undefined"!=typeof console&&"undefined"!=typeof console.debug?console.log(s):alert(s)}function buildParserCache(table,$headers){if(table.config.debug)var parsersDebug="";if(0!=table.tBodies.length){var rows=table.tBodies[0].rows;if(rows[0])for(var list=[],cells=rows[0].cells,l=cells.length,i=0;i<l;i++){var p=!1;$.metadata&&$($headers[i]).metadata()&&$($headers[i]).metadata().sorter?p=getParserById($($headers[i]).metadata().sorter):table.config.headers[i]&&table.config.headers[i].sorter&&(p=getParserById(table.config.headers[i].sorter)),p||(p=detectParserForColumn(table,rows,-1,i)),table.config.debug&&(parsersDebug+="column:"+i+" parser:"+p.id+"\n"),list.push(p)}return table.config.debug&&log(parsersDebug),list}}function detectParserForColumn(table,rows,rowIndex,cellIndex){for(var l=parsers.length,node=!1,nodeValue=!1,keepLooking=!0;""==nodeValue&&keepLooking;)rowIndex++,rows[rowIndex]?(node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex),nodeValue=trimAndGetNodeText(table.config,node),table.config.debug&&log("Checking if value was empty on row:"+rowIndex)):keepLooking=!1;for(var i=1;i<l;i++)if(parsers[i].is(nodeValue,table,node))return parsers[i];return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){for(var l=parsers.length,i=0;i<l;i++)if(parsers[i].id.toLowerCase()==name.toLowerCase())return parsers[i];return!1}function buildCache(table){if(table.config.debug)var cacheTime=new Date;for(var totalRows=table.tBodies[0]&&table.tBodies[0].rows.length||0,totalCells=table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length||0,parsers=table.config.parsers,cache={row:[],normalized:[]},i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow))cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);else{cache.row.push(c);for(var j=0;j<totalCells;++j)cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));cols.push(cache.normalized.length),cache.normalized.push(cols),cols=null}}return table.config.debug&&benchmark("Building cache for "+totalRows+" rows:",cacheTime),cache}function getElementText(config,node){if(!node)return"";var $node=$(node),data=$node.attr("data-sort-value");if(void 0!==data)return data;var text="";return config.supportsTextContent||(config.supportsTextContent=node.textContent||!1),text="simple"==config.textExtraction?config.supportsTextContent?node.textContent:node.childNodes[0]&&node.childNodes[0].hasChildNodes()?node.childNodes[0].innerHTML:node.innerHTML:"function"==typeof config.textExtraction?config.textExtraction(node):$(node).text()}function appendToTable(table,cache){if(table.config.debug)var appendTime=new Date;for(var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=n[0].length-1,tableBody=$(table.tBodies[0]),rows=[],i=0;i<totalRows;i++){var pos=n[i][checkCell];if(rows.push(r[pos]),!table.config.appender)for(var l=r[pos].length,j=0;j<l;j++)tableBody[0].appendChild(r[pos][j])}table.config.appender&&table.config.appender(table,rows),rows=null,table.config.debug&&benchmark("Rebuilt table:",appendTime),applyWidget(table),setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug)var time=new Date;var header_index=(!!$.metadata,computeTableHeaderCellIndexes(table)),$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){if(this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(table.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(table,index))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(table,index)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index)),!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);table.config.onRenderHeader&&table.config.onRenderHeader.apply($th)}table.config.headerList[index]=this});return table.config.debug&&(benchmark("Built headers:",time),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(t){for(var matrix=[],lookup={},thead=t.getElementsByTagName("THEAD")[0],trs=thead.getElementsByTagName("TR"),i=0;i<trs.length;i++)for(var cells=trs[i].cells,j=0;j<cells.length;j++){var firstAvailCol,c=cells[j],rowIndex=c.parentNode.rowIndex,cellId=rowIndex+"-"+c.cellIndex,rowSpan=c.rowSpan||1,colSpan=c.colSpan||1;"undefined"==typeof matrix[rowIndex]&&(matrix[rowIndex]=[]);for(var k=0;k<matrix[rowIndex].length+1;k++)if("undefined"==typeof matrix[rowIndex][k]){firstAvailCol=k;break}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){"undefined"==typeof matrix[k]&&(matrix[k]=[]);for(var matrixrow=matrix[k],l=firstAvailCol;l<firstAvailCol+colSpan;l++)matrixrow[l]="x"}}return lookup}function checkCellColSpan(table,rows,row){for(var arr=[],r=table.tHead.rows,c=r[row].cells,i=0;i<c.length;i++){var cell=c[i];cell.colSpan>1?arr=arr.concat(checkCellColSpan(table,headerArr,row++)):(1==table.tHead.length||cell.rowSpan>1||!r[row+1])&&arr.push(cell)}return arr}function checkHeaderMetadata(cell){return!(!$.metadata||$(cell).metadata().sorter!==!1)}function checkHeaderOptions(table,i){return!(!table.config.headers[i]||table.config.headers[i].sorter!==!1)}function checkHeaderOptionsSortingLocked(table,i){return!(!table.config.headers[i]||!table.config.headers[i].lockedOrder)&&table.config.headers[i].lockedOrder}function applyWidget(table){for(var c=table.config.widgets,l=c.length,i=0;i<l;i++)getWidgetById(c[i]).format(table)}function getWidgetById(name){for(var l=widgets.length,i=0;i<l;i++)if(widgets[i].id.toLowerCase()==name.toLowerCase())return widgets[i]}function formatSortingOrder(v){return"Number"!=typeof v?"desc"==v.toLowerCase()?1:0:1==v?1:0}function isValueInArray(v,a){for(var l=a.length,i=0;i<l;i++)if(a[i][0]==v)return!0;return!1}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){this.sortDisabled||(h[this.column]=$(this))});for(var l=list.length,i=0;i<l;i++)h[list[i][0]].addClass(css[list[i][1]])}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))}),$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){for(var c=table.config,l=sortList.length,i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1],o.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="sortWrapper = function(a,b) {",l=sortList.length,i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?0==order?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):0==order?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";return"text"==type&&"asc"==direction?"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));":"text"==type&&"desc"==direction?"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));":"numeric"==type&&"asc"==direction?"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));":"numeric"==type&&"desc"==direction?"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));":void 0}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){return table.config.sortLocaleCompare?a.localeCompare(b):a<b?-1:a>b?1:0}function sortTextDesc(a,b){return table.config.sortLocaleCompare?b.localeCompare(a):b<a?-1:b>a?1:0}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark;var sortWrapper;this.construct=function(settings){return this.each(function(){if(this.tHead&&this.tBodies){var $this,$headers,cache,config;this.config={},config=$.extend(this.config,$.tablesorter.defaults,settings),$this=$(this),$.data(this,"tablesorter",config),$headers=buildHeaders(this),this.config.parsers=buildParserCache(this,$headers),cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this),$headers.click(function(e){var totalRows=$this[0].tBodies[0]&&$this[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var i=($(this),this.column);if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),e[config.sortMultiSortKey])if(isValueInArray(i,config.sortList))for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];s[0]==i&&(o.count=s[1],o.count++,s[1]=o.count%2)}else config.sortList.push([i,this.order]);else{if(config.sortList=[],null!=config.sortForce)for(var a=config.sortForce,j=0;j<a.length;j++)a[j][0]!=i&&config.sortList.push(a[j]);config.sortList.push([i,this.order])}return setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS),appendToTable($this[0],multisort($this[0],config.sortList,cache))},1),!1}}).mousedown(function(){if(config.cancelSelection)return this.onselectstart=function(){return!1},!1}),$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers),cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config,pos=[cell.parentNode.rowIndex-1,cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart"),config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList),setHeadersCss(this,$headers,sortList,sortCSS),appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(config.sortList=$(this).metadata().sortlist),config.sortList.length>0&&$this.trigger("sorton",[config.sortList]),applyWidget(this)}})},this.addParser=function(parser){for(var l=parsers.length,a=!0,i=0;i<l;i++)parsers[i].id.toLowerCase()==parser.id.toLowerCase()&&(a=!1);a&&parsers.push(parser)},this.addWidget=function(widget){widgets.push(widget)},this.formatFloat=function(s){var i=parseFloat(s);return isNaN(i)?0:i},this.formatInt=function(s){var i=parseInt(s);return isNaN(i)?0:i},this.isDigit=function(s,config){
return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))},this.clearTableBody=function(table){if($.browser.msie)for(;table.tBodies[0].firstChild;)table.tBodies[0].removeChild(table.tBodies[0].firstChild);else table.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return!0},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"}),ts.addParser({id:"currency",is:function(s){return/^[$?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[$]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){for(var a=s.split("."),r="",l=a.length,i=0;i<l;i++){var item=a[i];r+=2==item.length?"0"+item:item}return $.tablesorter.formatFloat(r)},type:"numeric"}),ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat(""!=s?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;return s=s.replace(/\-/g,"/"),"us"==c.dateFormat&&(s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")),"pt"==c.dateFormat?s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):"uk"==c.dateFormat?s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):"dd/mm/yy"!=c.dateFormat&&"dd-mm-yy"!=c.dateFormat||(s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(s){return!1},format:function(s,table,cell){var c=table.config,p=c.parserMetadataName?c.parserMetadataName:"sortValue";return $(cell).metadata()[p]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(table){if(table.config.debug)var time=new Date;var $tr,odd,row=-1;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this),$tr.hasClass(table.config.cssChildRow)||row++,odd=row%2==0,$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])}),table.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",time)}})}(jQuery),function($){var plugin={},defaults={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};$.fn.bxSlider=function(options){if(0==this.length)return this;if(this.length>1)return this.each(function(){$(this).bxSlider(options)}),this;var slider={},el=this;plugin.el=this;var windowWidth=$(window).width(),windowHeight=$(window).height(),init=function(){slider.settings=$.extend({},defaults,options),slider.settings.slideWidth=parseInt(slider.settings.slideWidth),slider.children=el.children(slider.settings.slideSelector),slider.children.length<slider.settings.minSlides&&(slider.settings.minSlides=slider.children.length),slider.children.length<slider.settings.maxSlides&&(slider.settings.maxSlides=slider.children.length),slider.settings.randomStart&&(slider.settings.startSlide=Math.floor(Math.random()*slider.children.length)),slider.active={index:slider.settings.startSlide},slider.carousel=slider.settings.minSlides>1||slider.settings.maxSlides>1,slider.carousel&&(slider.settings.preloadImages="all"),slider.minThreshold=slider.settings.minSlides*slider.settings.slideWidth+(slider.settings.minSlides-1)*slider.settings.slideMargin,slider.maxThreshold=slider.settings.maxSlides*slider.settings.slideWidth+(slider.settings.maxSlides-1)*slider.settings.slideMargin,slider.working=!1,slider.controls={},slider.interval=null,slider.animProp="vertical"==slider.settings.mode?"top":"left",slider.usingCSS=slider.settings.useCSS&&"fade"!=slider.settings.mode&&function(){var div=document.createElement("div"),props=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in props)if(void 0!==div.style[props[i]])return slider.cssPrefix=props[i].replace("Perspective","").toLowerCase(),slider.animProp="-"+slider.cssPrefix+"-transform",!0;return!1}(),"vertical"==slider.settings.mode&&(slider.settings.maxSlides=slider.settings.minSlides),el.data("origStyle",el.attr("style")),el.children(slider.settings.slideSelector).each(function(){$(this).data("origStyle",$(this).attr("style"))}),setup()},setup=function(){el.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),slider.viewport=el.parent(),slider.loader=$('<div class="bx-loading" />'),slider.viewport.prepend(slider.loader),el.css({width:"horizontal"==slider.settings.mode?100*slider.children.length+215+"%":"auto",position:"relative"}),slider.usingCSS&&slider.settings.easing?el.css("-"+slider.cssPrefix+"-transition-timing-function",slider.settings.easing):slider.settings.easing||(slider.settings.easing="swing");getNumberSlidesShowing();slider.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),slider.viewport.parent().css({maxWidth:getViewportMaxWidth()}),slider.settings.pager||slider.viewport.parent().css({margin:"0 auto 0px"}),slider.children.css({float:"horizontal"==slider.settings.mode?"left":"none",listStyle:"none",position:"relative"}),slider.children.css("width",getSlideWidth()),"horizontal"==slider.settings.mode&&slider.settings.slideMargin>0&&slider.children.css("marginRight",slider.settings.slideMargin),"vertical"==slider.settings.mode&&slider.settings.slideMargin>0&&slider.children.css("marginBottom",slider.settings.slideMargin),"fade"==slider.settings.mode&&(slider.children.css({position:"absolute",zIndex:0,display:"none"}),slider.children.eq(slider.settings.startSlide).css({zIndex:50,display:"block"})),slider.controls.el=$('<div class="bx-controls" />'),slider.settings.captions&&appendCaptions(),slider.active.last=slider.settings.startSlide==getPagerQty()-1,slider.settings.video&&el.fitVids();var preloadSelector=slider.children.eq(slider.settings.startSlide);"all"==slider.settings.preloadImages&&(preloadSelector=slider.children),slider.settings.ticker?slider.settings.pager=!1:(slider.settings.pager&&appendPager(),slider.settings.controls&&appendControls(),slider.settings.auto&&slider.settings.autoControls&&appendControlsAuto(),(slider.settings.controls||slider.settings.autoControls||slider.settings.pager)&&slider.viewport.after(slider.controls.el)),loadElements(preloadSelector,start)},loadElements=function(selector,callback){var total=selector.find("img, iframe").length;if(0==total)return void callback();var count=0;selector.find("img, iframe").each(function(){$(this).one("load",function(){++count==total&&callback()}).each(function(){this.complete&&$(this).load()})})},start=function(){if(slider.settings.infiniteLoop&&"fade"!=slider.settings.mode&&!slider.settings.ticker){var slice="vertical"==slider.settings.mode?slider.settings.minSlides:slider.settings.maxSlides,sliceAppend=slider.children.slice(0,slice).clone().addClass("bx-clone"),slicePrepend=slider.children.slice(-slice).clone().addClass("bx-clone");el.append(sliceAppend).prepend(slicePrepend)}slider.loader.remove(),setSlidePosition(),"vertical"==slider.settings.mode&&(slider.settings.adaptiveHeight=!0),slider.viewport.height(getViewportHeight()),el.redrawSlider(),slider.settings.onSliderLoad(slider.active.index),slider.initialized=!0,slider.settings.responsive&&$(window).bind("resize",resizeWindow),slider.settings.auto&&slider.settings.autoStart&&initAuto(),slider.settings.ticker&&initTicker(),slider.settings.pager&&updatePagerActive(slider.settings.startSlide),slider.settings.controls&&updateDirectionControls(),slider.settings.touchEnabled&&!slider.settings.ticker&&initTouch()},getViewportHeight=function(){var height=0,children=$();if("vertical"==slider.settings.mode||slider.settings.adaptiveHeight)if(slider.carousel){var currentIndex=1==slider.settings.moveSlides?slider.active.index:slider.active.index*getMoveBy();for(children=slider.children.eq(currentIndex),i=1;i<=slider.settings.maxSlides-1;i++)children=currentIndex+i>=slider.children.length?children.add(slider.children.eq(i-1)):children.add(slider.children.eq(currentIndex+i))}else children=slider.children.eq(slider.active.index);else children=slider.children;return"vertical"==slider.settings.mode?(children.each(function(index){height+=$(this).outerHeight()}),slider.settings.slideMargin>0&&(height+=slider.settings.slideMargin*(slider.settings.minSlides-1))):height=Math.max.apply(Math,children.map(function(){return $(this).outerHeight(!1)}).get()),height},getViewportMaxWidth=function(){var width="100%";return slider.settings.slideWidth>0&&(width="horizontal"==slider.settings.mode?slider.settings.maxSlides*slider.settings.slideWidth+(slider.settings.maxSlides-1)*slider.settings.slideMargin:slider.settings.slideWidth),width},getSlideWidth=function(){var newElWidth=slider.settings.slideWidth,wrapWidth=slider.viewport.width();return 0==slider.settings.slideWidth||slider.settings.slideWidth>wrapWidth&&!slider.carousel||"vertical"==slider.settings.mode?newElWidth=wrapWidth:slider.settings.maxSlides>1&&"horizontal"==slider.settings.mode&&(wrapWidth>slider.maxThreshold||wrapWidth<slider.minThreshold&&(newElWidth=(wrapWidth-slider.settings.slideMargin*(slider.settings.minSlides-1))/slider.settings.minSlides)),newElWidth},getNumberSlidesShowing=function(){var slidesShowing=1;if("horizontal"==slider.settings.mode&&slider.settings.slideWidth>0)if(slider.viewport.width()<slider.minThreshold)slidesShowing=slider.settings.minSlides;else if(slider.viewport.width()>slider.maxThreshold)slidesShowing=slider.settings.maxSlides;else{var childWidth=slider.children.first().width();slidesShowing=Math.floor(slider.viewport.width()/childWidth)}else"vertical"==slider.settings.mode&&(slidesShowing=slider.settings.minSlides);return slidesShowing},getPagerQty=function(){var pagerQty=0;if(slider.settings.moveSlides>0)if(slider.settings.infiniteLoop)pagerQty=slider.children.length/getMoveBy();else for(var breakPoint=0,counter=0;breakPoint<slider.children.length;)++pagerQty,breakPoint=counter+getNumberSlidesShowing(),counter+=slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing();else pagerQty=Math.ceil(slider.children.length/getNumberSlidesShowing());return pagerQty},getMoveBy=function(){return slider.settings.moveSlides>0&&slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing()},setSlidePosition=function(){if(slider.children.length>slider.settings.maxSlides&&slider.active.last&&!slider.settings.infiniteLoop){if("horizontal"==slider.settings.mode){var lastChild=slider.children.last(),position=lastChild.position();setPositionProperty(-(position.left-(slider.viewport.width()-lastChild.width())),"reset",0)}else if("vertical"==slider.settings.mode){var lastShowingIndex=slider.children.length-slider.settings.minSlides,position=slider.children.eq(lastShowingIndex).position();setPositionProperty(-position.top,"reset",0)}}else{var position=slider.children.eq(slider.active.index*getMoveBy()).position();slider.active.index==getPagerQty()-1&&(slider.active.last=!0),void 0!=position&&("horizontal"==slider.settings.mode?setPositionProperty(-position.left,"reset",0):"vertical"==slider.settings.mode&&setPositionProperty(-position.top,"reset",0))}},setPositionProperty=function(value,type,duration,params){if(slider.usingCSS){var propValue="vertical"==slider.settings.mode?"translate3d(0, "+value+"px, 0)":"translate3d("+value+"px, 0, 0)";el.css("-"+slider.cssPrefix+"-transition-duration",duration/1e3+"s"),"slide"==type?(el.css(slider.animProp,propValue),el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),updateAfterSlideTransition()})):"reset"==type?el.css(slider.animProp,propValue):"ticker"==type&&(el.css("-"+slider.cssPrefix+"-transition-timing-function","linear"),el.css(slider.animProp,propValue),el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),setPositionProperty(params.resetValue,"reset",0),tickerLoop()}))}else{var animateObj={};animateObj[slider.animProp]=value,"slide"==type?el.animate(animateObj,duration,slider.settings.easing,function(){updateAfterSlideTransition()}):"reset"==type?el.css(slider.animProp,value):"ticker"==type&&el.animate(animateObj,speed,"linear",function(){setPositionProperty(params.resetValue,"reset",0),tickerLoop()})}},populatePager=function(){for(var pagerHtml="",pagerQty=getPagerQty(),i=0;i<pagerQty;i++){var linkContent="";slider.settings.buildPager&&$.isFunction(slider.settings.buildPager)?(linkContent=slider.settings.buildPager(i),slider.pagerEl.addClass("bx-custom-pager")):(linkContent=i+1,slider.pagerEl.addClass("bx-default-pager")),pagerHtml+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+linkContent+"</a></div>"}slider.pagerEl.html(pagerHtml)},appendPager=function(){slider.settings.pagerCustom?slider.pagerEl=$(slider.settings.pagerCustom):(slider.pagerEl=$('<div class="bx-pager" />'),slider.settings.pagerSelector?$(slider.settings.pagerSelector).html(slider.pagerEl):slider.controls.el.addClass("bx-has-pager").append(slider.pagerEl),populatePager()),slider.pagerEl.delegate("a","click",clickPagerBind)},appendControls=function(){slider.controls.next=$('<a class="bx-next" href="">'+slider.settings.nextText+"</a>"),slider.controls.prev=$('<a class="bx-prev" href="">'+slider.settings.prevText+"</a>"),slider.controls.next.bind("click",clickNextBind),slider.controls.prev.bind("click",clickPrevBind),slider.settings.nextSelector&&$(slider.settings.nextSelector).append(slider.controls.next),slider.settings.prevSelector&&$(slider.settings.prevSelector).append(slider.controls.prev),slider.settings.nextSelector||slider.settings.prevSelector||(slider.controls.directionEl=$('<div class="bx-controls-direction" />'),slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next),slider.controls.el.addClass("bx-has-controls-direction").append(slider.controls.directionEl))},appendControlsAuto=function(){slider.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+slider.settings.startText+"</a></div>"),slider.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+slider.settings.stopText+"</a></div>"),slider.controls.autoEl=$('<div class="bx-controls-auto" />'),slider.controls.autoEl.delegate(".bx-start","click",clickStartBind),slider.controls.autoEl.delegate(".bx-stop","click",clickStopBind),slider.settings.autoControlsCombine?slider.controls.autoEl.append(slider.controls.start):slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop),slider.settings.autoControlsSelector?$(slider.settings.autoControlsSelector).html(slider.controls.autoEl):slider.controls.el.addClass("bx-has-controls-auto").append(slider.controls.autoEl),updateAutoControls(slider.settings.autoStart?"stop":"start")},appendCaptions=function(){slider.children.each(function(index){var title=$(this).find("img:first").attr("title");void 0!=title&&(""+title).length&&$(this).append('<div class="bx-caption"><span>'+title+"</span></div>")})},clickNextBind=function(e){slider.settings.auto&&el.stopAuto(),el.goToNextSlide(),e.preventDefault()},clickPrevBind=function(e){slider.settings.auto&&el.stopAuto(),el.goToPrevSlide(),e.preventDefault()},clickStartBind=function(e){el.startAuto(),e.preventDefault()},clickStopBind=function(e){el.stopAuto(),e.preventDefault()},clickPagerBind=function(e){slider.settings.auto&&el.stopAuto();var pagerLink=$(e.currentTarget),pagerIndex=parseInt(pagerLink.attr("data-slide-index"));pagerIndex!=slider.active.index&&el.goToSlide(pagerIndex),e.preventDefault()},updatePagerActive=function(slideIndex){var len=slider.children.length;return"short"==slider.settings.pagerType?(slider.settings.maxSlides>1&&(len=Math.ceil(slider.children.length/slider.settings.maxSlides)),void slider.pagerEl.html(slideIndex+1+slider.settings.pagerShortSeparator+len)):(slider.pagerEl.find("a").removeClass("active"),void slider.pagerEl.each(function(i,el){$(el).find("a").eq(slideIndex).addClass("active")}))},updateAfterSlideTransition=function(){if(slider.settings.infiniteLoop){var position="";0==slider.active.index?position=slider.children.eq(0).position():slider.active.index==getPagerQty()-1&&slider.carousel?position=slider.children.eq((getPagerQty()-1)*getMoveBy()).position():slider.active.index==slider.children.length-1&&(position=slider.children.eq(slider.children.length-1).position()),position&&("horizontal"==slider.settings.mode?setPositionProperty(-position.left,"reset",0):"vertical"==slider.settings.mode&&setPositionProperty(-position.top,"reset",0))}slider.working=!1,slider.settings.onSlideAfter(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index)},updateAutoControls=function(state){slider.settings.autoControlsCombine?slider.controls.autoEl.html(slider.controls[state]):(slider.controls.autoEl.find("a").removeClass("active"),slider.controls.autoEl.find("a:not(.bx-"+state+")").addClass("active"))},updateDirectionControls=function(){1==getPagerQty()?(slider.controls.prev.addClass("disabled"),slider.controls.next.addClass("disabled")):!slider.settings.infiniteLoop&&slider.settings.hideControlOnEnd&&(0==slider.active.index?(slider.controls.prev.addClass("disabled"),slider.controls.next.removeClass("disabled")):slider.active.index==getPagerQty()-1?(slider.controls.next.addClass("disabled"),slider.controls.prev.removeClass("disabled")):(slider.controls.prev.removeClass("disabled"),slider.controls.next.removeClass("disabled")))},initAuto=function(){if(slider.settings.autoDelay>0){setTimeout(el.startAuto,slider.settings.autoDelay)}else el.startAuto();slider.settings.autoHover&&el.hover(function(){slider.interval&&(el.stopAuto(!0),slider.autoPaused=!0)},function(){slider.autoPaused&&(el.startAuto(!0),slider.autoPaused=null)})},initTicker=function(){var startPosition=0;if("next"==slider.settings.autoDirection)el.append(slider.children.clone().addClass("bx-clone"));else{el.prepend(slider.children.clone().addClass("bx-clone"));var position=slider.children.first().position();startPosition="horizontal"==slider.settings.mode?-position.left:-position.top}setPositionProperty(startPosition,"reset",0),slider.settings.pager=!1,slider.settings.controls=!1,slider.settings.autoControls=!1,slider.settings.tickerHover&&!slider.usingCSS&&slider.viewport.hover(function(){el.stop()},function(){var totalDimens=0;slider.children.each(function(index){totalDimens+="horizontal"==slider.settings.mode?$(this).outerWidth(!0):$(this).outerHeight(!0)});var ratio=slider.settings.speed/totalDimens,property="horizontal"==slider.settings.mode?"left":"top",newSpeed=ratio*(totalDimens-Math.abs(parseInt(el.css(property))));tickerLoop(newSpeed)}),tickerLoop()},tickerLoop=function(resumeSpeed){speed=resumeSpeed?resumeSpeed:slider.settings.speed;var position={left:0,top:0},reset={left:0,top:0};"next"==slider.settings.autoDirection?position=el.find(".bx-clone").first().position():reset=slider.children.first().position();var animateProperty="horizontal"==slider.settings.mode?-position.left:-position.top,resetValue="horizontal"==slider.settings.mode?-reset.left:-reset.top,params={resetValue:resetValue};setPositionProperty(animateProperty,"ticker",speed,params)},initTouch=function(){slider.touch={start:{x:0,y:0},end:{x:0,y:0}},slider.viewport.bind("touchstart",onTouchStart)},onTouchStart=function(e){if(slider.working)e.preventDefault();else{slider.touch.originalPos=el.position();var orig=e.originalEvent;slider.touch.start.x=orig.changedTouches[0].pageX,slider.touch.start.y=orig.changedTouches[0].pageY,slider.viewport.bind("touchmove",onTouchMove),slider.viewport.bind("touchend",onTouchEnd)}},onTouchMove=function(e){var orig=e.originalEvent,xMovement=Math.abs(orig.changedTouches[0].pageX-slider.touch.start.x),yMovement=Math.abs(orig.changedTouches[0].pageY-slider.touch.start.y);if(3*xMovement>yMovement&&slider.settings.preventDefaultSwipeX?e.preventDefault():3*yMovement>xMovement&&slider.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=slider.settings.mode&&slider.settings.oneToOneTouch){var value=0;if("horizontal"==slider.settings.mode){var change=orig.changedTouches[0].pageX-slider.touch.start.x;value=slider.touch.originalPos.left+change}else{var change=orig.changedTouches[0].pageY-slider.touch.start.y;value=slider.touch.originalPos.top+change}setPositionProperty(value,"reset",0)}},onTouchEnd=function(e){slider.viewport.unbind("touchmove",onTouchMove);var orig=e.originalEvent,value=0;if(slider.touch.end.x=orig.changedTouches[0].pageX,slider.touch.end.y=orig.changedTouches[0].pageY,"fade"==slider.settings.mode){var distance=Math.abs(slider.touch.start.x-slider.touch.end.x);distance>=slider.settings.swipeThreshold&&(slider.touch.start.x>slider.touch.end.x?el.goToNextSlide():el.goToPrevSlide(),el.stopAuto())}else{var distance=0;"horizontal"==slider.settings.mode?(distance=slider.touch.end.x-slider.touch.start.x,value=slider.touch.originalPos.left):(distance=slider.touch.end.y-slider.touch.start.y,value=slider.touch.originalPos.top),!slider.settings.infiniteLoop&&(0==slider.active.index&&distance>0||slider.active.last&&distance<0)?setPositionProperty(value,"reset",200):Math.abs(distance)>=slider.settings.swipeThreshold?(distance<0?el.goToNextSlide():el.goToPrevSlide(),el.stopAuto()):setPositionProperty(value,"reset",200)}slider.viewport.unbind("touchend",onTouchEnd)},resizeWindow=function(e){var windowWidthNew=$(window).width(),windowHeightNew=$(window).height();windowWidth==windowWidthNew&&windowHeight==windowHeightNew||(windowWidth=windowWidthNew,windowHeight=windowHeightNew,el.redrawSlider())};return el.goToSlide=function(slideIndex,direction){if(!slider.working&&slider.active.index!=slideIndex)if(slider.working=!0,slider.oldIndex=slider.active.index,slideIndex<0?slider.active.index=getPagerQty()-1:slideIndex>=getPagerQty()?slider.active.index=0:slider.active.index=slideIndex,slider.settings.onSlideBefore(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index),"next"==direction?slider.settings.onSlideNext(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index):"prev"==direction&&slider.settings.onSlidePrev(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index),slider.active.last=slider.active.index>=getPagerQty()-1,slider.settings.pager&&updatePagerActive(slider.active.index),slider.settings.controls&&updateDirectionControls(),"fade"==slider.settings.mode)slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()&&slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed),slider.children.filter(":visible").fadeOut(slider.settings.speed).css({zIndex:0}),slider.children.eq(slider.active.index).css("zIndex",51).fadeIn(slider.settings.speed,function(){$(this).css("zIndex",50),updateAfterSlideTransition()});else{slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()&&slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);var moveBy=0,position={left:0,top:0};if(!slider.settings.infiniteLoop&&slider.carousel&&slider.active.last)if("horizontal"==slider.settings.mode){var lastChild=slider.children.eq(slider.children.length-1);position=lastChild.position(),moveBy=slider.viewport.width()-lastChild.outerWidth()}else{var lastShowingIndex=slider.children.length-slider.settings.minSlides;position=slider.children.eq(lastShowingIndex).position()}else if(slider.carousel&&slider.active.last&&"prev"==direction){var eq=1==slider.settings.moveSlides?slider.settings.maxSlides-getMoveBy():(getPagerQty()-1)*getMoveBy()-(slider.children.length-slider.settings.maxSlides),lastChild=el.children(".bx-clone").eq(eq);position=lastChild.position()}else if("next"==direction&&0==slider.active.index)position=el.find("> .bx-clone").eq(slider.settings.maxSlides).position(),slider.active.last=!1;else if(slideIndex>=0){var requestEl=slideIndex*getMoveBy();position=slider.children.eq(requestEl).position()}if("undefined"!=typeof position){var value="horizontal"==slider.settings.mode?-(position.left-moveBy):-position.top;setPositionProperty(value,"slide",slider.settings.speed)}}},el.goToNextSlide=function(){if(slider.settings.infiniteLoop||!slider.active.last){var pagerIndex=parseInt(slider.active.index)+1;el.goToSlide(pagerIndex,"next")}},el.goToPrevSlide=function(){if(slider.settings.infiniteLoop||0!=slider.active.index){var pagerIndex=parseInt(slider.active.index)-1;el.goToSlide(pagerIndex,"prev")}},el.startAuto=function(preventControlUpdate){slider.interval||(slider.interval=setInterval(function(){"next"==slider.settings.autoDirection?el.goToNextSlide():el.goToPrevSlide()},slider.settings.pause),slider.settings.autoControls&&1!=preventControlUpdate&&updateAutoControls("stop"))},el.stopAuto=function(preventControlUpdate){slider.interval&&(clearInterval(slider.interval),slider.interval=null,slider.settings.autoControls&&1!=preventControlUpdate&&updateAutoControls("start"))},el.getCurrentSlide=function(){return slider.active.index},el.getSlideCount=function(){return slider.children.length},el.redrawSlider=function(){slider.children.add(el.find(".bx-clone")).outerWidth(getSlideWidth()),slider.viewport.css("height",getViewportHeight()),slider.settings.ticker||setSlidePosition(),slider.active.last&&(slider.active.index=getPagerQty()-1),slider.active.index>=getPagerQty()&&(slider.active.last=!0),slider.settings.pager&&!slider.settings.pagerCustom&&(populatePager(),updatePagerActive(slider.active.index))},el.destroySlider=function(){slider.initialized&&(slider.initialized=!1,$(".bx-clone",this).remove(),slider.children.each(function(){void 0!=$(this).data("origStyle")?$(this).attr("style",$(this).data("origStyle")):$(this).removeAttr("style")}),void 0!=$(this).data("origStyle")?this.attr("style",$(this).data("origStyle")):$(this).removeAttr("style"),$(this).unwrap().unwrap(),slider.controls.el&&slider.controls.el.remove(),slider.controls.next&&slider.controls.next.remove(),slider.controls.prev&&slider.controls.prev.remove(),slider.pagerEl&&slider.settings.controls&&slider.pagerEl.remove(),$(".bx-caption",this).remove(),slider.controls.autoEl&&slider.controls.autoEl.remove(),clearInterval(slider.interval),slider.settings.responsive&&$(window).unbind("resize",resizeWindow))},el.reloadSlider=function(settings){void 0!=settings&&(options=settings),el.destroySlider(),init()},init(),this}}(jQuery),function($){$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return $.easing[$.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t+b:-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return 0==t?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t==d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){return 0==t?b:t==d?b+c:(t/=d/2)<1?c/2*Math.pow(2,10*(t-1))+b:c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){return(t/=d/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+b:c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(1==(t/=d))return b+c;if(p||(p=.3*d),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(1==(t/=d))return b+c;if(p||(p=.3*d),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(2==(t/=d/2))return b+c;if(p||(p=d*(.3*1.5)),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b:a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),(t/=d/2)<1?c/2*(t*t*(((s*=1.525)+1)*t-s))+b:c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-$.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){return(t/=d)<1/2.75?c*(7.5625*t*t)+b:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+b:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+b:c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},easeInOutBounce:function(x,t,b,c,d){return t<d/2?.5*$.easing.easeInBounce(x,2*t,0,c,d)+b:.5*$.easing.easeOutBounce(x,2*t-d,0,c,d)+.5*c+b}})}(jQuery),function($,window,document,undefined){"use strict";var jRange=function(){return this.init.apply(this,arguments);
};jRange.prototype={defaults:{onstatechange:function(){},ondragend:function(){},onbarclicked:function(){},isRange:!1,showLabels:!0,showScale:!0,step:1,format:"%s",theme:"theme-green",width:300,disable:!1,snap:!1},template:'<div class="slider-container">\t\t\t<div class="back-bar">                <div class="selected-bar"></div>                <div class="pointer low"></div><div class="pointer-label low">123456</div>                <div class="pointer high"></div><div class="pointer-label high">456789</div>                <div class="clickable-dummy"></div>            </div>            <div class="scale"></div>\t\t</div>',init:function(node,options){this.options=$.extend({},this.defaults,options),this.inputNode=$(node),this.options.value=this.inputNode.val()||(this.options.isRange?this.options.from+","+this.options.from:""+this.options.from),this.domNode=$(this.template),this.domNode.addClass(this.options.theme),this.inputNode.after(this.domNode),this.domNode.on("change",this.onChange),this.pointers=$(".pointer",this.domNode),this.lowPointer=this.pointers.first(),this.highPointer=this.pointers.last(),this.labels=$(".pointer-label",this.domNode),this.lowLabel=this.labels.first(),this.highLabel=this.labels.last(),this.scale=$(".scale",this.domNode),this.bar=$(".selected-bar",this.domNode),this.clickableBar=this.domNode.find(".clickable-dummy"),this.interval=this.options.to-this.options.from,this.render()},render:function(){return 0!==this.inputNode.width()||this.options.width?(this.options.width=this.options.width||this.inputNode.width(),this.domNode.width(this.options.width),this.inputNode.hide(),this.isSingle()&&(this.lowPointer.hide(),this.lowLabel.hide()),this.options.showLabels||this.labels.hide(),this.attachEvents(),this.options.showScale&&this.renderScale(),void this.setValue(this.options.value)):void console.log("jRange : no width found, returning")},isSingle:function(){return"number"==typeof this.options.value||this.options.value.indexOf(",")===-1&&!this.options.isRange},attachEvents:function(){this.clickableBar.click($.proxy(this.barClicked,this)),this.pointers.on("mousedown touchstart",$.proxy(this.onDragStart,this)),this.pointers.bind("dragstart",function(event){event.preventDefault()})},onDragStart:function(e){if(!(this.options.disable||"mousedown"===e.type&&1!==e.which)){e.stopPropagation(),e.preventDefault();var pointer=$(e.target);this.pointers.removeClass("last-active"),pointer.addClass("focused last-active"),this[(pointer.hasClass("low")?"low":"high")+"Label"].addClass("focused"),$(document).on("mousemove.slider touchmove.slider",$.proxy(this.onDrag,this,pointer)),$(document).on("mouseup.slider touchend.slider touchcancel.slider",$.proxy(this.onDragEnd,this))}},onDrag:function(pointer,e){e.stopPropagation(),e.preventDefault(),e.originalEvent.touches&&e.originalEvent.touches.length?e=e.originalEvent.touches[0]:e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length&&(e=e.originalEvent.changedTouches[0]);var position=e.clientX-this.domNode.offset().left;this.domNode.trigger("change",[this,pointer,position])},onDragEnd:function(e){this.pointers.removeClass("focused").trigger("rangeslideend"),this.labels.removeClass("focused"),$(document).off(".slider"),this.options.ondragend.call(this,this.options.value)},barClicked:function(e){if(!this.options.disable){var x=e.pageX-this.clickableBar.offset().left;if(this.isSingle())this.setPosition(this.pointers.last(),x,!0,!0);else{var pointer,firstLeft=Math.abs(parseFloat(this.pointers.first().css("left"),10)),firstHalfWidth=this.pointers.first().width()/2,lastLeft=Math.abs(parseFloat(this.pointers.last().css("left"),10)),lastHalfWidth=this.pointers.first().width()/2,leftSide=Math.abs(firstLeft-x+firstHalfWidth),rightSide=Math.abs(lastLeft-x+lastHalfWidth);pointer=leftSide==rightSide?x<firstLeft?this.pointers.first():this.pointers.last():leftSide<rightSide?this.pointers.first():this.pointers.last(),this.setPosition(pointer,x,!0,!0)}this.options.onbarclicked.call(this,this.options.value)}},onChange:function(e,self,pointer,position){var min,max;min=0,max=self.domNode.width(),self.isSingle()||(min=pointer.hasClass("high")?parseFloat(self.lowPointer.css("left"))+self.lowPointer.width()/2:0,max=pointer.hasClass("low")?parseFloat(self.highPointer.css("left"))+self.highPointer.width()/2:self.domNode.width());var value=Math.min(Math.max(position,min),max);self.setPosition(pointer,value,!0)},setPosition:function(pointer,position,isPx,animate){var leftPos,rightPos,lowPos=parseFloat(this.lowPointer.css("left")),highPos=parseFloat(this.highPointer.css("left"))||0,circleWidth=this.highPointer.width()/2;if(isPx||(position=this.prcToPx(position)),this.options.snap){var expPos=this.correctPositionForSnap(position);if(expPos===-1)return;position=expPos}pointer[0]===this.highPointer[0]?highPos=Math.round(position-circleWidth):lowPos=Math.round(position-circleWidth),pointer[animate?"animate":"css"]({left:Math.round(position-circleWidth)}),this.isSingle()?leftPos=0:(leftPos=lowPos+circleWidth,rightPos=highPos+circleWidth);var w=Math.round(highPos+circleWidth-leftPos);this.bar[animate?"animate":"css"]({width:Math.abs(w),left:w>0?leftPos:leftPos+w}),this.showPointerValue(pointer,position,animate),this.isReadonly()},correctPositionForSnap:function(position){var currentValue=this.positionToValue(position)-this.options.from,diff=this.options.width/(this.interval/this.options.step),expectedPosition=currentValue/this.options.step*diff;return position<=expectedPosition+diff/2&&position>=expectedPosition-diff/2?expectedPosition:-1},setValue:function(value){var values=value.toString().split(",");values[0]=Math.min(Math.max(values[0],this.options.from),this.options.to)+"",values.length>1&&(values[1]=Math.min(Math.max(values[1],this.options.from),this.options.to)+""),this.options.value=value;var prc=this.valuesToPrc(2===values.length?values:[0,values[0]]);this.isSingle()?this.setPosition(this.highPointer,prc[1]):(this.setPosition(this.lowPointer,prc[0]),this.setPosition(this.highPointer,prc[1]))},renderScale:function(){for(var s=this.options.scale||[this.options.from,this.options.to],prc=Math.round(100/(s.length-1)*10)/10,str="",i=0;i<s.length;i++)str+='<span style="left: '+i*prc+'%">'+("|"!=s[i]?"<ins>"+s[i]+"</ins>":"")+"</span>";this.scale.html(str),$("ins",this.scale).each(function(){$(this).css({marginLeft:-$(this).outerWidth()/2})})},getBarWidth:function(){var values=this.options.value.split(",");return values.length>1?parseFloat(values[1])-parseFloat(values[0]):parseFloat(values[0])},showPointerValue:function(pointer,position,animate){var text,label=$(".pointer-label",this.domNode)[pointer.hasClass("low")?"first":"last"](),value=this.positionToValue(position);if($.isFunction(this.options.format)){var type=this.isSingle()?undefined:pointer.hasClass("low")?"low":"high";text=this.options.format(value,type)}else text=this.options.format.replace("%s",value);var width=label.html(text).width(),left=position-width/2;left=Math.min(Math.max(left,0),this.options.width-width),label[animate?"animate":"css"]({left:left}),this.setInputValue(pointer,value)},valuesToPrc:function(values){var lowPrc=100*(parseFloat(values[0])-parseFloat(this.options.from))/this.interval,highPrc=100*(parseFloat(values[1])-parseFloat(this.options.from))/this.interval;return[lowPrc,highPrc]},prcToPx:function(prc){return this.domNode.width()*prc/100},isDecimal:function(){return(this.options.value+this.options.from+this.options.to).indexOf(".")!==-1},positionToValue:function(pos){var value=pos/this.domNode.width()*this.interval;if(value=parseFloat(value,10)+parseFloat(this.options.from,10),this.isDecimal()){var final=Math.round(Math.round(value/this.options.step)*this.options.step*100)/100;if(0!==final)for(final=""+final,final.indexOf(".")===-1&&(final+=".");final.length-final.indexOf(".")<3;)final+="0";else final="0.00";return final}return Math.round(value/this.options.step)*this.options.step},setInputValue:function(pointer,v){if(this.isSingle())this.options.value=v.toString();else{var values=this.options.value.split(",");pointer.hasClass("low")?this.options.value=v+","+values[1]:this.options.value=values[0]+","+v}this.inputNode.val()!==this.options.value&&(this.inputNode.val(this.options.value).trigger("change"),this.options.onstatechange.call(this,this.options.value))},getValue:function(){return this.options.value},getOptions:function(){return this.options},getRange:function(){return this.options.from+","+this.options.to},isReadonly:function(){this.domNode.toggleClass("slider-readonly",this.options.disable)},disable:function(){this.options.disable=!0,this.isReadonly()},enable:function(){this.options.disable=!1,this.isReadonly()},toggleDisable:function(){this.options.disable=!this.options.disable,this.isReadonly()},updateRange:function(range,value){var values=range.toString().split(",");this.interval=parseInt(values[1])-parseInt(values[0]),value?this.setValue(value):this.setValue(this.getValue())}};var pluginName="jRange";$.fn[pluginName]=function(option){var result,args=arguments;return this.each(function(){var $this=$(this),data=$.data(this,"plugin_"+pluginName),options="object"==typeof option&&option;data||($this.data("plugin_"+pluginName,data=new jRange(this,options)),$(window).resize(function(){data.setValue(data.getValue())})),"string"==typeof option&&(result=data[option].apply(data,Array.prototype.slice.call(args,1)))}),result||this}}(jQuery,window,document),function($){function debug(msg,info){debugMode&&window.console&&window.console.log&&(info?window.console.log(info+": ",msg):window.console.log(msg))}var debugMode=!0;$.fn.extend({getUniqueId:function(p,q,r){return r=void 0===r?"":"-"+r,p+q+r},accessibleTabs:function(config){var defaults={wrapperClass:"content",currentClass:"current",tabhead:"h4",tabheadClass:"tabhead",tabbody:".tabbody",fx:"show",fxspeed:"normal",currentInfoText:"current tab: ",currentInfoPosition:"prepend",currentInfoClass:"current-info",tabsListClass:"tabs-list",syncheights:!1,syncHeightMethodName:"syncHeight",cssClassAvailable:!1,saveState:!1,autoAnchor:!1,pagination:!1,position:"top",wrapInnerNavLinks:"",firstNavItemClass:"first",lastNavItemClass:"last",clearfixClass:"clearfix"},keyCodes={37:-1,38:-1,39:1,40:1},positions={top:"prepend",bottom:"append"};this.options=$.extend(defaults,config);var tabsCount=0;void 0!==$("body").data("accessibleTabsCount")&&(tabsCount=$("body").data("accessibleTabsCount")),$("body").data("accessibleTabsCount",this.size()+tabsCount);var o=this;return this.each(function(t){var el=$(this),list="",tabCount=0,ids=[];$(el).wrapInner('<div class="'+o.options.wrapperClass+'"></div>'),$(el).find(o.options.tabhead).each(function(i){var id="";if(elId=$(this).attr("id"),elId){if(0===elId.indexOf("accessibletabscontent"))return;id=' id="'+elId+'"'}var tabId=o.getUniqueId("accessibletabscontent",tabsCount+t,i),navItemId=o.getUniqueId("accessibletabsnavigation",tabsCount+t,i);if(ids.push(tabId),o.options.cssClassAvailable===!0){var cssClass="";$(this).attr("class")&&(cssClass=$(this).attr("class"),cssClass=' class="'+cssClass+'"'),list+='<li id="'+navItemId+'"><a'+id+cssClass+' href="#'+tabId+'">'+$(this).html()+"</a></li>"}else list+='<li id="'+navItemId+'"><a'+id+' href="#'+tabId+'">'+$(this).html()+"</a></li>";$(this).attr({id:tabId,class:o.options.tabheadClass,tabindex:"-1"}),tabCount++}),o.options.syncheights&&$.fn[o.options.syncHeightMethodName]&&($(el).find(o.options.tabbody)[o.options.syncHeightMethodName](),$(window).resize(function(){$(el).find(o.options.tabbody)[o.options.syncHeightMethodName]()}));var tabs_selector="."+o.options.tabsListClass;$(el).find(tabs_selector).length||$(el)[positions[o.options.position]]('<ul class="'+o.options.clearfixClass+" "+o.options.tabsListClass+" tabamount"+tabCount+'"></ul>'),$(el).find(tabs_selector).append(list);var content=$(el).find(o.options.tabbody);if(content.length>0&&($(content).hide(),$(content[0]).show()),$(el).find("ul."+o.options.tabsListClass+">li:first").addClass(o.options.currentClass).addClass(o.options.firstNavItemClass).find("a")[o.options.currentInfoPosition]('<span class="'+o.options.currentInfoClass+'">'+o.options.currentInfoText+"</span>").parents("ul."+o.options.tabsListClass).children("li:last").addClass(o.options.lastNavItemClass),o.options.wrapInnerNavLinks&&$(el).find("ul."+o.options.tabsListClass+">li>a").wrapInner(o.options.wrapInnerNavLinks),$(el).find("ul."+o.options.tabsListClass+">li>a").each(function(i){$(this).click(function(event){event.preventDefault(),el.trigger("showTab.accessibleTabs",[$(event.target)]),o.options.saveState&&$.cookie&&$.cookie("accessibletab_"+el.attr("id")+"_active",i),$(el).find("ul."+o.options.tabsListClass+">li."+o.options.currentClass).removeClass(o.options.currentClass).find("span."+o.options.currentInfoClass).remove(),$(this).blur(),$(el).find(o.options.tabbody+":visible").hide(),$(el).find(o.options.tabbody).eq(i)[o.options.fx](o.options.fxspeed),$(this)[o.options.currentInfoPosition]('<span class="'+o.options.currentInfoClass+'">'+o.options.currentInfoText+"</span>").parent().addClass(o.options.currentClass),$($(this).attr("href")).focus().keyup(function(event){keyCodes[event.keyCode]&&(o.showAccessibleTab(i+keyCodes[event.keyCode]),$(this).unbind("keyup"))})}),$(this).focus(function(event){$(document).keyup(function(event){keyCodes[event.keyCode]&&o.showAccessibleTab(i+keyCodes[event.keyCode])})}),$(this).blur(function(event){$(document).unbind("keyup")})}),o.options.saveState&&$.cookie){var savedState=$.cookie("accessibletab_"+el.attr("id")+"_active");debug($.cookie("accessibletab_"+el.attr("id")+"_active")),null!==savedState&&o.showAccessibleTab(savedState,el.attr("id"))}if(o.options.autoAnchor&&window.location.hash){var anchorTab=$("."+o.options.tabsListClass).find(window.location.hash);anchorTab.size()&&anchorTab.click()}if(o.options.pagination){var m='<ul class="pagination">';m+='    <li class="previous"><a href="#{previousAnchor}"><span>{previousHeadline}</span></a></li>',m+='    <li class="next"><a href="#{nextAnchor}"><span>{nextHeadline}</span></a></li>',m+="</ul>";var tabs=$(el).find(".tabbody"),tabcount=tabs.size();tabs.each(function(idx){$(this).append(m);var next=idx+1;next>=tabcount&&(next=0);var previous=idx-1;previous<0&&(previous=tabcount-1);var p=$(this).find(".pagination"),previousEl=p.find(".previous");previousEl.find("span").text($("#"+ids[previous]).text()),previousEl.find("a").attr("href","#"+ids[previous]).click(function(event){event.preventDefault(),$(el).find(".tabs-list a").eq(previous).click()});var nextEl=p.find(".next");nextEl.find("span").text($("#"+ids[next]).text()),nextEl.find("a").attr("href","#"+ids[next]).click(function(event){event.preventDefault(),$(el).find(".tabs-list a").eq(next).click()})})}})},showAccessibleTab:function(index,id){debug("showAccessibleTab");var o=this;if(!id)return this.each(function(){var el=$(this);el.trigger("showTab.accessibleTabs");var links=el.find("ul."+o.options.tabsListClass+">li>a");el.trigger("showTab.accessibleTabs",[links.eq(index)]),links.eq(index).click()});var el=$("#"+id),links=el.find("ul."+o.options.tabsListClass+">li>a");el.trigger("showTab.accessibleTabs",[links.eq(index)]),links.eq(index).click()},showAccessibleTabSelector:function(selector){debug("showAccessibleTabSelector");var el=$(selector);el&&("a"==el.get(0).nodeName.toLowerCase()?el.click():debug("the selector of a showAccessibleTabSelector() call needs to point to a tabs headline!"))}})}(jQuery),jQuery.cookie=function(b,j,m){if("undefined"==typeof j){var d=null;if(document.cookie&&""!=document.cookie)for(var k=document.cookie.split(";"),h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==b+"="){d=decodeURIComponent(c.substring(b.length+1));break}}return d}m=m||{},null===j&&(j="",m.expires=-1);var e="";if(m.expires&&("number"==typeof m.expires||m.expires.toUTCString)){var f;"number"==typeof m.expires?(f=new Date,f.setTime(f.getTime()+24*m.expires*60*60*1e3)):f=m.expires,e="; expires="+f.toUTCString()}var l=m.path?"; path="+m.path:"",g=m.domain?"; domain="+m.domain:"",a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")},"undefined"==typeof Currency)var Currency={};Currency.cookie={configuration:{expires:365,path:"/",domain:window.location.hostname},name:"currency",write:function(currency){jQuery.cookie(this.name,currency,this.configuration)},read:function(){return jQuery.cookie(this.name)},destroy:function(){jQuery.cookie(this.name,null,this.configuration)}},Currency.moneyFormats={USD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} USD"},EUR:{money_format:"&euro;{{amount}}",money_with_currency_format:"&euro;{{amount}} EUR"},GBP:{money_format:"&pound;{{amount}}",money_with_currency_format:"&pound;{{amount}} GBP"},CAD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} CAD"},ALL:{money_format:"Lek {{amount}}",money_with_currency_format:"Lek {{amount}} ALL"},DZD:{money_format:"DA {{amount}}",money_with_currency_format:"DA {{amount}} DZD"},AOA:{money_format:"Kz{{amount}}",money_with_currency_format:"Kz{{amount}} AOA"},ARS:{money_format:"${{amount_with_comma_separator}}",money_with_currency_format:"${{amount_with_comma_separator}} ARS"},AMD:{money_format:"{{amount}} AMD",money_with_currency_format:"{{amount}} AMD"},AWG:{money_format:"Afl{{amount}}",money_with_currency_format:"Afl{{amount}} AWG"},AUD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} AUD"},BBD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} Bds"},AZN:{money_format:"m.{{amount}}",money_with_currency_format:"m.{{amount}} AZN"},BDT:{money_format:"Tk {{amount}}",money_with_currency_format:"Tk {{amount}} BDT"},BSD:{money_format:"BS${{amount}}",money_with_currency_format:"BS${{amount}} BSD"},BHD:{money_format:"{{amount}}0 BD",money_with_currency_format:"{{amount}}0 BHD"},BYR:{money_format:"Br {{amount}}",money_with_currency_format:"Br {{amount}} BYR"},BZD:{money_format:"BZ${{amount}}",money_with_currency_format:"BZ${{amount}} BZD"},BTN:{money_format:"Nu {{amount}}",money_with_currency_format:"Nu {{amount}} BTN"},BAM:{money_format:"KM {{amount_with_comma_separator}}",money_with_currency_format:"KM {{amount_with_comma_separator}} BAM"},BRL:{money_format:"R$ {{amount_with_comma_separator}}",money_with_currency_format:"R$ {{amount_with_comma_separator}} BRL"},BOB:{money_format:"Bs{{amount_with_comma_separator}}",money_with_currency_format:"Bs{{amount_with_comma_separator}} BOB"},BWP:{money_format:"P{{amount}}",money_with_currency_format:"P{{amount}} BWP"},BND:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} BND"},BGN:{money_format:"{{amount}} ",money_with_currency_format:"{{amount}}  BGN"},MMK:{money_format:"K{{amount}}",money_with_currency_format:"K{{amount}} MMK"},KHR:{money_format:"KHR{{amount}}",money_with_currency_format:"KHR{{amount}}"},KYD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} KYD"},XAF:{money_format:"FCFA{{amount}}",money_with_currency_format:"FCFA{{amount}} XAF"},CLP:{money_format:"${{amount_no_decimals}}",money_with_currency_format:"${{amount_no_decimals}} CLP"},CNY:{money_format:"&#165;{{amount}}",money_with_currency_format:"&#165;{{amount}} CNY"},COP:{money_format:"${{amount_with_comma_separator}}",money_with_currency_format:"${{amount_with_comma_separator}} COP"},CRC:{money_format:"&#8353; {{amount_with_comma_separator}}",money_with_currency_format:"&#8353; {{amount_with_comma_separator}} CRC"},HRK:{money_format:"{{amount_with_comma_separator}} kn",money_with_currency_format:"{{amount_with_comma_separator}} kn HRK"},CZK:{money_format:"{{amount_with_comma_separator}} K&#269;",money_with_currency_format:"{{amount_with_comma_separator}} K&#269;"},DKK:{money_format:"{{amount_with_comma_separator}}",money_with_currency_format:"kr.{{amount_with_comma_separator}}"},DOP:{money_format:"RD$ {{amount}}",money_with_currency_format:"RD$ {{amount}}"},XCD:{money_format:"${{amount}}",money_with_currency_format:"EC${{amount}}"},EGP:{money_format:"LE {{amount}}",money_with_currency_format:"LE {{amount}} EGP"},ETB:{money_format:"Br{{amount}}",money_with_currency_format:"Br{{amount}} ETB"},XPF:{money_format:"{{amount_no_decimals_with_comma_separator}} XPF",money_with_currency_format:"{{amount_no_decimals_with_comma_separator}} XPF"},FJD:{money_format:"${{amount}}",money_with_currency_format:"FJ${{amount}}"},GMD:{money_format:"D {{amount}}",money_with_currency_format:"D {{amount}} GMD"},GHS:{money_format:"GH&#8373;{{amount}}",money_with_currency_format:"GH&#8373;{{amount}}"},GTQ:{money_format:"Q{{amount}}",money_with_currency_format:"{{amount}} GTQ"},GYD:{money_format:"G${{amount}}",money_with_currency_format:"${{amount}} GYD"},GEL:{money_format:"{{amount}} GEL",money_with_currency_format:"{{amount}} GEL"},HNL:{money_format:"L {{amount}}",money_with_currency_format:"L {{amount}} HNL"},HKD:{money_format:"${{amount}}",money_with_currency_format:"HK${{amount}}"},HUF:{money_format:"{{amount_no_decimals_with_comma_separator}}",money_with_currency_format:"{{amount_no_decimals_with_comma_separator}} Ft"},ISK:{money_format:"{{amount_no_decimals}} kr",money_with_currency_format:"{{amount_no_decimals}} kr ISK"},INR:{money_format:"Rs. {{amount}}",money_with_currency_format:"Rs. {{amount}}"},IDR:{money_format:"{{amount_with_comma_separator}}",money_with_currency_format:"Rp {{amount_with_comma_separator}}"},ILS:{money_format:"{{amount}} NIS",money_with_currency_format:"{{amount}} NIS"},JMD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} JMD"},JPY:{money_format:"&#165;{{amount_no_decimals}}",money_with_currency_format:"&#165;{{amount_no_decimals}} JPY"},JEP:{money_format:"&pound;{{amount}}",money_with_currency_format:"&pound;{{amount}} JEP"},JOD:{money_format:"{{amount}}0 JD",money_with_currency_format:"{{amount}}0 JOD"},KZT:{money_format:"{{amount}} KZT",money_with_currency_format:"{{amount}} KZT"},KES:{money_format:"KSh{{amount}}",money_with_currency_format:"KSh{{amount}}"},KWD:{money_format:"{{amount}}0 KD",money_with_currency_format:"{{amount}}0 KWD"},KGS:{money_format:"{{amount}}",money_with_currency_format:"{{amount}}"},LVL:{money_format:"Ls {{amount}}",money_with_currency_format:"Ls {{amount}} LVL"},LBP:{money_format:"L&pound;{{amount}}",money_with_currency_format:"L&pound;{{amount}} LBP"},LTL:{money_format:"{{amount}} Lt",money_with_currency_format:"{{amount}} Lt"},MGA:{money_format:"Ar {{amount}}",money_with_currency_format:"Ar {{amount}} MGA"},MKD:{money_format:" {{amount}}",money_with_currency_format:" {{amount}} MKD"},MOP:{money_format:"MOP${{amount}}",money_with_currency_format:"MOP${{amount}}"},MVR:{money_format:"Rf{{amount}}",money_with_currency_format:"Rf{{amount}} MRf"},MXN:{money_format:"$ {{amount}}",money_with_currency_format:"$ {{amount}} MXN"},MYR:{money_format:"RM{{amount}} MYR",money_with_currency_format:"RM{{amount}} MYR"},MUR:{money_format:"Rs {{amount}}",money_with_currency_format:"Rs {{amount}} MUR"},MDL:{money_format:"{{amount}} MDL",money_with_currency_format:"{{amount}} MDL"},MAD:{money_format:"{{amount}} dh",money_with_currency_format:"Dh {{amount}} MAD"},MNT:{money_format:"{{amount_no_decimals}} &#8366",money_with_currency_format:"{{amount_no_decimals}} MNT"},MZN:{money_format:"{{amount}} Mt",money_with_currency_format:"Mt {{amount}} MZN"},NAD:{money_format:"N${{amount}}",money_with_currency_format:"N${{amount}} NAD"},NPR:{money_format:"Rs{{amount}}",money_with_currency_format:"Rs{{amount}} NPR"},ANG:{money_format:"&fnof;{{amount}}",money_with_currency_format:"{{amount}} NA&fnof;"},NZD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} NZD"},NIO:{money_format:"C${{amount}}",money_with_currency_format:"C${{amount}} NIO"},NGN:{money_format:"&#8358;{{amount}}",money_with_currency_format:"&#8358;{{amount}} NGN"},NOK:{money_format:"kr {{amount_with_comma_separator}}",money_with_currency_format:"kr {{amount_with_comma_separator}} NOK"},OMR:{money_format:"{{amount_with_comma_separator}} OMR",money_with_currency_format:"{{amount_with_comma_separator}} OMR"},PKR:{money_format:"Rs.{{amount}}",money_with_currency_format:"Rs.{{amount}} PKR"},PGK:{money_format:"K {{amount}}",money_with_currency_format:"K {{amount}} PGK"},PYG:{money_format:"Gs. {{amount_no_decimals_with_comma_separator}}",money_with_currency_format:"Gs. {{amount_no_decimals_with_comma_separator}} PYG"},PEN:{money_format:"S/. {{amount}}",money_with_currency_format:"S/. {{amount}} PEN"},PHP:{money_format:"&#8369;{{amount}}",money_with_currency_format:"&#8369;{{amount}} PHP"},PLN:{money_format:"{{amount_with_comma_separator}} zl",money_with_currency_format:"{{amount_with_comma_separator}} zl PLN"},QAR:{money_format:"QAR {{amount_with_comma_separator}}",money_with_currency_format:"QAR {{amount_with_comma_separator}}"},RON:{money_format:"{{amount_with_comma_separator}} lei",money_with_currency_format:"{{amount_with_comma_separator}} lei RON"},RUB:{money_format:"&#1088;&#1091;&#1073;{{amount_with_comma_separator}}",money_with_currency_format:"&#1088;&#1091;&#1073;{{amount_with_comma_separator}} RUB"},RWF:{money_format:"{{amount_no_decimals}} RF",money_with_currency_format:"{{amount_no_decimals}} RWF"},WST:{money_format:"WS$ {{amount}}",money_with_currency_format:"WS$ {{amount}} WST"},SAR:{money_format:"{{amount}} SR",money_with_currency_format:"{{amount}} SAR"},STD:{money_format:"Db {{amount}}",money_with_currency_format:"Db {{amount}} STD"},RSD:{money_format:"{{amount}} RSD",money_with_currency_format:"{{amount}} RSD"},SCR:{money_format:"Rs {{amount}}",money_with_currency_format:"Rs {{amount}} SCR"},SGD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} SGD"},SYP:{money_format:"S&pound;{{amount}}",money_with_currency_format:"S&pound;{{amount}} SYP"},ZAR:{money_format:"R {{amount}}",money_with_currency_format:"R {{amount}} ZAR"},KRW:{money_format:"&#8361;{{amount_no_decimals}}",money_with_currency_format:"&#8361;{{amount_no_decimals}} KRW"},LKR:{money_format:"Rs {{amount}}",money_with_currency_format:"Rs {{amount}} LKR"},SEK:{money_format:"{{amount_no_decimals}} kr",money_with_currency_format:"{{amount_no_decimals}} kr SEK"},CHF:{money_format:"SFr. {{amount}}",money_with_currency_format:"SFr. {{amount}} CHF"},TWD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} TWD"},THB:{money_format:"{{amount}} &#xe3f;",money_with_currency_format:"{{amount}} &#xe3f; THB"},TZS:{money_format:"{{amount}} TZS",money_with_currency_format:"{{amount}} TZS"},TTD:{money_format:"${{amount}}",money_with_currency_format:"${{amount}} TTD"},TND:{money_format:"{{amount}}",money_with_currency_format:"{{amount}} DT"},TRY:{money_format:"{{amount}}TL",money_with_currency_format:"{{amount}}TL"},UGX:{money_format:"Ush {{amount_no_decimals}}",money_with_currency_format:"Ush {{amount_no_decimals}} UGX"},UAH:{money_format:"{{amount}}",money_with_currency_format:"{{amount}} UAH"},AED:{money_format:"Dhs. {{amount}}",money_with_currency_format:"Dhs. {{amount}} AED"},UYU:{money_format:"${{amount_with_comma_separator}}",money_with_currency_format:"${{amount_with_comma_separator}} UYU"},VUV:{money_format:"${{amount}}",money_with_currency_format:"${{amount}}VT"},VEF:{money_format:"Bs. {{amount_with_comma_separator}}",money_with_currency_format:"Bs. {{amount_with_comma_separator}} VEF"},VND:{money_format:"{{amount_no_decimals_with_comma_separator}}&#8363;",money_with_currency_format:"{{amount_no_decimals_with_comma_separator}} VND"},XBT:{money_format:"{{amount_no_decimals}} BTC",money_with_currency_format:"{{amount_no_decimals}} BTC"},XOF:{money_format:"CFA{{amount}}",money_with_currency_format:"CFA{{amount}} XOF"},ZMW:{money_format:"K{{amount_no_decimals_with_comma_separator}}",money_with_currency_format:"ZMW{{amount_no_decimals_with_comma_separator}}"}},Currency.formatMoney=function(cents,format){function defaultOption(opt,def){return"undefined"==typeof opt?def:opt}function formatWithDelimiters(number,precision,thousands,decimal){if(precision=defaultOption(precision,2),thousands=defaultOption(thousands,","),decimal=defaultOption(decimal,"."),isNaN(number)||null==number)return 0;number=(number/100).toFixed(precision);var parts=number.split("."),dollars=parts[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+thousands),cents=parts[1]?decimal+parts[1]:"";return dollars+cents}if("function"==typeof Shopify.formatMoney)return Shopify.formatMoney(cents,format);"string"==typeof cents&&(cents=cents.replace(".",""));var value="",placeholderRegex=/\{\{\s*(\w+)\s*\}\}/,formatString=format||"${{amount}}";switch(formatString.match(placeholderRegex)[1]){case"amount":value=formatWithDelimiters(cents,2);break;case"amount_no_decimals":value=formatWithDelimiters(cents,0);break;case"amount_with_comma_separator":value=formatWithDelimiters(cents,2,".",",");break;case"amount_no_decimals_with_comma_separator":value=formatWithDelimiters(cents,0,".",",")}return formatString.replace(placeholderRegex,value)},Currency.currentCurrency="",Currency.format="money_with_currency_format",Currency.convertAll=function(oldCurrency,newCurrency,selector,format){jQuery(selector||"span.money").each(function(){if(jQuery(this).attr("data-currency")!==newCurrency){if(jQuery(this).attr("data-currency-"+newCurrency))jQuery(this).html(jQuery(this).attr("data-currency-"+newCurrency));else{var cents=0,oldFormat=Currency.moneyFormats[oldCurrency][format||Currency.format]||"{{amount}}",newFormat=Currency.moneyFormats[newCurrency][format||Currency.format]||"{{amount}}";cents=oldFormat.indexOf("amount_no_decimals")!==-1?Currency.convert(100*parseInt(jQuery(this).html().replace(/[^0-9]/g,""),10),oldCurrency,newCurrency):"JOD"===oldCurrency||"KWD"==oldCurrency||"BHD"==oldCurrency?Currency.convert(parseInt(jQuery(this).html().replace(/[^0-9]/g,""),10)/10,oldCurrency,newCurrency):Currency.convert(parseInt(jQuery(this).html().replace(/[^0-9]/g,""),10),oldCurrency,newCurrency);var newFormattedAmount=Currency.formatMoney(cents,newFormat);jQuery(this).html(newFormattedAmount),jQuery(this).attr("data-currency-"+newCurrency,newFormattedAmount)}jQuery(this).attr("data-currency",newCurrency)}}),this.currentCurrency=newCurrency,this.cookie.write(newCurrency)},function($){$.extend($.fn,{validate:function(options){if(!this.length)return void(options&&options.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var validator=$.data(this[0],"validator");return validator?validator:(this.attr("novalidate","novalidate"),validator=new $.validator(options,this[0]),$.data(this[0],"validator",validator),validator.settings.onsubmit&&(this.validateDelegate(":submit","click",function(event){validator.settings.submitHandler&&(validator.submitButton=event.target),$(event.target).hasClass("cancel")&&(validator.cancelSubmit=!0)}),this.submit(function(event){function handle(){var hidden;return!validator.settings.submitHandler||(validator.submitButton&&(hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm)),validator.settings.submitHandler.call(validator,validator.currentForm,event),validator.submitButton&&hidden.remove(),!1)}return validator.settings.debug&&event.preventDefault(),validator.cancelSubmit?(validator.cancelSubmit=!1,handle()):validator.form()?validator.pendingRequest?(validator.formSubmitted=!0,!1):handle():(validator.focusInvalid(),!1)})),validator)},valid:function(){if($(this[0]).is("form"))return this.validate().form();var valid=!0,validator=$(this[0].form).validate();return this.each(function(){valid&=validator.element(this)}),valid},removeAttrs:function(attributes){var result={},$element=this;return $.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value),$element.removeAttr(value)}),result},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,"validator").settings,staticRules=settings.rules,existingRules=$.validator.staticRules(element);
switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument)),staticRules[element.name]=existingRules,argument.messages&&(settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages));break;case"remove":if(!argument)return delete staticRules[element.name],existingRules;var filtered={};return $.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method],delete existingRules[method]}),filtered}}var data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required,data=$.extend({required:param},data)}return data}}),$.extend($.expr[":"],{blank:function(a){return!$.trim(""+a.value)},filled:function(a){return!!$.trim(""+a.value)},unchecked:function(a){return!a.checked}}),$.validator=function(options,form){this.settings=$.extend(!0,{},$.validator.defaults,options),this.currentForm=form,this.init()},$.validator.format=function(source,params){return 1===arguments.length?function(){var args=$.makeArray(arguments);return args.unshift(source),$.validator.format.apply(this,args)}:(arguments.length>2&&params.constructor!==Array&&(params=$.makeArray(arguments).slice(1)),params.constructor!==Array&&(params=[params]),$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n})}),source)},$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(element,event){this.lastActive=element,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(element)).hide())},onfocusout:function(element,event){this.checkable(element)||!(element.name in this.submitted)&&this.optional(element)||this.element(element)},onkeyup:function(element,event){9===event.which&&""===this.elementValue(element)||(element.name in this.submitted||element===this.lastElement)&&this.element(element)},onclick:function(element,event){element.name in this.submitted?this.element(element):element.parentNode.name in this.submitted&&this.element(element.parentNode)},highlight:function(element,errorClass,validClass){"radio"===element.type?this.findByName(element.name).addClass(errorClass).removeClass(validClass):$(element).addClass(errorClass).removeClass(validClass)},unhighlight:function(element,errorClass,validClass){"radio"===element.type?this.findByName(element.name).removeClass(errorClass).addClass(validClass):$(element).removeClass(errorClass).addClass(validClass)}},setDefaults:function(settings){$.extend($.validator.defaults,settings)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");validator.settings[eventType]&&validator.settings[eventType].call(validator,this[0],event)}this.labelContainer=$(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm),this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var groups=this.groups={};$.each(this.settings.groups,function(key,value){"string"==typeof value&&(value=value.split(/\s/)),$.each(value,function(index,name){groups[name]=key})});var rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value)}),$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",delegate).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",delegate),this.settings.invalidHandler&&$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),$.extend(this.submitted,this.errorMap),this.invalid=$.extend({},this.errorMap),this.valid()||$(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=this.currentElements=this.elements();elements[i];i++)this.check(elements[i]);return this.valid()},element:function(element){element=this.validationTargetFor(this.clean(element)),this.lastElement=element,this.prepareElement(element),this.currentElements=$(element);var result=this.check(element)!==!1;return result?delete this.invalid[element.name]:this.invalid[element.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),result},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors),this.errorList=[];for(var name in errors)this.errorList.push({message:errors[name],element:this.findByName(name)[0]});this.successList=$.grep(this.successList,function(element){return!(element.name in errors)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){$.fn.resetForm&&$(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(obj){var count=0;for(var i in obj)count++;return count},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&1===$.grep(this.errorList,function(n){return n.element.name===lastActive.name}).length&&lastActive},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&validator.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in rulesCache||!validator.objectLength($(this).rules()))&&(rulesCache[this.name]=!0,!0)})},clean:function(selector){return $(selector)[0]},errors:function(){var errorClass=this.settings.errorClass.replace(" ",".");return $(this.settings.errorElement+"."+errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=$([]),this.toHide=$([]),this.currentElements=$([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(element){this.reset(),this.toHide=this.errorsFor(element)},elementValue:function(element){var type=$(element).attr("type"),val=$(element).val();return"radio"===type||"checkbox"===type?$("input[name='"+$(element).attr("name")+"']:checked").val():"string"==typeof val?val.replace(/\r/g,""):val},check:function(element){element=this.validationTargetFor(this.clean(element));var result,rules=$(element).rules(),dependencyMismatch=!1,val=this.elementValue(element);for(var method in rules){var rule={method:method,parameters:rules[method]};try{if(result=$.validator.methods[method].call(this,val,element,rule.parameters),"dependency-mismatch"===result){dependencyMismatch=!0;continue}if(dependencyMismatch=!1,"pending"===result)return void(this.toHide=this.toHide.not(this.errorsFor(element)));if(!result)return this.formatAndAdd(element,rule),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occured when checking element "+element.id+", check the '"+rule.method+"' method.",e),e}}if(!dependencyMismatch)return this.objectLength(rules)&&this.successList.push(element),!0},customDataMessage:function(element,method){return $(element).data("msg-"+method.toLowerCase())||element.attributes&&$(element).attr("data-msg-"+method.toLowerCase())},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method])},findDefined:function(){for(var i=0;i<arguments.length;i++)if(void 0!==arguments[i])return arguments[i]},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customDataMessage(element,method),!this.settings.ignoreTitle&&element.title||void 0,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>")},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;"function"==typeof message?message=message.call(this,rule.parameters,element):theregex.test(message)&&(message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters)),this.errorList.push({message:message,element:element}),this.errorMap[element.name]=message,this.submitted[element.name]=message},addWrapper:function(toToggle){return this.settings.wrapper&&(toToggle=toToggle.add(toToggle.parent(this.settings.wrapper))),toToggle},defaultShowErrors:function(){var i,elements;for(i=0;this.errorList[i];i++){var error=this.errorList[i];this.settings.highlight&&this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass),this.showLabel(error.element,error.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,elements=this.validElements();elements[i];i++)this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(element,message){var label=this.errorsFor(element);label.length?(label.removeClass(this.settings.validClass).addClass(this.settings.errorClass),label.html(message)):(label=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(element)).addClass(this.settings.errorClass).html(message||""),this.settings.wrapper&&(label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(label).length||(this.settings.errorPlacement?this.settings.errorPlacement(label,$(element)):label.insertAfter(element))),!message&&this.settings.success&&(label.text(""),"string"==typeof this.settings.success?label.addClass(this.settings.success):this.settings.success(label,element)),this.toShow=this.toShow.add(label)},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr("for")===name})},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name)},validationTargetFor:function(element){return this.checkable(element)&&(element=this.findByName(element.name).not(this.settings.ignore)[0]),element},checkable:function(element){return/radio|checkbox/i.test(element.type)},findByName:function(name){return $(this.currentForm).find("[name='"+name+"']")},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element))return this.findByName(element.name).filter(":checked").length}return value.length},depend:function(param,element){return!this.dependTypes[typeof param]||this.dependTypes[typeof param](param,element)},dependTypes:{boolean:function(param,element){return param},string:function(param,element){return!!$(param,element.form).length},function:function(param,element){return param(element)}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch"},startRequest:function(element){this.pending[element.name]||(this.pendingRequest++,this.pending[element.name]=!0)},stopRequest:function(element,valid){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[element.name],valid&&0===this.pendingRequest&&this.formSubmitted&&this.form()?($(this.currentForm).submit(),this.formSubmitted=!1):!valid&&0===this.pendingRequest&&this.formSubmitted&&($(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:!0,message:this.defaultMessage(element,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(className,rules){className.constructor===String?this.classRuleSettings[className]=rules:$.extend(this.classRuleSettings,className)},classRules:function(element){var rules={},classes=$(element).attr("class");return classes&&$.each(classes.split(" "),function(){this in $.validator.classRuleSettings&&$.extend(rules,$.validator.classRuleSettings[this])}),rules},attributeRules:function(element){var rules={},$element=$(element);for(var method in $.validator.methods){var value;"required"===method?(value=$element.get(0).getAttribute(method),""===value&&(value=!0),value=!!value):value=$element.attr(method),value?rules[method]=value:$element[0].getAttribute("type")===method&&(rules[method]=!0)}return rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)&&delete rules.maxlength,rules},dataRules:function(element){var method,value,rules={},$element=$(element);for(method in $.validator.methods)value=$element.data("rule-"+method.toLowerCase()),void 0!==value&&(rules[method]=value);return rules},staticRules:function(element){var rules={},validator=$.data(element.form,"validator");return validator.settings.rules&&(rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{}),rules},normalizeRules:function(rules,element){return $.each(rules,function(prop,val){if(val===!1)return void delete rules[prop];if(val.param||val.depends){var keepRule=!0;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element)}keepRule?rules[prop]=void 0===val.param||val.param:delete rules[prop]}}),$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter}),$.each(["minlength","maxlength"],function(){rules[this]&&(rules[this]=Number(rules[this]))}),$.each(["rangelength"],function(){var parts;rules[this]&&($.isArray(rules[this])?rules[this]=[Number(rules[this][0]),Number(rules[this][1])]:"string"==typeof rules[this]&&(parts=rules[this].split(/[\s,]+/),rules[this]=[Number(parts[0]),Number(parts[1])]))}),$.validator.autoCreateRanges&&(rules.min&&rules.max&&(rules.range=[rules.min,rules.max],delete rules.min,delete rules.max),rules.minlength&&rules.maxlength&&(rules.rangelength=[rules.minlength,rules.maxlength],delete rules.minlength,delete rules.maxlength)),rules},normalizeRule:function(data){if("string"==typeof data){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=!0}),data=transformed}return data},addMethod:function(name,method,message){$.validator.methods[name]=method,$.validator.messages[name]=void 0!==message?message:$.validator.messages[name],method.length<3&&$.validator.addClassRules(name,$.validator.normalizeRule(name))},methods:{required:function(value,element,param){if(!this.depend(param,element))return"dependency-mismatch";if("select"===element.nodeName.toLowerCase()){var val=$(element).val();return val&&val.length>0}return this.checkable(element)?this.getLength(value,element)>0:$.trim(value).length>0},remote:function(value,element,param){if(this.optional(element))return"dependency-mismatch";var previous=this.previousValue(element);if(this.settings.messages[element.name]||(this.settings.messages[element.name]={}),previous.originalMessage=this.settings.messages[element.name].remote,this.settings.messages[element.name].remote=previous.message,param="string"==typeof param&&{url:param}||param,previous.old===value)return previous.valid;previous.old=value;var validator=this;this.startRequest(element);var data={};return data[element.name]=value,$.ajax($.extend(!0,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response===!0||"true"===response;if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element),validator.formSubmitted=submitted,validator.successList.push(element),delete validator.invalid[element.name],validator.showErrors()}else{var errors={},message=response||validator.defaultMessage(element,"remote");errors[element.name]=previous.message=$.isFunction(message)?message(value):message,validator.invalid[element.name]=!0,validator.showErrors(errors)}previous.valid=valid,validator.stopRequest(element,valid)}},param)),"pending"},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length>=param},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length<=param},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length>=param[0]&&length<=param[1]},min:function(value,element,param){return this.optional(element)||value>=param},max:function(value,element,param){return this.optional(element)||value<=param},range:function(value,element,param){return this.optional(element)||value>=param[0]&&value<=param[1]},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(value)},url:function(value,element){return this.optional(element)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString())},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(value)},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value)},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value)},creditcard:function(value,element){if(this.optional(element))return"dependency-mismatch";if(/[^0-9 \-]+/.test(value))return!1;var nCheck=0,nDigit=0,bEven=!1;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);nDigit=parseInt(cDigit,10),bEven&&(nDigit*=2)>9&&(nDigit-=9),nCheck+=nDigit,bEven=!bEven}return nCheck%10===0},equalTo:function(value,element,param){var target=$(param);return this.settings.onfocusout&&target.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid()}),value===target.val()}}}),$.format=$.validator.format}(jQuery),function($){var pendingRequests={};if($.ajaxPrefilter)$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;"abort"===settings.mode&&(pendingRequests[port]&&pendingRequests[port].abort(),pendingRequests[port]=xhr)});else{var ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;return"abort"===mode?(pendingRequests[port]&&pendingRequests[port].abort(),pendingRequests[port]=ajax.apply(this,arguments)):ajax.apply(this,arguments)}}}(jQuery),function($){$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate))return handler.apply(target,arguments)})}})}(jQuery),function($){$.extend($.fn,{swapClass:function(c1,c2){var c1Elements=this.filter("."+c1);return this.filter("."+c2).removeClass(c2).addClass(c1),c1Elements.removeClass(c1).addClass(c2),this},replaceClass:function(c1,c2){return this.filter("."+c1).removeClass(c1).addClass(c2).end()},hoverClass:function(className){return className=className||"hover",this.hover(function(){$(this).addClass(className)},function(){$(this).removeClass(className)})},heightToggle:function(animated,callback){animated?this.animate({height:"toggle"},animated,callback):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"](),callback&&callback.apply(this,arguments)})},heightHide:function(animated,callback){animated?this.animate({height:"hide"},animated,callback):(this.hide(),callback&&this.each(callback))},prepareBranches:function(settings){return settings.prerendered||(this.filter(":last-child:not(ul)").addClass(CLASSES.last),this.filter((settings.collapsed?"":"."+CLASSES.closed)+":not(."+CLASSES.open+")").find(">ul").hide()),this.filter(":has(>ul)")},applyClasses:function(settings,toggler){if(this.filter(":has(>ul):not(:has(>a))").find(">span").unbind("click.treeview").bind("click.treeview",function(event){this==event.target&&toggler.apply($(this).next())}).add($("a",this)).hoverClass(),!settings.prerendered){this.filter(":has(>ul:hidden)").addClass(CLASSES.expandable).replaceClass(CLASSES.last,CLASSES.lastExpandable),this.not(":has(>ul:hidden)").addClass(CLASSES.collapsable).replaceClass(CLASSES.last,CLASSES.lastCollapsable);var hitarea=this.find("div."+CLASSES.hitarea);hitarea.length||(hitarea=this.prepend('<div class="'+CLASSES.hitarea+'"/>').find("div."+CLASSES.hitarea)),hitarea.removeClass().addClass(CLASSES.hitarea).each(function(){var classes="";$.each($(this).parent().attr("class").split(" "),function(){classes+=this+"-hitarea "}),$(this).addClass(classes)})}this.find("div."+CLASSES.hitarea).click(toggler)},treeview:function(settings){function treeController(tree,control){function handler(filter){return function(){return toggler.apply($("div."+CLASSES.hitarea,tree).filter(function(){return!filter||$(this).parent("."+filter).length})),!1}}$("a:eq(0)",control).click(handler(CLASSES.collapsable)),$("a:eq(1)",control).click(handler(CLASSES.expandable)),$("a:eq(2)",control).click(handler())}function toggler(){$(this).parent().find(">.hitarea").swapClass(CLASSES.collapsableHitarea,CLASSES.expandableHitarea).swapClass(CLASSES.lastCollapsableHitarea,CLASSES.lastExpandableHitarea).end().swapClass(CLASSES.collapsable,CLASSES.expandable).swapClass(CLASSES.lastCollapsable,CLASSES.lastExpandable).find(">ul").heightToggle(settings.animated,settings.toggle),settings.unique&&$(this).parent().siblings().find(">.hitarea").replaceClass(CLASSES.collapsableHitarea,CLASSES.expandableHitarea).replaceClass(CLASSES.lastCollapsableHitarea,CLASSES.lastExpandableHitarea).end().replaceClass(CLASSES.collapsable,CLASSES.expandable).replaceClass(CLASSES.lastCollapsable,CLASSES.lastExpandable).find(">ul").heightHide(settings.animated,settings.toggle)}function serialize(){var data=[];branches.each(function(i,e){data[i]=$(e).is(":has(>ul:visible)")?1:0}),$.cookie(settings.cookieId,data.join(""),settings.cookieOptions)}function deserialize(){var stored=$.cookie(settings.cookieId);if(stored){var data=stored.split("");branches.each(function(i,e){$(e).find(">ul")[parseInt(data[i])?"show":"hide"]()})}}if(settings=$.extend({cookieId:"treeview"},settings),settings.toggle){var callback=settings.toggle;settings.toggle=function(){return callback.apply($(this).parent()[0],arguments)}}this.data("toggler",toggler),this.addClass("treeview");var branches=this.find("li").prepareBranches(settings);switch(settings.persist){case"cookie":var toggleCallback=settings.toggle;settings.toggle=function(){serialize(),toggleCallback&&toggleCallback.apply(this,arguments)},deserialize();break;case"location":var current=this.find("a").filter(function(){return 0==location.href.toLowerCase().indexOf(this.href.toLowerCase())});if(current.length){var items=current.addClass("selected").parents("ul, li").add(current.next()).show();settings.prerendered&&items.filter("li").swapClass(CLASSES.collapsable,CLASSES.expandable).swapClass(CLASSES.lastCollapsable,CLASSES.lastExpandable).find(">.hitarea").swapClass(CLASSES.collapsableHitarea,CLASSES.expandableHitarea).swapClass(CLASSES.lastCollapsableHitarea,CLASSES.lastExpandableHitarea)}}return branches.applyClasses(settings,toggler),settings.control&&(treeController(this,settings.control),$(settings.control).show()),this}}),$.treeview={};var CLASSES=$.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"}}(jQuery),Function.prototype.bind||(Function.prototype.bind=function(oThis){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP&&oThis?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))};return fNOP.prototype=this.prototype,fBound.prototype=new fNOP,fBound}),String.prototype.trim||(String.whiteSpace=[],String.whiteSpace[9]=!0,String.whiteSpace[10]=!0,String.whiteSpace[11]=!0,String.whiteSpace[12]=!0,String.whiteSpace[13]=!0,String.whiteSpace[32]=!0,String.whiteSpace[133]=!0,String.whiteSpace[160]=!0,String.whiteSpace[5760]=!0,String.whiteSpace[6158]=!0,String.whiteSpace[8192]=!0,String.whiteSpace[8193]=!0,String.whiteSpace[8194]=!0,String.whiteSpace[8195]=!0,String.whiteSpace[8196]=!0,String.whiteSpace[8197]=!0,String.whiteSpace[8198]=!0,String.whiteSpace[8199]=!0,String.whiteSpace[8200]=!0,String.whiteSpace[8201]=!0,String.whiteSpace[8202]=!0,String.whiteSpace[8203]=!0,String.whiteSpace[8232]=!0,String.whiteSpace[8233]=!0,String.whiteSpace[8239]=!0,String.whiteSpace[8287]=!0,String.whiteSpace[12288]=!0,String.prototype.trim=function(){var len=this.length;if(len){for(var whiteSpace=String.whiteSpace,i=0;whiteSpace[this.charCodeAt(--len)];);if(++len)for(;whiteSpace[this.charCodeAt(i)];)++i;return this.substring(i,len)}return this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement,fromIndex){var k;if(null==this)throw new TypeError('"this" is null or not defined');var O=Object(this),len=O.length>>>0;if(0===len)return-1;var n=+fromIndex||0;if(Math.abs(n)===1/0&&(n=0),n>=len)return-1;for(k=Math.max(n>=0?n:len-Math.abs(n),0);k<len;){if(k in O&&O[k]===searchElement)return k;k++}return-1}),Object.keys||(Object.keys=function(){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if("object"!=typeof obj&&("function"!=typeof obj||null===obj))throw new TypeError("Object.keys called on non-object");var prop,i,result=[];for(prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result}}()),function(root,factory){if("function"==typeof define&&define.amd)define(["jquery"],factory);else if("object"==typeof module&&module.exports){var jQuery;try{jQuery=require("jquery")}catch(err){jQuery=null}module.exports=factory(jQuery)}else root.Slider=factory(root.jQuery)}(this,function($){var Slider;return function($){"use strict";function noop(){}function defineBridget($){function addOptionMethod(PluginClass){PluginClass.prototype.option||(PluginClass.prototype.option=function(opts){$.isPlainObject(opts)&&(this.options=$.extend(!0,this.options,opts))})}function bridge(namespace,PluginClass){$.fn[namespace]=function(options){if("string"==typeof options){for(var args=slice.call(arguments,1),i=0,len=this.length;i<len;i++){var elem=this[i],instance=$.data(elem,namespace);if(instance)if($.isFunction(instance[options])&&"_"!==options.charAt(0)){var returnValue=instance[options].apply(instance,args);if(void 0!==returnValue&&returnValue!==instance)return returnValue}else logError("no such method '"+options+"' for "+namespace+" instance");else logError("cannot call methods on "+namespace+" prior to initialization; attempted to call '"+options+"'");
}return this}var objects=this.map(function(){var instance=$.data(this,namespace);return instance?(instance.option(options),instance._init()):(instance=new PluginClass(this,options),$.data(this,namespace,instance)),$(this)});return!objects||objects.length>1?objects:objects[0]}}if($){var logError="undefined"==typeof console?noop:function(message){console.error(message)};return $.bridget=function(namespace,PluginClass){addOptionMethod(PluginClass),bridge(namespace,PluginClass)},$.bridget}}var slice=Array.prototype.slice;defineBridget($)}($),function($){function createNewSlider(element,options){function getDataAttrib(element,optName){var dataName="data-slider-"+optName,dataValString=element.getAttribute(dataName);try{return JSON.parse(dataValString)}catch(err){return dataValString}}"string"==typeof element?this.element=document.querySelector(element):"undefined"!=typeof element.nodeType&&(this.element=element);var sliderTrackSelection,sliderMinHandle,sliderMaxHandle,origWidth=this.element.style.width,updateSlider=!1,parent=this.element.parentNode;if(this.sliderElem)updateSlider=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var sliderTrack=document.createElement("div");sliderTrack.className="slider-track",sliderTrackSelection=document.createElement("div"),sliderTrackSelection.className="slider-selection",sliderMinHandle=document.createElement("div"),sliderMinHandle.className="slider-handle min-slider-handle",sliderMaxHandle=document.createElement("div"),sliderMaxHandle.className="slider-handle max-slider-handle",sliderTrack.appendChild(sliderTrackSelection),sliderTrack.appendChild(sliderMinHandle),sliderTrack.appendChild(sliderMaxHandle);var createAndAppendTooltipSubElements=function(tooltipElem){var arrow=document.createElement("div");arrow.className="tooltip-arrow";var inner=document.createElement("div");inner.className="tooltip-inner",tooltipElem.appendChild(arrow),tooltipElem.appendChild(inner)},sliderTooltip=document.createElement("div");sliderTooltip.className="tooltip tooltip-main",createAndAppendTooltipSubElements(sliderTooltip);var sliderTooltipMin=document.createElement("div");sliderTooltipMin.className="tooltip tooltip-min",createAndAppendTooltipSubElements(sliderTooltipMin);var sliderTooltipMax=document.createElement("div");sliderTooltipMax.className="tooltip tooltip-max",createAndAppendTooltipSubElements(sliderTooltipMax),this.sliderElem.appendChild(sliderTrack),this.sliderElem.appendChild(sliderTooltip),this.sliderElem.appendChild(sliderTooltipMin),this.sliderElem.appendChild(sliderTooltipMax),parent.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}$&&(this.$element=$(this.element),this.$sliderElem=$(this.sliderElem)),options=options?options:{};for(var optionTypes=Object.keys(this.defaultOptions),i=0;i<optionTypes.length;i++){var optName=optionTypes[i],val=options[optName];val="undefined"!=typeof val?val:getDataAttrib(this.element,optName),val=null!==val?val:this.defaultOptions[optName],this.options||(this.options={}),this.options[optName]=val}this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),updateSlider===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(prop){this._removeProperty(this.trackSelection,prop)},this),[this.handle1,this.handle2].forEach(function(handle){this._removeProperty(handle,"left"),this._removeProperty(handle,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(tooltip){this._removeProperty(tooltip,"left"),this._removeProperty(tooltip,"top"),this._removeProperty(tooltip,"margin-left"),this._removeProperty(tooltip,"margin-top"),this._removeClass(tooltip,"right"),this._removeClass(tooltip,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this._addClass(this.tooltip,"right"),this.tooltip.style.left="100%",this._addClass(this.tooltip_min,"right"),this.tooltip_min.style.left="100%",this._addClass(this.tooltip_max,"right"),this.tooltip_max.style.left="100%"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=origWidth,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this._addClass(this.tooltip,"top"),this._addClass(this.tooltip_min,"top"),this._addClass(this.tooltip_max,"top")),this.options.value instanceof Array?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackSelection=sliderTrackSelection||this.trackSelection,"none"===this.options.selection&&this._addClass(this.trackSelection,"hide"),this.handle1=sliderMinHandle||this.handle1,this.handle2=sliderMaxHandle||this.handle2,updateSlider===!0&&(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"));var availableHandleModifiers=["round","triangle","custom"],isValidHandleType=availableHandleModifiers.indexOf(this.options.handle)!==-1;isValidHandleType&&(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle)),this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],this.setValue(this.options.value),this.handle1Keydown=this._keydown.bind(this,0),$(this.handle1).on("keydown",this.handle1Keydown),this.handle2Keydown=this._keydown.bind(this,1),$(this.handle2).on("keydown",this.handle2Keydown),this.touchCapable?(this.mousedown=this._mousedown.bind(this),$(this.sliderElem).on("touchstart",this.mousedown)):(this.mousedown=this._mousedown.bind(this),$(this.sliderElem).on("mousedown",this.mousedown)),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),$(this.sliderElem).on("mouseenter",this.showTooltip),$(this.sliderElem).on("mouseleave",this.hideTooltip),$(this.handle1).on("focus",this.showTooltip),$(this.handle1).on("blur",this.hideTooltip),$(this.handle2).on("focus",this.showTooltip),$(this.handle2).on("blur",this.hideTooltip)),this.options.enabled?this.enable():this.disable()}var ErrorMsgs={formatInvalidInputErrorMsg:function(input){return"Invalid input value '"+input+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"};if(Slider=function(element,options){return createNewSlider.call(this,element,options),this},Slider.prototype={_init:function(){},constructor:Slider,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(val){return val instanceof Array?val[0]+" : "+val[1]:val},natural_arrow_keys:!1},over:!1,inDrag:!1,getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(val,triggerSlideEvent){val||(val=0);var oldValue=this.getValue();this.options.value=this._validateInputValue(val);var applyPrecision=this._applyPrecision.bind(this);this.options.range?(this.options.value[0]=applyPrecision(this.options.value[0]),this.options.value[1]=applyPrecision(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=applyPrecision(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this.options.value[1]=this.options.max:this.options.value[1]=this.options.min),this.diff=this.options.max-this.options.min,this.diff>0?this.percentage=[100*(this.options.value[0]-this.options.min)/this.diff,100*(this.options.value[1]-this.options.min)/this.diff,100*this.options.step/this.diff]:this.percentage=[0,0,100],this._layout();var newValue=this.options.range?this.options.value:this.options.value[0];return triggerSlideEvent===!0&&this._trigger("slide",newValue),oldValue!==newValue&&this._trigger("change",{oldValue:oldValue,newValue:newValue}),this._setDataVal(newValue),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),$&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(evt,callback){return $?(this.$element.on(evt,callback),this.$sliderElem.on(evt,callback)):this._bindNonQueryEventHandler(evt,callback),this},getAttribute:function(attribute){return attribute?this.options[attribute]:this.options},setAttribute:function(attribute,value){return this.options[attribute]=value,this},refresh:function(){return this._removeSliderEventHandlers(),createNewSlider.call(this,this.element,this.options),$&&$.data(this.element,"slider",this),this},_removeSliderEventHandlers:function(){$(this.handle1).off("keydown",this.handle1Keydown),$(this.handle1).off("focus",this.showTooltip),$(this.handle1).off("blur",this.hideTooltip),$(this.handle2).off("keydown",this.handle2Keydown),$(this.handle2).off("focus",this.handle2Keydown),$(this.handle2).off("blur",this.handle2Keydown),$(this.sliderElem).off("mouseenter",this.showTooltip),$(this.sliderElem).off("mouseleave",this.hideTooltip),$(this.sliderElem).off("touchstart",this.mousedown),$(this.sliderElem).off("mousedown",this.mousedown)},_bindNonQueryEventHandler:function(evt,callback){void 0===this.eventToCallbackMap[evt]&&(this.eventToCallbackMap[evt]=[]),this.eventToCallbackMap[evt].push(callback)},_cleanUpEventCallbacksMap:function(){for(var eventNames=Object.keys(this.eventToCallbackMap),i=0;i<eventNames.length;i++){var eventName=eventNames[i];this.eventToCallbackMap[eventName]=null}},_showTooltip:function(){this.options.tooltip_split===!1?this._addClass(this.tooltip,"in"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in")),this.over=!0},_hideTooltip:function(){this.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this.over=!1},_layout:function(){var positionPercentages;if(positionPercentages=this.options.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=positionPercentages[0]+"%",this.handle2.style[this.stylePos]=positionPercentages[1]+"%","vertical"===this.options.orientation)this.trackSelection.style.top=Math.min(positionPercentages[0],positionPercentages[1])+"%",this.trackSelection.style.height=Math.abs(positionPercentages[0]-positionPercentages[1])+"%";else{this.trackSelection.style.left=Math.min(positionPercentages[0],positionPercentages[1])+"%",this.trackSelection.style.width=Math.abs(positionPercentages[0]-positionPercentages[1])+"%";var offset_min=this.tooltip_min.getBoundingClientRect(),offset_max=this.tooltip_max.getBoundingClientRect();offset_min.right>offset_max.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="-30px")}var formattedTooltipVal;if(this.options.range){formattedTooltipVal=this.options.formatter(this.options.value),this._setText(this.tooltipInner,formattedTooltipVal),this.tooltip.style[this.stylePos]=(positionPercentages[1]+positionPercentages[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var innerTooltipMinText=this.options.formatter(this.options.value[0]);this._setText(this.tooltipInner_min,innerTooltipMinText);var innerTooltipMaxText=this.options.formatter(this.options.value[1]);this._setText(this.tooltipInner_max,innerTooltipMaxText),this.tooltip_min.style[this.stylePos]=positionPercentages[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=positionPercentages[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else formattedTooltipVal=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,formattedTooltipVal),this.tooltip.style[this.stylePos]=positionPercentages[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_removeProperty:function(element,prop){element.style.removeProperty?element.style.removeProperty(prop):element.style.removeAttribute(prop)},_mousedown:function(ev){if(!this.options.enabled)return!1;this._triggerFocusOnHandle(),this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos];var percentage=this._getPercentage(ev);if(this.options.range){var diff1=Math.abs(this.percentage[0]-percentage),diff2=Math.abs(this.percentage[1]-percentage);this.dragged=diff1<diff2?0:1}else this.dragged=0;this.percentage[this.dragged]=this.options.reversed?100-percentage:percentage,this._layout(),this.touchCapable&&($(document).off("touchmove",this.mousemove),$(document).off("touchend",this.mouseup)),this.mousemove&&$(document).off("mousemove",this.mousemove),this.mouseup&&$(document).off("mouseup",this.mouseup),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&($(document).on("touchmove",this.mousemove),$(document).on("touchend",this.mouseup)),$(document).on("mousemove",this.mousemove),$(document).on("mouseup",this.mouseup),this.inDrag=!0;var newValue=this._calculateValue();return this._trigger("slideStart",newValue),this._setDataVal(newValue),this.setValue(newValue),this._pauseEvent(ev),!0},_triggerFocusOnHandle:function(handleIdx){0===handleIdx&&this.handle1.focus(),1===handleIdx&&this.handle2.focus()},_keydown:function(handleIdx,ev){if(!this.options.enabled)return!1;var dir;switch(ev.keyCode){case 37:case 40:dir=-1;break;case 39:case 38:dir=1}if(dir){if(this.options.natural_arrow_keys){var ifVerticalAndNotReversed="vertical"===this.options.orientation&&!this.options.reversed,ifHorizontalAndReversed="horizontal"===this.options.orientation&&this.options.reversed;(ifVerticalAndNotReversed||ifHorizontalAndReversed)&&(dir*=-1)}var oneStepValuePercentageChange=dir*this.percentage[2],percentage=this.percentage[handleIdx]+oneStepValuePercentageChange;percentage>100?percentage=100:percentage<0&&(percentage=0),this.dragged=handleIdx,this._adjustPercentageForRangeSliders(percentage),this.percentage[this.dragged]=percentage,this._layout();var val=this._calculateValue();return this._trigger("slideStart",val),this._setDataVal(val),this.setValue(val,!0),this._trigger("slideStop",val),this._setDataVal(val),this._pauseEvent(ev),!1}},_pauseEvent:function(ev){ev.stopPropagation&&ev.stopPropagation(),ev.preventDefault&&ev.preventDefault(),ev.cancelBubble=!0,ev.returnValue=!1},_mousemove:function(ev){if(!this.options.enabled)return!1;var percentage=this._getPercentage(ev);this._adjustPercentageForRangeSliders(percentage),this.percentage[this.dragged]=this.options.reversed?100-percentage:percentage,this._layout();var val=this._calculateValue();return this.setValue(val,!0),!1},_adjustPercentageForRangeSliders:function(percentage){this.options.range&&(0===this.dragged&&this.percentage[1]<percentage?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>percentage&&(this.percentage[1]=this.percentage[0],this.dragged=0))},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&($(document).off("touchmove",this.mousemove),$(document).off("touchend",this.mouseup)),$(document).off("mousemove",this.mousemove),$(document).off("mouseup",this.mouseup),this.inDrag=!1,this.over===!1&&this._hideTooltip();var val=this._calculateValue();return this._layout(),this._trigger("slideStop",val),this._setDataVal(val),!1},_calculateValue:function(){var val;return this.options.range?(val=[this.options.min,this.options.max],0!==this.percentage[0]&&(val[0]=Math.max(this.options.min,this.options.min+Math.round(this.diff*this.percentage[0]/100/this.options.step)*this.options.step),val[0]=this._applyPrecision(val[0])),100!==this.percentage[1]&&(val[1]=Math.min(this.options.max,this.options.min+Math.round(this.diff*this.percentage[1]/100/this.options.step)*this.options.step),val[1]=this._applyPrecision(val[1]))):(val=this.options.min+Math.round(this.diff*this.percentage[0]/100/this.options.step)*this.options.step,val<this.options.min?val=this.options.min:val>this.options.max&&(val=this.options.max),val=parseFloat(val),val=this._applyPrecision(val)),val},_applyPrecision:function(val){var precision=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(val,precision)},_getNumDigitsAfterDecimalPlace:function(num){var match=(""+num).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return match?Math.max(0,(match[1]?match[1].length:0)-(match[2]?+match[2]:0)):0},_applyToFixedAndParseFloat:function(num,toFixedInput){var truncatedNum=num.toFixed(toFixedInput);return parseFloat(truncatedNum)},_getPercentage:function(ev){!this.touchCapable||"touchstart"!==ev.type&&"touchmove"!==ev.type||(ev=ev.touches[0]);var percentage=100*(ev[this.mousePos]-this.offset[this.stylePos])/this.size;return percentage=Math.round(percentage/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,percentage))},_validateInputValue:function(val){if("number"==typeof val)return val;if(val instanceof Array)return this._validateArray(val),val;throw new Error(ErrorMsgs.formatInvalidInputErrorMsg(val))},_validateArray:function(val){for(var i=0;i<val.length;i++){var input=val[i];if("number"!=typeof input)throw new Error(ErrorMsgs.formatInvalidInputErrorMsg(input))}},_setDataVal:function(val){var value="value: '"+val+"'";this.element.setAttribute("data",value),this.element.setAttribute("value",val)},_trigger:function(evt,val){val=val||0===val?val:void 0;var callbackFnArray=this.eventToCallbackMap[evt];if(callbackFnArray&&callbackFnArray.length)for(var i=0;i<callbackFnArray.length;i++){var callbackFn=callbackFnArray[i];callbackFn(val)}$&&this._triggerJQueryEvent(evt,val)},_triggerJQueryEvent:function(evt,val){var eventData={type:evt,value:val};this.$element.trigger(eventData),this.$sliderElem.trigger(eventData)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(element,text){"undefined"!=typeof element.innerText?element.innerText=text:"undefined"!=typeof element.textContent&&(element.textContent=text)},_removeClass:function(element,classString){for(var classes=classString.split(" "),newClasses=element.className,i=0;i<classes.length;i++){var classTag=classes[i],regex=new RegExp("(?:\\s|^)"+classTag+"(?:\\s|$)");newClasses=newClasses.replace(regex," ")}element.className=newClasses.trim()},_addClass:function(element,classString){for(var classes=classString.split(" "),newClasses=element.className,i=0;i<classes.length;i++){var classTag=classes[i],regex=new RegExp("(?:\\s|^)"+classTag+"(?:\\s|$)"),ifClassExists=regex.test(newClasses);ifClassExists||(newClasses+=" "+classTag)}element.className=newClasses.trim()},_offset:function(obj){var ol=0,ot=0;if(obj.offsetParent)do ol+=obj.offsetLeft,ot+=obj.offsetTop;while(obj=obj.offsetParent);return{left:ol,top:ot}},_css:function(elementRef,styleName,value){if($)$.style(elementRef,styleName,value);else{var style=styleName.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(all,letter){return letter.toUpperCase()});elementRef.style[style]=value}}},$){var namespace=$.fn.slider?"bootstrapSlider":"slider";$.bridget(namespace,Slider)}}($),Slider}),function($){$.fn.extend({easyResponsiveTabs:function(options){var defaults={type:"default",width:"auto",fit:!0,closed:!1,activate:function(){}},options=$.extend(defaults,options),opt=options,jtype=opt.type,jfit=opt.fit,jwidth=opt.width,vtabs="vertical",accord="accordion";$(this).bind("tabactivate",function(e,currentTab){"function"==typeof options.activate&&options.activate.call(currentTab,e)}),this.each(function(){function jtab_options(){jtype==vtabs&&$respTabs.addClass("resp-vtabs"),1==jfit&&$respTabs.css({width:"100%",margin:"0px"}),jtype==accord&&($respTabs.addClass("resp-easy-accordion"),$respTabs.find(".resp-tabs-list").css("display","none"))}var $respTabs=$(this),$respTabsList=$respTabs.find("ul.resp-tabs-list");$respTabs.find("ul.resp-tabs-list li").addClass("resp-tab-item"),$respTabs.css({display:"block",width:jwidth}),$respTabs.find(".resp-tabs-container > div").addClass("resp-tab-content"),jtab_options();var $tabItemh2;$respTabs.find(".resp-tab-content").before("<h2 class='resp-accordion' role='tab'><span class='resp-arrow'></span></h2>");var itemCount=0;$respTabs.find(".resp-accordion").each(function(){$tabItemh2=$(this);var innertext=$respTabs.find(".resp-tab-item:eq("+itemCount+")").html();$respTabs.find(".resp-accordion:eq("+itemCount+")").append(innertext),$tabItemh2.attr("aria-controls","tab_item-"+itemCount),itemCount++});var $tabContent,count=0;$respTabs.find(".resp-tab-item").each(function(){$tabItem=$(this),$tabItem.attr("aria-controls","tab_item-"+count),$tabItem.attr("role","tab"),options.closed===!0||"accordion"===options.closed&&!$respTabsList.is(":visible")||"tabs"===options.closed&&$respTabsList.is(":visible")||($respTabs.find(".resp-tab-item").first().addClass("resp-tab-active"),$respTabs.find(".resp-accordion").first().addClass("resp-tab-active"),$respTabs.find(".resp-tab-content").first().addClass("resp-tab-content-active").attr("style","display:block"));var tabcount=0;$respTabs.find(".resp-tab-content").each(function(){$tabContent=$(this),$tabContent.attr("aria-labelledby","tab_item-"+tabcount),tabcount++}),count++}),$respTabs.find("[role=tab]").each(function(){var $currentTab=$(this);$currentTab.click(function(){var $tabAria=$currentTab.attr("aria-controls");return $currentTab.hasClass("resp-accordion")&&$currentTab.hasClass("resp-tab-active")?($respTabs.find(".resp-tab-content-active").slideUp("",function(){$(this).addClass("resp-accordion-closed")}),$currentTab.removeClass("resp-tab-active"),!1):(!$currentTab.hasClass("resp-tab-active")&&$currentTab.hasClass("resp-accordion")?($respTabs.find(".resp-tab-active").removeClass("resp-tab-active"),$respTabs.find(".resp-tab-content-active").slideUp().removeClass("resp-tab-content-active resp-accordion-closed"),$respTabs.find("[aria-controls="+$tabAria+"]").addClass("resp-tab-active"),$respTabs.find(".resp-tab-content[aria-labelledby = "+$tabAria+"]").slideDown().addClass("resp-tab-content-active")):($respTabs.find(".resp-tab-active").removeClass("resp-tab-active"),$respTabs.find(".resp-tab-content-active").removeAttr("style").removeClass("resp-tab-content-active").removeClass("resp-accordion-closed"),$respTabs.find("[aria-controls="+$tabAria+"]").addClass("resp-tab-active"),$respTabs.find(".resp-tab-content[aria-labelledby = "+$tabAria+"]").addClass("resp-tab-content-active").attr("style","display:block")),void $currentTab.trigger("tabactivate",$currentTab))}),$(window).resize(function(){$respTabs.find(".resp-accordion-closed").removeAttr("style")})})})}})}(jQuery),!function(e,t,r){t[e]=r}("onDomReady",this,function(e){"use strict";function t(e){if(!b){if(!a.body)return i(t);for(b=!0;e=S.shift();)i(e)}}function r(e){(y||e.type===s||a[c]===u)&&(n(),t())}function n(){y?(a[x](m,r,d),e[x](s,r,d)):(a[g](v,r),e[g](h,r))}function i(e,t){setTimeout(e,+t>=0?t:1)}function o(e){b?i(e):S.push(e)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function E(){document.removeEventListener("DOMContentLoaded",E,!1),document.readyState="complete"},!1),document.readyState="loading");var a=e.document,l=a.documentElement,s="load",d=!1,h="on"+s,u="complete",c="readyState",f="attachEvent",g="detachEvent",p="addEventListener",m="DOMContentLoaded",v="onreadystatechange",x="removeEventListener",y=p in a,w=d,b=d,S=[];if(a[c]===u)i(t);else if(y)a[p](m,r,d),e[p](s,r,d);else{a[f](v,r),e[f](h,r);try{w=null==e.frameElement&&l}catch(C){}w&&w.doScroll&&!function k(){if(!b){try{w.doScroll("left")}catch(e){return i(k,50)}n(),t()}}()}return o.version="1.4.0",o.isReady=function(){return b},o}(this)),document.querySelectorAll||(document.querySelectorAll=function(e){var t,r=document.createElement("style"),n=[];for(document.documentElement.firstChild.appendChild(r),document._qsa=[],r.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),r.parentNode.removeChild(r);document._qsa.length;)t=document._qsa.shift(),t.style.removeAttribute("x-qsa"),n.push(t);return document._qsa=null,n}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),document.querySelectorAll(e)}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.atob=e.atob||function(e){e=String(e);var r,n=0,i=[],o=0,a=0;if(e=e.replace(/\s/g,""),e.length%4===0&&(e=e.replace(/=+$/,"")),e.length%4===1)throw Error("InvalidCharacterError");if(/[^+\/0-9A-Za-z]/.test(e))throw Error("InvalidCharacterError");for(;n<e.length;)r=t.indexOf(e.charAt(n)),o=o<<6|r,a+=6,24===a&&(i.push(String.fromCharCode(o>>16&255)),i.push(String.fromCharCode(o>>8&255)),i.push(String.fromCharCode(255&o)),a=0,o=0),n+=1;return 12===a?(o>>=4,i.push(String.fromCharCode(255&o))):18===a&&(o>>=2,i.push(String.fromCharCode(o>>8&255)),i.push(String.fromCharCode(255&o))),i.join("")},e.btoa=e.btoa||function(e){e=String(e);var r,n,i,o,a,l,s,d=0,h=[];if(/[^\x00-\xFF]/.test(e))throw Error("InvalidCharacterError");for(;d<e.length;)r=e.charCodeAt(d++),n=e.charCodeAt(d++),i=e.charCodeAt(d++),o=r>>2,a=(3&r)<<4|n>>4,l=(15&n)<<2|i>>6,s=63&i,d===e.length+2?(l=64,s=64):d===e.length+1&&(s=64),h.push(t.charAt(o),t.charAt(a),t.charAt(l),t.charAt(s));return h.join("")}}(this),function(){function e(t,r,n){t.document;var i,o=t.currentStyle[r].match(/([\d\.]+)(%|cm|em|in|mm|pc|pt|)/)||[0,0,""],a=o[1],l=o[2];return n=n?/%|em/.test(l)&&t.parentElement?e(t.parentElement,"fontSize",null):16:n,i="fontSize"==r?n:/width/i.test(r)?t.clientWidth:t.clientHeight,"%"==l?a/100*i:"cm"==l?.3937*a*96:"em"==l?a*n:"in"==l?96*a:"mm"==l?.3937*a*96/10:"pc"==l?12*a*96/72:"pt"==l?96*a/72:a}function t(e,t){var r="border"==t?"Width":"",n=t+"Top"+r,i=t+"Right"+r,o=t+"Bottom"+r,a=t+"Left"+r;e[t]=(e[n]==e[i]&&e[n]==e[o]&&e[n]==e[a]?[e[n]]:e[n]==e[o]&&e[a]==e[i]?[e[n],e[i]]:e[a]==e[i]?[e[n],e[i],e[o]]:[e[n],e[i],e[o],e[a]]).join(" ")}function r(r){var n,i=this,o=r.currentStyle,a=e(r,"fontSize"),l=function(e){return"-"+e.toLowerCase()};for(n in o)if(Array.prototype.push.call(i,"styleFloat"==n?"float":n.replace(/[A-Z]/,l)),"width"==n)i[n]=r.offsetWidth+"px";else if("height"==n)i[n]=r.offsetHeight+"px";else if("styleFloat"==n)i.float=o[n];else if(/margin.|padding.|border.+W/.test(n)&&"auto"!=i[n])i[n]=Math.round(e(r,n,a))+"px";else if(/^outline/.test(n))try{i[n]=o[n]}catch(s){i.outlineColor=o.color,i.outlineStyle=i.outlineStyle||"none",i.outlineWidth=i.outlineWidth||"0px",i.outline=[i.outlineColor,i.outlineWidth,i.outlineStyle].join(" ")}else i[n]=o[n];t(i,"margin"),t(i,"padding"),t(i,"border"),i.fontSize=Math.round(a)+"px"}window.getComputedStyle||(r.prototype={constructor:r,getPropertyPriority:function(){throw new Error("NotSupportedError: DOM Exception 9")},getPropertyValue:function(e){return this[e.replace(/-\w/g,function(e){return e[1].toUpperCase()})]},item:function(e){return this[e]},removeProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},setProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},getPropertyCSSValue:function(){throw new Error("NotSupportedError: DOM Exception 9")}},window.getComputedStyle=Window.prototype.getComputedStyle=function(e){return new r(e)})}(),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])}),function(e,t){e.augment=t()}(this,function(){"use strict";var e=function(){},t=Array.prototype.slice,r=function(r,n){var i=e.prototype="function"==typeof r?r.prototype:r,o=new e,a=n.apply(o,t.call(arguments,2).concat(i));if("object"==typeof a)for(var l in a)o[l]=a[l];if(!o.hasOwnProperty("constructor"))return o;var s=o.constructor;return s.prototype=o,s};return r.defclass=function(e){var t=e.constructor;return t.prototype=e,t},r.extend=function(e,t){return r(e,function(e){return this.uber=e,t})},r}),function(e,t){function r(e,t,r,o){var a=n(r.substr(r.lastIndexOf(e.domain)),e);a&&i(null,o,a,t)}function n(e,t){for(var r={theme:p(A.settings.themes.gray,null),stylesheets:t.stylesheets,holderURL:[]},n=!1,i=String.fromCharCode(11),o=e.replace(/([^\\])\//g,"$1"+i).split(i),a=/%[0-9a-f]{2}/gi,l=o.length,s=0;l>s;s++){var d=o[s];if(d.match(a))try{d=decodeURIComponent(d)}catch(h){d=o[s]}var u=!1;if(A.flags.dimensions.match(d))n=!0,r.dimensions=A.flags.dimensions.output(d),u=!0;else if(A.flags.fluid.match(d))n=!0,r.dimensions=A.flags.fluid.output(d),r.fluid=!0,u=!0;else if(A.flags.textmode.match(d))r.textmode=A.flags.textmode.output(d),u=!0;else if(A.flags.colors.match(d)){var c=A.flags.colors.output(d);r.theme=p(r.theme,c),u=!0}else if(t.themes[d])t.themes.hasOwnProperty(d)&&(r.theme=p(t.themes[d],null)),u=!0;else if(A.flags.font.match(d))r.font=A.flags.font.output(d),
u=!0;else if(A.flags.auto.match(d))r.auto=!0,u=!0;else if(A.flags.text.match(d))r.text=A.flags.text.output(d),u=!0;else if(A.flags.random.match(d)){null==A.vars.cache.themeKeys&&(A.vars.cache.themeKeys=Object.keys(t.themes));var f=A.vars.cache.themeKeys[0|Math.random()*A.vars.cache.themeKeys.length];r.theme=p(t.themes[f],null),u=!0}u&&r.holderURL.push(d)}return r.holderURL.unshift(t.domain),r.holderURL=r.holderURL.join("/"),!!n&&r}function i(e,t,r,n){var i=r.dimensions,a=r.theme,l=i.width+"x"+i.height;if(e=null==e?r.fluid?"fluid":"image":e,null!=r.text&&(a.text=r.text,"object"===t.nodeName.toLowerCase())){for(var d=a.text.split("\\n"),u=0;u<d.length;u++)d[u]=b(d[u]);a.text=d.join("\\n")}var f=r.holderURL,g=p(n,null);r.font&&(a.font=r.font,!g.noFontFallback&&"img"===t.nodeName.toLowerCase()&&A.setup.supportsCanvas&&"svg"===g.renderer&&(g=p(g,{renderer:"canvas"}))),r.font&&"canvas"==g.renderer&&(g.reRender=!0),"background"==e?null==t.getAttribute("data-background-src")&&c(t,{"data-background-src":f}):c(t,{"data-src":f}),r.theme=a,t.holderData={flags:r,renderSettings:g},("image"==e||"fluid"==e)&&c(t,{alt:a.text?(a.text.length>16?a.text.substring(0,16)+"":a.text)+" ["+l+"]":l}),"image"==e?("html"!=g.renderer&&r.auto||(t.style.width=i.width+"px",t.style.height=i.height+"px"),"html"==g.renderer?t.style.backgroundColor=a.background:(o(e,{dimensions:i,theme:a,flags:r},t,g),r.textmode&&"exact"==r.textmode&&(A.vars.resizableImages.push(t),s(t)))):"background"==e&&"html"!=g.renderer?o(e,{dimensions:i,theme:a,flags:r},t,g):"fluid"==e&&("%"==i.height.slice(-1)?t.style.height=i.height:null!=r.auto&&r.auto||(t.style.height=i.height+"px"),"%"==i.width.slice(-1)?t.style.width=i.width:null!=r.auto&&r.auto||(t.style.width=i.width+"px"),("inline"==t.style.display||""===t.style.display||"none"==t.style.display)&&(t.style.display="block"),h(t),"html"==g.renderer?t.style.backgroundColor=a.background:(A.vars.resizableImages.push(t),s(t)))}function o(e,t,r,n){function i(){var e=null;switch(n.renderer){case"canvas":e=L(s);break;case"svg":e=O(s,n);break;default:throw"Holder: invalid renderer: "+n.renderer}return e}var o=null;switch(n.renderer){case"svg":if(!A.setup.supportsSVG)return;break;case"canvas":if(!A.setup.supportsCanvas)return;break;default:return}var l={width:t.dimensions.width,height:t.dimensions.height,theme:t.theme,flags:t.flags},s=a(l);if({text:l.text,width:l.width,height:l.height,textHeight:l.font.size,font:l.font.family,fontWeight:l.font.weight,template:l.theme},o=i(),null==o)throw"Holder: couldn't render placeholder";"background"==e?(r.style.backgroundImage="url("+o+")",r.style.backgroundSize=l.width+"px "+l.height+"px"):("img"===r.nodeName.toLowerCase()?c(r,{src:o}):"object"===r.nodeName.toLowerCase()&&(c(r,{data:o}),c(r,{type:"image/svg+xml"})),n.reRender&&setTimeout(function(){var e=i();if(null==e)throw"Holder: couldn't render placeholder";"img"===r.nodeName.toLowerCase()?c(r,{src:e}):"object"===r.nodeName.toLowerCase()&&(c(r,{data:e}),c(r,{type:"image/svg+xml"}))},100)),c(r,{"data-holder-rendered":!0})}function a(e){function t(e,t,r,n){t.width=r,t.height=n,e.width=Math.max(e.width,t.width),e.height+=t.height,e.add(t)}switch(e.font={family:e.theme.font?e.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:l(e.width,e.height,e.theme.size?e.theme.size:12),weight:e.theme.fontweight?e.theme.fontweight:"bold"},e.text=e.theme.text?e.theme.text:Math.floor(e.width)+"x"+Math.floor(e.height),e.flags.textmode){case"literal":e.text=e.flags.dimensions.width+"x"+e.flags.dimensions.height;break;case"exact":if(!e.flags.exactDimensions)break;e.text=Math.floor(e.flags.exactDimensions.width)+"x"+Math.floor(e.flags.exactDimensions.height)}var r=new F({width:e.width,height:e.height}),n=r.Shape,i=new n.Rect("holderBg",{fill:e.theme.background});i.resize(e.width,e.height),r.root.add(i);var o=new n.Group("holderTextGroup",{text:e.text,align:"center",font:e.font,fill:e.theme.foreground});o.moveTo(null,null,1),r.root.add(o);var a=o.textPositionData=T(r);if(!a)throw"Holder: staging fallback not supported yet.";o.properties.leading=a.boundingBox.height;var s=null,d=null;if(a.lineCount>1){var h=0,u=0,c=e.width*A.setup.lineWrapRatio,f=0;d=new n.Group("line"+f);for(var g=0;g<a.words.length;g++){var p=a.words[g];s=new n.Text(p.text);var m="\\n"==p.text;(h+p.width>=c||m===!0)&&(t(o,d,h,o.properties.leading),h=0,u+=o.properties.leading,f+=1,d=new n.Group("line"+f),d.y=u),m!==!0&&(s.moveTo(h,0),h+=a.spaceWidth+p.width,d.add(s))}t(o,d,h,o.properties.leading);for(var v in o.children)d=o.children[v],d.moveTo((o.width-d.width)/2,null,null);o.moveTo((e.width-o.width)/2,(e.height-o.height)/2,null),(e.height-o.height)/2<0&&o.moveTo(null,0,null)}else s=new n.Text(e.text),d=new n.Group("line0"),d.add(s),o.add(d),o.moveTo((e.width-a.boundingBox.width)/2,(e.height-a.boundingBox.height)/2,null);return r}function l(e,t,r){t=parseInt(t,10),e=parseInt(e,10);var n=Math.max(t,e),i=Math.min(t,e),o=1/12,a=Math.min(.75*i,.75*n*o);return Math.round(Math.max(r,a))}function s(e){var t;t=null==e||null==e.nodeType?A.vars.resizableImages:[e];for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];if(n.holderData){var i=n.holderData.flags,a=d(n,k.invisibleErrorFn(s));if(a){if(i.fluid&&i.auto){var l=n.holderData.fluidConfig;switch(l.mode){case"width":a.height=a.width/l.ratio;break;case"height":a.width=a.height*l.ratio}}var h={dimensions:a,theme:i.theme,flags:i};i.textmode&&"exact"==i.textmode&&(i.exactDimensions=a,h.dimensions=i.dimensions),o("image",h,n,n.holderData.renderSettings)}}}}function d(e,t){var r={height:e.clientHeight,width:e.clientWidth};return r.height||r.width?(e.removeAttribute("data-holder-invisible"),r):(c(e,{"data-holder-invisible":!0}),void t.call(this,e))}function h(e){if(e.holderData){var t=d(e,k.invisibleErrorFn(h));if(t){var r=e.holderData.flags,n={fluidHeight:"%"==r.dimensions.height.slice(-1),fluidWidth:"%"==r.dimensions.width.slice(-1),mode:null,initialDimensions:t};n.fluidWidth&&!n.fluidHeight?(n.mode="width",n.ratio=n.initialDimensions.width/parseFloat(r.dimensions.height)):!n.fluidWidth&&n.fluidHeight&&(n.mode="height",n.ratio=parseFloat(r.dimensions.width)/n.initialDimensions.height),e.holderData.fluidConfig=n}}}function u(e,t){return null==t?E.createElement(e):E.createElementNS(t,e)}function c(e,t){for(var r in t)e.setAttribute(r,t[r])}function f(e,t,r){if(null==e){e=u("svg",C);var n=u("defs",C);e.appendChild(n)}return e.webkitMatchesSelector&&e.setAttribute("xmlns",C),c(e,{width:t,height:r,viewBox:"0 0 "+t+" "+r,preserveAspectRatio:"none"}),e}function g(e,r){if(t.XMLSerializer){var n=new XMLSerializer,i="",o=r.stylesheets;if(e.querySelector("defs"),r.svgXMLStylesheet){for(var a=(new DOMParser).parseFromString("<xml />","application/xml"),l=o.length-1;l>=0;l--){var s=a.createProcessingInstruction("xml-stylesheet",'href="'+o[l]+'" rel="stylesheet"');a.insertBefore(s,a.firstChild)}var d=a.createProcessingInstruction("xml",'version="1.0" encoding="UTF-8" standalone="yes"');a.insertBefore(d,a.firstChild),a.removeChild(a.documentElement),i=n.serializeToString(a)}var h=n.serializeToString(e);return h=h.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),i+h}}function p(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);if(null!=t)for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r}function m(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+":"+e[r]);return t.join(";")}function v(e){A.vars.debounceTimer||e.call(this),A.vars.debounceTimer&&clearTimeout(A.vars.debounceTimer),A.vars.debounceTimer=setTimeout(function(){A.vars.debounceTimer=null,e.call(this)},A.setup.debounce)}function x(){v(function(){s(null)})}function y(e){var r=null;return"string"==typeof e?r=E.querySelectorAll(e):t.NodeList&&e instanceof t.NodeList?r=e:t.Node&&e instanceof t.Node?r=[e]:t.HTMLCollection&&e instanceof t.HTMLCollection?r=e:null===e&&(r=[]),r}function w(e,t){var r=new Image;r.onerror=function(){t.call(this,!1,e)},r.onload=function(){t.call(this,!0,e)},r.src=e.src}function b(e){for(var t=[],r=0,n=e.length-1;n>=0;n--)r=e[n].charCodeAt(),t.unshift(r>128?["&#",r,";"].join(""):e[n]);return t.join("")}function S(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})}var C="http://www.w3.org/2000/svg",E=t.document,k={addTheme:function(e,t){return null!=e&&null!=t&&(A.settings.themes[e]=t),delete A.vars.cache.themeKeys,this},addImage:function(e,t){var r=E.querySelectorAll(t);if(r.length)for(var n=0,i=r.length;i>n;n++){var o=u("img");c(o,{"data-src":e}),r[n].appendChild(o)}return this},run:function(e){e=e||{};var o={};A.vars.preempted=!0;var a=p(A.settings,e);o.renderer=a.renderer?a.renderer:A.setup.renderer,-1===A.setup.renderers.join(",").indexOf(o.renderer)&&(o.renderer=A.setup.supportsSVG?"svg":A.setup.supportsCanvas?"canvas":"html"),a.use_canvas?o.renderer="canvas":a.use_svg&&(o.renderer="svg");var l=y(a.images),s=y(a.bgnodes),d=y(a.stylenodes),h=y(a.objects);o.stylesheets=[],o.svgXMLStylesheet=!0,o.noFontFallback=!!a.noFontFallback&&a.noFontFallback;for(var c=0;c<d.length;c++){var f=d[c];if(f.attributes.rel&&f.attributes.href&&"stylesheet"==f.attributes.rel.value){var g=f.attributes.href.value,m=u("a");m.href=g;var v=m.protocol+"//"+m.host+m.pathname+m.search;o.stylesheets.push(v)}}for(c=0;c<s.length;c++){var x=t.getComputedStyle(s[c],null).getPropertyValue("background-image"),b=s[c].getAttribute("data-background-src"),S=null;S=null==b?x:b;var C=null,E="?"+a.domain+"/";if(0===S.indexOf(E))C=S.slice(1);else if(-1!=S.indexOf(E)){var k=S.substr(S.indexOf(E)).slice(1),T=k.match(/([^\"]*)"?\)/);null!=T&&(C=T[1])}if(null!=C){var L=n(C,a);L&&i("background",s[c],L,o)}}for(c=0;c<h.length;c++){var O=h[c],F={};try{F.data=O.getAttribute("data"),F.dataSrc=O.getAttribute("data-src")}catch(z){}var M=null!=F.data&&0===F.data.indexOf(a.domain),D=null!=F.dataSrc&&0===F.dataSrc.indexOf(a.domain);M?r(a,o,F.data,O):D&&r(a,o,F.dataSrc,O)}for(c=0;c<l.length;c++){var R=l[c],j={};try{j.src=R.getAttribute("src"),j.dataSrc=R.getAttribute("data-src"),j.rendered=R.getAttribute("data-holder-rendered")}catch(z){}var B=null!=j.src,P=null!=j.dataSrc&&0===j.dataSrc.indexOf(a.domain),N=null!=j.rendered&&"true"==j.rendered;B?0===j.src.indexOf(a.domain)?r(a,o,j.src,R):P&&(N?r(a,o,j.dataSrc,R):w({src:j.src,options:a,renderSettings:o,dataSrc:j.dataSrc,image:R},function(e,t){e||r(t.options,t.renderSettings,t.dataSrc,t.image)})):P&&r(a,o,j.dataSrc,R)}return this},invisibleErrorFn:function(){return function(e){if(e.hasAttribute("data-holder-invisible"))throw"Holder: invisible placeholder"}}};k.add_theme=k.addTheme,k.add_image=k.addImage,k.invisible_error_fn=k.invisibleErrorFn;var A={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",stylesheets:[],themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846",size:12}}},flags:{dimensions:{regex:/^(\d+)x(\d+)$/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9]+%?)x([0-9]+%?)$/,output:function(e){var t=this.regex.exec(e);return{width:t[1],height:t[2]}}},colors:{regex:/(?:#|\^)([0-9a-f]{3,})\:(?:#|\^)([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1].replace("\\/","/")}},font:{regex:/font\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},random:{regex:/^random$/}}},T=function(){var e=null,t=null,r=null;return function(n){var i=n.root;if(A.setup.supportsSVG){var o=!1,a=function(e){return E.createTextNode(e)};null==e&&(o=!0),e=f(e,i.properties.width,i.properties.height),o&&(t=u("text",C),r=a(null),c(t,{x:0}),t.appendChild(r),e.appendChild(t),E.body.appendChild(e),e.style.visibility="hidden",e.style.position="absolute",e.style.top="-100%",e.style.left="-100%");var l=i.children.holderTextGroup,s=l.properties;c(t,{y:s.font.size,style:m({"font-weight":s.font.weight,"font-size":s.font.size+"px","font-family":s.font.family,"dominant-baseline":"middle"})}),r.nodeValue=s.text;var d=t.getBBox(),h=Math.ceil(d.width/(i.properties.width*A.setup.lineWrapRatio)),g=s.text.split(" "),p=s.text.match(/\\n/g);h+=null==p?0:p.length,r.nodeValue=s.text.replace(/[ ]+/g,"");var v=t.getComputedTextLength(),x=d.width-v,y=Math.round(x/Math.max(1,g.length-1)),w=[];if(h>1){r.nodeValue="";for(var b=0;b<g.length;b++)if(0!==g[b].length){r.nodeValue=S(g[b]);var k=t.getBBox();w.push({text:g[b],width:k.width})}}return{spaceWidth:y,lineCount:h,boundingBox:d,words:w}}return!1}}(),L=function(){var e=u("canvas"),t=null;return function(r){null==t&&(t=e.getContext("2d"));var n=r.root;e.width=A.dpr(n.properties.width),e.height=A.dpr(n.properties.height),t.textBaseline="middle",t.fillStyle=n.children.holderBg.properties.fill,t.fillRect(0,0,A.dpr(n.children.holderBg.width),A.dpr(n.children.holderBg.height));var i=n.children.holderTextGroup;i.properties,t.font=i.properties.font.weight+" "+A.dpr(i.properties.font.size)+"px "+i.properties.font.family+", monospace",t.fillStyle=i.properties.fill;for(var o in i.children){var a=i.children[o];for(var l in a.children){var s=a.children[l],d=A.dpr(i.x+a.x+s.x),h=A.dpr(i.y+a.y+s.y+i.properties.leading/2);t.fillText(s.properties.text,d,h)}}return e.toDataURL("image/png")}}(),O=function(){if(t.XMLSerializer){var e=f(null,0,0),r=u("rect",C);return e.appendChild(r),function(t,n){var i=t.root;f(e,i.properties.width,i.properties.height);for(var o=e.querySelectorAll("g"),a=0;a<o.length;a++)o[a].parentNode.removeChild(o[a]);c(r,{width:i.children.holderBg.width,height:i.children.holderBg.height,fill:i.children.holderBg.properties.fill});var l=i.children.holderTextGroup,s=l.properties,d=u("g",C);e.appendChild(d);for(var h in l.children){var p=l.children[h];for(var v in p.children){var x=p.children[v],y=l.x+p.x+x.x,w=l.y+p.y+x.y+l.properties.leading/2,b=u("text",C),S=E.createTextNode(null);c(b,{x:y,y:w,style:m({fill:s.fill,"font-weight":s.font.weight,"font-family":s.font.family+", monospace","font-size":s.font.size+"px","dominant-baseline":"central"})}),S.nodeValue=x.properties.text,b.appendChild(S),d.appendChild(b)}}var k="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(g(e,n))));return k}}}(),F=function(e){function t(e,t){for(var r in t)e[r]=t[r];return e}var r=1,n=augment.defclass({constructor:function(e){r++,this.parent=null,this.children={},this.id=r,this.name="n"+r,null!=e&&(this.name=e),this.x=0,this.y=0,this.z=0,this.width=0,this.height=0},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t)},moveTo:function(e,t,r){this.x=null!=e?e:this.x,this.y=null!=t?t:this.y,this.z=null!=r?r:this.z},add:function(e){var t=e.name;if(null!=this.children[t])throw"SceneGraph: child with that name already exists: "+t;this.children[t]=e,e.parent=this}}),i=augment(n,function(t){this.constructor=function(){t.constructor.call(this,"root"),this.properties=e}}),o=augment(n,function(e){function r(r,n){if(e.constructor.call(this,r),this.properties={fill:"#000"},null!=n)t(this.properties,n);else if(null!=r&&"string"!=typeof r)throw"SceneGraph: invalid node name"}this.Group=augment.extend(this,{constructor:r,type:"group"}),this.Rect=augment.extend(this,{constructor:r,type:"rect"}),this.Text=augment.extend(this,{constructor:function(e){r.call(this),this.properties.text=e},type:"text"})}),a=new i;return this.Shape=o,this.root=a,this};for(var z in A.flags)A.flags.hasOwnProperty(z)&&(A.flags[z].match=function(e){return e.match(this.regex)});A.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,renderers:["html","canvas","svg"]},A.dpr=function(e){return e*A.setup.ratio},A.vars={preempted:!1,resizableImages:[],debounceTimer:null,cache:{}},function(){var e=1,r=1,n=u("canvas"),i=null;n.getContext&&-1!=n.toDataURL("image/png").indexOf("data:image/png")&&(A.setup.renderer="canvas",i=n.getContext("2d"),A.setup.supportsCanvas=!0),A.setup.supportsCanvas&&(e=t.devicePixelRatio||1,r=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1),A.setup.ratio=e/r,E.createElementNS&&E.createElementNS(C,"svg").createSVGRect&&(A.setup.renderer="svg",A.setup.supportsSVG=!0)}(),e(k,"Holder",t),t.onDomReady&&t.onDomReady(function(){A.vars.preempted||k.run(),t.addEventListener?(t.addEventListener("resize",x,!1),t.addEventListener("orientationchange",x,!1)):t.attachEvent("onresize",x),"object"==typeof t.Turbolinks&&t.document.addEventListener("page:change",function(){k.run()})})}(function(e,t,r){var n="function"==typeof define&&define.amd;n?define(e):r[t]=e},this),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.toggle"),options="object"==typeof option&&option;data||$this.data("bs.toggle",data=new Toggle(this,options)),"string"==typeof option&&data[option]&&data[option]()})}var Toggle=function(element,options){this.$element=$(element),this.options=$.extend({},this.defaults(),options),this.render()};Toggle.VERSION="3.0.0",Toggle.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"default",size:"normal",style:""},Toggle.prototype.defaults=function(){return{on:this.$element.attr("data-on")||Toggle.DEFAULTS.on,off:this.$element.attr("data-off")||Toggle.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||Toggle.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||Toggle.DEFAULTS.offstyle,size:this.$element.attr("data-size")||Toggle.DEFAULTS.size,style:this.$element.attr("data-style")||Toggle.DEFAULTS.style}},Toggle.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var size="large"===this.options.size?"btn-lg":"small"===this.options.size?"btn-sm":"mini"===this.options.size?"btn-xs":"",$toggleOn=$('<label class="btn">').html(this.options.on).addClass(this._onstyle+" "+size),$toggleOff=$('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+size+" active"),$toggleHandle=$('<span class="toggle-handle btn btn-default">').addClass(size),$toggleGroup=$('<div class="toggle-group">').append($toggleOn,$toggleOff,$toggleHandle),$toggle=$('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(size).addClass(this.options.style);this.$element.wrap($toggle),$.extend(this,{$toggle:this.$element.parent(),$toggleOn:$toggleOn,$toggleOff:$toggleOff,$toggleGroup:$toggleGroup}),this.$toggle.append($toggleGroup);var width=Math.max($toggleOn.outerWidth(),$toggleOff.outerWidth())+$toggleHandle.outerWidth()/2,height=Math.max($toggleOn.outerHeight(),$toggleOff.outerHeight());$toggleOn.addClass("toggle-on"),$toggleOff.addClass("toggle-off"),this.$toggle.css({width:width,height:height}),this.update(),this.trigger(!0)},Toggle.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},Toggle.prototype.on=function(){return!this.$element.prop("disabled")&&(this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),void this.trigger())},Toggle.prototype.off=function(){return!this.$element.prop("disabled")&&(this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),void this.trigger())},Toggle.prototype.enable=function(){this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},Toggle.prototype.disable=function(){this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},Toggle.prototype.update=function(){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on():this.off()},Toggle.prototype.trigger=function(silent){this.$element.off("change.bs.toggle"),silent||this.$element.change(),this.$element.on("change.bs.toggle",$.proxy(function(){this.update()},this))},Toggle.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var old=$.fn.bootstrapToggle;$.fn.bootstrapToggle=Plugin,$.fn.bootstrapToggle.Constructor=Toggle,$.fn.toggle.noConflict=function(){return $.fn.bootstrapToggle=old,this},$(function(){$("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()}),$(document).on("click.bs.toggle","div[data-toggle^=toggle]",function(e){var $checkbox=$(this).find("input[type=checkbox]");$checkbox.bootstrapToggle("toggle"),e.preventDefault()})}(jQuery),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"==typeof exports?require("jquery"):jQuery)}(function($,undefined){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var today=new Date;return UTCDate(today.getFullYear(),today.getMonth(),today.getDate())}function isUTCEquals(date1,date2){return date1.getUTCFullYear()===date2.getUTCFullYear()&&date1.getUTCMonth()===date2.getUTCMonth()&&date1.getUTCDate()===date2.getUTCDate()}function alias(method){return function(){return this[method].apply(this,arguments)}}function isValidDate(d){return d&&!isNaN(d.getTime())}function opts_from_el(el,prefix){function re_lower(_,a){return a.toLowerCase()}var inkey,data=$(el).data(),out={},replace=new RegExp("^"+prefix.toLowerCase()+"([A-Z])");prefix=new RegExp("^"+prefix.toLowerCase());for(var key in data)prefix.test(key)&&(inkey=key.replace(replace,re_lower),out[inkey]=data[key]);return out}function opts_from_locale(lang){var out={};if(dates[lang]||(lang=lang.split("-")[0],dates[lang])){var d=dates[lang];return $.each(locale_opts,function(i,k){k in d&&(out[k]=d[k])}),out}}var DateArray=function(){var extras={get:function(i){return this.slice(i)[0]},contains:function(d){for(var val=d&&d.valueOf(),i=0,l=this.length;i<l;i++)if(this[i].valueOf()===val)return i;return-1},remove:function(i){this.splice(i,1)},replace:function(new_array){new_array&&($.isArray(new_array)||(new_array=[new_array]),this.clear(),this.push.apply(this,new_array))},clear:function(){this.length=0},copy:function(){var a=new DateArray;return a.replace(this),a}};return function(){var a=[];return a.push.apply(a,arguments),$.extend(a,extras),a}}(),Datepicker=function(element,options){$(element).data("datepicker",this),this._process_options(options),this.dates=new DateArray,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=$(element),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=$(DPGlobal.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(i,val){return parseInt(val)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};Datepicker.prototype={constructor:Datepicker,_resolveViewName:function(view,default_value){return 0===view||"days"===view||"month"===view?0:1===view||"months"===view||"year"===view?1:2===view||"years"===view||"decade"===view?2:3===view||"decades"===view||"century"===view?3:4===view||"centuries"===view||"millennium"===view?4:default_value!==undefined&&default_value},_check_template:function(tmp){try{if(tmp===undefined||""===tmp)return!1;if((tmp.match(/[<>]/g)||[]).length<=0)return!0;var jDom=$(tmp);return jDom.length>0}catch(ex){return!1}},_process_options:function(opts){this._o=$.extend({},this._o,opts);var o=this.o=$.extend({},this._o),lang=o.language;dates[lang]||(lang=lang.split("-")[0],dates[lang]||(lang=defaults.language)),o.language=lang,o.startView=this._resolveViewName(o.startView,0),o.minViewMode=this._resolveViewName(o.minViewMode,0),o.maxViewMode=this._resolveViewName(o.maxViewMode,4),o.startView=Math.min(o.startView,o.maxViewMode),o.startView=Math.max(o.startView,o.minViewMode),o.multidate!==!0&&(o.multidate=Number(o.multidate)||!1,o.multidate!==!1&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var format=DPGlobal.parseFormat(o.format);o.startDate!==-(1/0)&&(o.startDate?o.startDate instanceof Date?o.startDate=this._local_to_utc(this._zero_time(o.startDate)):o.startDate=DPGlobal.parseDate(o.startDate,format,o.language,o.assumeNearbyYear):o.startDate=-(1/0)),o.endDate!==1/0&&(o.endDate?o.endDate instanceof Date?o.endDate=this._local_to_utc(this._zero_time(o.endDate)):o.endDate=DPGlobal.parseDate(o.endDate,format,o.language,o.assumeNearbyYear):o.endDate=1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],$.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10)}),o.daysOfWeekHighlighted=o.daysOfWeekHighlighted||[],$.isArray(o.daysOfWeekHighlighted)||(o.daysOfWeekHighlighted=o.daysOfWeekHighlighted.split(/[,\s]*/)),o.daysOfWeekHighlighted=$.map(o.daysOfWeekHighlighted,function(d){return parseInt(d,10)}),o.datesDisabled=o.datesDisabled||[],$.isArray(o.datesDisabled)||(o.datesDisabled=[o.datesDisabled]),o.datesDisabled=$.map(o.datesDisabled,function(d){return DPGlobal.parseDate(d,format,o.language,o.assumeNearbyYear)});var plc=String(o.orientation).toLowerCase().split(/\s+/g),_plc=o.orientation.toLowerCase();if(plc=$.grep(plc,function(word){return/^auto|left|right|top|bottom$/.test(word)}),o.orientation={x:"auto",y:"auto"},_plc&&"auto"!==_plc)if(1===plc.length)switch(plc[0]){case"top":case"bottom":o.orientation.y=plc[0];break;case"left":case"right":o.orientation.x=plc[0]}else _plc=$.grep(plc,function(word){return/^left|right$/.test(word)}),o.orientation.x=_plc[0]||"auto",_plc=$.grep(plc,function(word){return/^top|bottom$/.test(word)}),o.orientation.y=_plc[0]||"auto";else;if(o.defaultViewDate){var year=o.defaultViewDate.year||(new Date).getFullYear(),month=o.defaultViewDate.month||0,day=o.defaultViewDate.day||1;o.defaultViewDate=UTCDate(year,month,day)}else o.defaultViewDate=UTCToday()},_events:[],_secondaryEvents:[],_applyEvents:function(evs){for(var el,ch,ev,i=0;i<evs.length;i++)el=evs[i][0],2===evs[i].length?(ch=undefined,ev=evs[i][1]):3===evs[i].length&&(ch=evs[i][1],ev=evs[i][2]),el.on(ev,ch)},_unapplyEvents:function(evs){for(var el,ev,ch,i=0;i<evs.length;i++)el=evs[i][0],2===evs[i].length?(ch=undefined,ev=evs[i][1]):3===evs[i].length&&(ch=evs[i][1],ev=evs[i][2]),el.off(ev,ch)},_buildEvents:function(){var events={keyup:$.proxy(function(e){$.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:$.proxy(this.keydown,this),paste:$.proxy(this.paste,this)};this.o.showOnFocus===!0&&(events.focus=$.proxy(this.show,this)),this.isInput?this._events=[[this.element,events]]:this.component&&this.hasInput?this._events=[[this.inputField,events],[this.component,{click:$.proxy(this.show,this)}]]:this._events=[[this.element,{click:$.proxy(this.show,this),keydown:$.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:$.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":$.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{mousedown:$.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(event,altdate){var date=altdate||this.dates.get(-1),local_date=this._utc_to_local(date);this.element.trigger({type:event,date:local_date,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(ix,format){0===arguments.length?(ix=this.dates.length-1,format=this.o.format):"string"==typeof ix&&(format=ix,ix=this.dates.length-1),format=format||this.o.format;var date=this.dates.get(ix);return DPGlobal.formatDate(date,format,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&$(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(evt){var dateString;if(evt.originalEvent.clipboardData&&evt.originalEvent.clipboardData.types&&$.inArray("text/plain",evt.originalEvent.clipboardData.types)!==-1)dateString=evt.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;dateString=window.clipboardData.getData("Text")}this.setDate(dateString),this.update(),evt.preventDefault()},_utc_to_local:function(utc){return utc&&new Date(utc.getTime()+6e4*utc.getTimezoneOffset())},_local_to_utc:function(local){return local&&new Date(local.getTime()-6e4*local.getTimezoneOffset())},_zero_time:function(local){return local&&new Date(local.getFullYear(),local.getMonth(),local.getDate())},_zero_utc_time:function(utc){return utc&&new Date(Date.UTC(utc.getUTCFullYear(),utc.getUTCMonth(),utc.getUTCDate()))},getDates:function(){return $.map(this.dates,this._utc_to_local)},getUTCDates:function(){return $.map(this.dates,function(d){return new Date(d)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var selected_date=this.dates.get(-1);return"undefined"!=typeof selected_date?new Date(selected_date):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,args),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var args=$.isArray(arguments[0])?arguments[0]:arguments;
return this.update.apply(this,$.map(args,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:alias("setDates"),setUTCDate:alias("setUTCDates"),remove:alias("destroy"),setValue:function(){var formatted=this.getFormattedDate();return this.inputField.val(formatted),this},getFormattedDate:function(format){format===undefined&&(format=this.o.format);var lang=this.o.language;return $.map(this.dates,function(d){return DPGlobal.formatDate(d,format,lang)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(startDate){return this._process_options({startDate:startDate}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(endDate){return this._process_options({endDate:endDate}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(daysOfWeekDisabled){return this._process_options({daysOfWeekDisabled:daysOfWeekDisabled}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(daysOfWeekHighlighted){return this._process_options({daysOfWeekHighlighted:daysOfWeekHighlighted}),this.update(),this},setDatesDisabled:function(datesDisabled){this._process_options({datesDisabled:datesDisabled}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var calendarWidth=this.picker.outerWidth(),calendarHeight=this.picker.outerHeight(),visualPadding=10,container=$(this.o.container),windowWidth=container.width(),scrollTop="body"===this.o.container?$(document).scrollTop():container.scrollTop(),appendOffset=container.offset(),parentsZindex=[];this.element.parents().each(function(){var itemZIndex=$(this).css("z-index");"auto"!==itemZIndex&&0!==itemZIndex&&parentsZindex.push(parseInt(itemZIndex))});var zIndex=Math.max.apply(Math,parentsZindex)+this.o.zIndexOffset,offset=this.component?this.component.parent().offset():this.element.offset(),height=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),width=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),left=offset.left-appendOffset.left,top=offset.top-appendOffset.top;"body"!==this.o.container&&(top+=scrollTop),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(left-=calendarWidth-width)):offset.left<0?(this.picker.addClass("datepicker-orient-left"),left-=offset.left-visualPadding):left+calendarWidth>windowWidth?(this.picker.addClass("datepicker-orient-right"),left+=width-calendarWidth):this.picker.addClass("datepicker-orient-left");var top_overflow,yorient=this.o.orientation.y;if("auto"===yorient&&(top_overflow=-scrollTop+top-calendarHeight,yorient=top_overflow<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+yorient),"top"===yorient?top-=calendarHeight+parseInt(this.picker.css("padding-top")):top+=height,this.o.rtl){var right=windowWidth-(left+width);this.picker.css({top:top,right:right,zIndex:zIndex})}else this.picker.css({top:top,left:left,zIndex:zIndex});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var oldDates=this.dates.copy(),dates=[],fromArgs=!1;return arguments.length?($.each(arguments,$.proxy(function(i,date){date instanceof Date&&(date=this._local_to_utc(date)),dates.push(date)},this)),fromArgs=!0):(dates=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),dates=dates&&this.o.multidate?dates.split(this.o.multidateSeparator):[dates],delete this.element.data().date),dates=$.map(dates,$.proxy(function(date){return DPGlobal.parseDate(date,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),dates=$.grep(dates,$.proxy(function(date){return!this.dateWithinRange(date)||!date},this),!0),this.dates.replace(dates),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,fromArgs?this.setValue():dates.length&&String(oldDates)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&oldDates.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var dowCnt=this.o.weekStart,html="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(i,val){return parseInt(val)+1}),html+='<th class="cw">&#160;</th>');dowCnt<this.o.weekStart+7;)html+='<th class="dow',$.inArray(dowCnt,this.o.daysOfWeekDisabled)>-1&&(html+=" disabled"),html+='">'+dates[this.o.language].daysMin[dowCnt++%7]+"</th>";html+="</tr>",this.picker.find(".datepicker-days thead").append(html)},fillMonths:function(){for(var localDate=this._utc_to_local(this.viewDate),html="",i=0;i<12;){var focused=localDate&&localDate.getMonth()===i?" focused":"";html+='<span class="month'+focused+'">'+dates[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(html)},setRange:function(range){range&&range.length?this.range=$.map(range,function(d){return d.valueOf()}):delete this.range,this.fill()},getClassNames:function(date){var cls=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),today=new Date;return date.getUTCFullYear()<year||date.getUTCFullYear()===year&&date.getUTCMonth()<month?cls.push("old"):(date.getUTCFullYear()>year||date.getUTCFullYear()===year&&date.getUTCMonth()>month)&&cls.push("new"),this.focusDate&&date.valueOf()===this.focusDate.valueOf()&&cls.push("focused"),this.o.todayHighlight&&date.getUTCFullYear()===today.getFullYear()&&date.getUTCMonth()===today.getMonth()&&date.getUTCDate()===today.getDate()&&cls.push("today"),this.dates.contains(date)!==-1&&cls.push("active"),this.dateWithinRange(date)||cls.push("disabled"),this.dateIsDisabled(date)&&cls.push("disabled","disabled-date"),$.inArray(date.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&cls.push("highlighted"),this.range&&(date>this.range[0]&&date<this.range[this.range.length-1]&&cls.push("range"),$.inArray(date.valueOf(),this.range)!==-1&&cls.push("selected"),date.valueOf()===this.range[0]&&cls.push("range-start"),date.valueOf()===this.range[this.range.length-1]&&cls.push("range-end")),cls},_fill_yearsView:function(selector,cssClass,factor,step,currentYear,startYear,endYear,callback){var html,view,year,steps,startStep,endStep,thisYear,i,classes,tooltip,before;for(html="",view=this.picker.find(selector),year=parseInt(currentYear/factor,10)*factor,startStep=parseInt(startYear/step,10)*step,endStep=parseInt(endYear/step,10)*step,steps=$.map(this.dates,function(d){return parseInt(d.getUTCFullYear()/step,10)*step}),view.find(".datepicker-switch").text(year+"-"+(year+9*step)),thisYear=year-step,i=-1;i<11;i+=1)classes=[cssClass],tooltip=null,i===-1?classes.push("old"):10===i&&classes.push("new"),$.inArray(thisYear,steps)!==-1&&classes.push("active"),(thisYear<startStep||thisYear>endStep)&&classes.push("disabled"),thisYear===this.viewDate.getFullYear()&&classes.push("focused"),callback!==$.noop&&(before=callback(new Date(thisYear,0,1)),before===undefined?before={}:"boolean"==typeof before?before={enabled:before}:"string"==typeof before&&(before={classes:before}),before.enabled===!1&&classes.push("disabled"),before.classes&&(classes=classes.concat(before.classes.split(/\s+/))),before.tooltip&&(tooltip=before.tooltip)),html+='<span class="'+classes.join(" ")+'"'+(tooltip?' title="'+tooltip+'"':"")+">"+thisYear+"</span>",thisYear+=step;view.find("td").html(html)},fill:function(){var tooltip,before,d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),startMonth=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),endYear=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,endMonth=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,todaytxt=dates[this.o.language].today||dates.en.today||"",cleartxt=dates[this.o.language].clear||dates.en.clear||"",titleFormat=dates[this.o.language].titleFormat||dates.en.titleFormat;if(!isNaN(year)&&!isNaN(month)){this.picker.find(".datepicker-days .datepicker-switch").text(DPGlobal.formatDate(d,titleFormat,this.o.language)),this.picker.find("tfoot .today").text(todaytxt).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(cleartxt).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var prevMonth=UTCDate(year,month-1,28),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day),prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.o.weekStart+7)%7);var nextMonth=new Date(prevMonth);prevMonth.getUTCFullYear()<100&&nextMonth.setUTCFullYear(prevMonth.getUTCFullYear()),nextMonth.setUTCDate(nextMonth.getUTCDate()+42),nextMonth=nextMonth.valueOf();for(var clsName,html=[];prevMonth.valueOf()<nextMonth;){if(prevMonth.getUTCDay()===this.o.weekStart&&(html.push("<tr>"),this.o.calendarWeeks)){var ws=new Date(+prevMonth+(this.o.weekStart-prevMonth.getUTCDay()-7)%7*864e5),th=new Date(Number(ws)+(11-ws.getUTCDay())%7*864e5),yth=new Date(Number(yth=UTCDate(th.getUTCFullYear(),0,1))+(11-yth.getUTCDay())%7*864e5),calWeek=(th-yth)/864e5/7+1;html.push('<td class="cw">'+calWeek+"</td>")}clsName=this.getClassNames(prevMonth),clsName.push("day"),this.o.beforeShowDay!==$.noop&&(before=this.o.beforeShowDay(this._utc_to_local(prevMonth)),before===undefined?before={}:"boolean"==typeof before?before={enabled:before}:"string"==typeof before&&(before={classes:before}),before.enabled===!1&&clsName.push("disabled"),before.classes&&(clsName=clsName.concat(before.classes.split(/\s+/))),before.tooltip&&(tooltip=before.tooltip)),clsName=$.isFunction($.uniqueSort)?$.uniqueSort(clsName):$.unique(clsName),html.push('<td class="'+clsName.join(" ")+'"'+(tooltip?' title="'+tooltip+'"':"")+">"+prevMonth.getUTCDate()+"</td>"),tooltip=null,prevMonth.getUTCDay()===this.o.weekEnd&&html.push("</tr>"),prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var monthsTitle=dates[this.o.language].monthsTitle||dates.en.monthsTitle||"Months",months=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?monthsTitle:year).end().find("span").removeClass("active");if($.each(this.dates,function(i,d){d.getUTCFullYear()===year&&months.eq(d.getUTCMonth()).addClass("active")}),(year<startYear||year>endYear)&&months.addClass("disabled"),year===startYear&&months.slice(0,startMonth).addClass("disabled"),year===endYear&&months.slice(endMonth+1).addClass("disabled"),this.o.beforeShowMonth!==$.noop){var that=this;$.each(months,function(i,month){var moDate=new Date(year,i,1),before=that.o.beforeShowMonth(moDate);before===undefined?before={}:"boolean"==typeof before?before={enabled:before}:"string"==typeof before&&(before={classes:before}),before.enabled!==!1||$(month).hasClass("disabled")||$(month).addClass("disabled"),before.classes&&$(month).addClass(before.classes),before.tooltip&&$(month).prop("title",before.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,year,startYear,endYear,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,year,startYear,endYear,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,year,startYear,endYear,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&year<=this.o.startDate.getUTCFullYear()&&month<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&year<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&year>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var target,dir,day,year,month,monthChanged,yearChanged;target=$(e.target),target.hasClass("datepicker-switch")&&this.showMode(1);var navArrow=target.closest(".prev, .next");navArrow.length>0&&(dir=DPGlobal.modes[this.viewMode].navStep*(navArrow.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,dir),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,dir),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),target.hasClass("today")&&!target.hasClass("day")&&(this.showMode(-2),this._setDate(UTCToday(),"linked"===this.o.todayBtn?null:"view")),target.hasClass("clear")&&this.clearDates(),target.hasClass("disabled")||(target.hasClass("day")&&(day=parseInt(target.text(),10)||1,year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),target.hasClass("old")&&(0===month?(month=11,year-=1,monthChanged=!0,yearChanged=!0):(month-=1,monthChanged=!0)),target.hasClass("new")&&(11===month?(month=0,year+=1,monthChanged=!0,yearChanged=!0):(month+=1,monthChanged=!0)),this._setDate(UTCDate(year,month,day)),yearChanged&&this._trigger("changeYear",this.viewDate),monthChanged&&this._trigger("changeMonth",this.viewDate)),target.hasClass("month")&&(this.viewDate.setUTCDate(1),day=1,month=target.parent().find("span").index(target),year=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(month),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(UTCDate(year,month,day)),this.showMode()):this.showMode(-1),this.fill()),(target.hasClass("year")||target.hasClass("decade")||target.hasClass("century"))&&(this.viewDate.setUTCDate(1),day=1,month=0,year=parseInt(target.text(),10)||0,this.viewDate.setUTCFullYear(year),target.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(UTCDate(year,month,day))),target.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(UTCDate(year,month,day))),target.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(UTCDate(year,month,day))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&$(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(date){var ix=this.dates.contains(date);if(date||this.dates.clear(),ix!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(ix):this.o.multidate===!1?(this.dates.clear(),this.dates.push(date)):this.dates.push(date),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(date,which){which&&"date"!==which||this._toggle_multidate(date&&new Date(date)),which&&"view"!==which||(this.viewDate=date&&new Date(date)),this.fill(),this.setValue(),which&&"view"===which||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||which&&"date"!==which||this.hide()},moveDay:function(date,dir){var newDate=new Date(date);return newDate.setUTCDate(date.getUTCDate()+dir),newDate},moveWeek:function(date,dir){return this.moveDay(date,7*dir)},moveMonth:function(date,dir){if(!isValidDate(date))return this.o.defaultViewDate;if(!dir)return date;var new_month,test,new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir);if(dir=dir>0?1:-1,1===mag)test=dir===-1?function(){return new_date.getUTCMonth()===month}:function(){return new_date.getUTCMonth()!==new_month},new_month=month+dir,new_date.setUTCMonth(new_month),(new_month<0||new_month>11)&&(new_month=(new_month+12)%12);else{for(var i=0;i<mag;i++)new_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth(),new_date.setUTCDate(day),test=function(){return new_month!==new_date.getUTCMonth()}}for(;test();)new_date.setUTCDate(--day),new_date.setUTCMonth(new_month);return new_date},moveYear:function(date,dir){return this.moveMonth(date,12*dir)},moveAvailableDate:function(date,dir,fn){do{if(date=this[fn](date,dir),!this.dateWithinRange(date))return!1;fn="moveDay"}while(this.dateIsDisabled(date));return date},weekOfDateIsDisabled:function(date){return $.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(date){return this.weekOfDateIsDisabled(date)||$.grep(this.o.datesDisabled,function(d){return isUTCEquals(date,d)}).length>0},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation()));var dir,newViewDate,dateChanged=!1,focusDate=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;dir=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(newViewDate=this.moveAvailableDate(focusDate,dir,"moveYear"),newViewDate&&this._trigger("changeYear",this.viewDate)):e.shiftKey?(newViewDate=this.moveAvailableDate(focusDate,dir,"moveMonth"),newViewDate&&this._trigger("changeMonth",this.viewDate)):37===e.keyCode||39===e.keyCode?newViewDate=this.moveAvailableDate(focusDate,dir,"moveDay"):this.weekOfDateIsDisabled(focusDate)||(newViewDate=this.moveAvailableDate(focusDate,dir,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(dir*=4),newViewDate=this.moveAvailableDate(focusDate,dir,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(dir*=4),newViewDate=this.moveAvailableDate(focusDate,dir,"moveYear")),newViewDate&&(this.focusDate=this.viewDate=newViewDate,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;focusDate=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(focusDate),dateChanged=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}dateChanged&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(dir){dir&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+dir))),this.picker.children("div").hide().filter(".datepicker-"+DPGlobal.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var DateRangePicker=function(element,options){$(element).data("datepicker",this),this.element=$(element),this.inputs=$.map(options.inputs,function(i){return i.jquery?i[0]:i}),delete options.inputs,datepickerPlugin.call($(this.inputs),options).on("changeDate",$.proxy(this.dateUpdated,this)),this.pickers=$.map(this.inputs,function(i){return $(i).data("datepicker")}),this.updateDates()};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.getUTCDate()}),this.updateRanges()},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf()});$.each(this.pickers,function(i,p){p.setRange(range)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var dp=$(e.target).data("datepicker");if("undefined"!=typeof dp){var new_date=dp.getUTCDate(),i=$.inArray(e.target,this.inputs),j=i-1,k=i+1,l=this.inputs.length;if(i!==-1){if($.each(this.pickers,function(i,p){p.getUTCDate()||p.setUTCDate(new_date)}),new_date<this.dates[j])for(;j>=0&&new_date<this.dates[j];)this.pickers[j--].setUTCDate(new_date);else if(new_date>this.dates[k])for(;k<l&&new_date>this.dates[k];)this.pickers[k++].setUTCDate(new_date);this.updateDates(),delete this.updating}}}},remove:function(){$.map(this.pickers,function(p){p.remove()}),delete this.element.data().datepicker}};var old=$.fn.datepicker,datepickerPlugin=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;if(this.each(function(){var $this=$(this),data=$this.data("datepicker"),options="object"==typeof option&&option;if(!data){var elopts=opts_from_el(this,"date"),xopts=$.extend({},defaults,elopts,options),locopts=opts_from_locale(xopts.language),opts=$.extend({},defaults,locopts,elopts,options);$this.hasClass("input-daterange")||opts.inputs?($.extend(opts,{inputs:opts.inputs||$this.find("input").toArray()}),data=new DateRangePicker(this,opts)):data=new Datepicker(this,opts),$this.data("datepicker",data)}"string"==typeof option&&"function"==typeof data[option]&&(internal_return=data[option].apply(data,args))}),internal_return===undefined||internal_return instanceof Datepicker||internal_return instanceof DateRangePicker)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+option+" function)");return internal_return};$.fn.datepicker=datepickerPlugin;var defaults=$.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:$.noop,beforeShowMonth:$.noop,beforeShowYear:$.noop,beforeShowDecade:$.noop,beforeShowCentury:$.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},locale_opts=$.fn.datepicker.locale_opts=["format","rtl","weekStart"];$.fn.datepicker.Constructor=Datepicker;var dates=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},DPGlobal={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(year){return year%4===0&&year%100!==0||year%400===0},getDaysInMonth:function(year,month){return[31,DPGlobal.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(format){if("function"==typeof format.toValue&&"function"==typeof format.toDisplay)return format;var separators=format.replace(this.validParts,"\0").split("\0"),parts=format.match(this.validParts);if(!separators||!separators.length||!parts||0===parts.length)throw new Error("Invalid date format.");return{separators:separators,parts:parts}},parseDate:function(date,format,language,assumeNearby){function applyNearbyYear(year,threshold){return threshold===!0&&(threshold=10),year<100&&(year+=2e3,year>(new Date).getFullYear()+threshold&&(year-=100)),year}function match_part(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m.toLowerCase()===p.toLowerCase()}if(!date)return undefined;if(date instanceof Date)return date;if("string"==typeof format&&(format=DPGlobal.parseFormat(format)),format.toValue)return format.toValue(date,format,language);var part,dir,i,fn,part_re=/([\-+]\d+)([dmwy])/,parts=date.match(/([\-+]\d+)([dmwy])/g),fn_map={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},dateAliases={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date)){for(date=new Date,i=0;i<parts.length;i++)part=part_re.exec(parts[i]),dir=parseInt(part[1]),fn=fn_map[part[2]],date=Datepicker.prototype[fn](date,dir);return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate())}if("undefined"!=typeof dateAliases[date]&&(date=dateAliases[date],parts=date.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date))){for(date=new Date,i=0;i<parts.length;i++)part=part_re.exec(parts[i]),dir=parseInt(part[1]),fn=fn_map[part[2]],date=Datepicker.prototype[fn](date,dir);return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate())}parts=date&&date.match(this.nonpunctuation)||[],date=new Date;var val,filtered,parsed={},setters_order=["yyyy","yy","M","MM","m","mm","d","dd"],setters_map={yyyy:function(d,v){return d.setUTCFullYear(assumeNearby?applyNearbyYear(v,assumeNearby):v)},yy:function(d,v){return d.setUTCFullYear(assumeNearby?applyNearbyYear(v,assumeNearby):v)},m:function(d,v){if(isNaN(d))return d;for(v-=1;v<0;)v+=12;for(v%=12,d.setUTCMonth(v);d.getUTCMonth()!==v;)d.setUTCDate(d.getUTCDate()-1);return d},d:function(d,v){return d.setUTCDate(v)}};setters_map.M=setters_map.MM=setters_map.mm=setters_map.m,setters_map.dd=setters_map.d,date=UTCToday();var fparts=format.parts.slice();if(parts.length!==fparts.length&&(fparts=$(fparts).filter(function(i,p){return $.inArray(p,setters_order)!==-1}).toArray()),parts.length===fparts.length){var cnt;for(i=0,cnt=fparts.length;i<cnt;i++){if(val=parseInt(parts[i],10),part=fparts[i],isNaN(val))switch(part){case"MM":filtered=$(dates[language].months).filter(match_part),val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(match_part),val=$.inArray(filtered[0],dates[language].monthsShort)+1}parsed[part]=val}var _date,s;for(i=0;i<setters_order.length;i++)s=setters_order[i],s in parsed&&!isNaN(parsed[s])&&(_date=new Date(date),setters_map[s](_date,parsed[s]),isNaN(_date)||(date=_date))}return date},formatDate:function(date,format,language){if(!date)return"";if("string"==typeof format&&(format=DPGlobal.parseFormat(format)),format.toDisplay)return format.toDisplay(date,format,language);var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()};val.dd=(val.d<10?"0":"")+val.d,val.mm=(val.m<10?"0":"")+val.m,date=[];for(var seps=$.extend([],format.separators),i=0,cnt=format.parts.length;i<=cnt;i++)seps.length&&date.push(seps.shift()),date.push(val[format.parts[i]]);return date.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};DPGlobal.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table></div></div>",$.fn.datepicker.DPGlobal=DPGlobal,$.fn.datepicker.noConflict=function(){return $.fn.datepicker=old,this},$.fn.datepicker.version="1.6.4",$(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var $this=$(this);$this.data("datepicker")||(e.preventDefault(),datepickerPlugin.call($this,"show"))}),$(function(){datepickerPlugin.call($('[data-provide="datepicker-inline"]'))})}),function($){"use strict";$.fn.extend({maxlength:function(options,callback){function charsLeftThreshold(input,thereshold,maxlength){return!!options.alwaysShow||maxlength-inputLength(input)<=thereshold}function inputLength(input){return input.val().length}function remainingChars(input,maxlength){var length=maxlength-inputLength(input);return length}function showRemaining(indicator){indicator.css({display:"block"})}function hideRemaining(indicator){indicator.css({display:"none"})}function manageRemainingVisibility(remaining,currentInput,maxLengthCurrentInput,maxLengthIndicator){maxLengthIndicator.html(updateMaxLengthHTML(maxLengthCurrentInput,remaining)),remaining?charsLeftThreshold(currentInput,options.threshold,maxLengthCurrentInput)?showRemaining(maxLengthIndicator.removeClass(options.limitReachedClass).addClass(options.warningClass)):hideRemaining(maxLengthIndicator):showRemaining(maxLengthIndicator.removeClass(options.warningClass).addClass(options.limitReachedClass))}function updateMaxLengthHTML(maxLengthThisInput,typedChars){var output="";return options.preText&&(output+=options.preText),output=output+typedChars+options.separator+maxLengthThisInput,options.postText&&(output+=options.postText),output}function getPosition(currentInput){var el=currentInput[0];return $.extend({},"function"==typeof el.getBoundingClientRect?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},currentInput.offset())}function place(currentInput,maxLengthIndicator){var pos=getPosition(currentInput),offset=currentInput.offset(),inputOuter=currentInput.outerWidth(),outerWidth=maxLengthIndicator.outerWidth(),actualWidth=maxLengthIndicator.width(),actualHeight=maxLengthIndicator.height();switch(options.placement){case"bottom":maxLengthIndicator.css({top:offset.top+pos.height,left:offset.left+pos.width/2-actualWidth/2});break;case"top":maxLengthIndicator.css({top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2});break;case"left":maxLengthIndicator.css({top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth});break;case"right":maxLengthIndicator.css({top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width});break;case"bottom-right":maxLengthIndicator.css({top:pos.top+pos.height,left:pos.left+pos.width});break;case"top-right":maxLengthIndicator.css({top:offset.top-actualHeight,left:offset.left+inputOuter});break;case"top-left":maxLengthIndicator.css({top:offset.top-actualHeight,left:offset.left-outerWidth});break;case"bottom-left":maxLengthIndicator.css({top:offset.top+currentInput.outerHeight(),left:offset.left-outerWidth});break;case"centered-right":maxLengthIndicator.css({top:offset.top+actualHeight/2,left:offset.left+inputOuter-outerWidth-3})}}var documentBody=$("body"),defaults={alwaysShow:!1,threshold:10,warningClass:"badge badge-success",limitReachedClass:"badge badge-important",separator:" / ",preText:"",
postText:"",placement:"bottom",validate:!1};return $.isFunction(options)&&!callback&&(callback=options,options={}),options=$.extend(defaults,options),this.each(function(){var currentInput=$(this),maxLengthCurrentInput=currentInput.attr("maxlength")||currentInput.attr("size"),maxLengthIndicator=$("<span></span>").css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:999}).html(updateMaxLengthHTML(maxLengthCurrentInput,"0"));documentBody.append(maxLengthIndicator),currentInput.focus(function(){var remaining=remainingChars(currentInput,maxLengthCurrentInput);maxLengthIndicator.css({zIndex:99999}),manageRemainingVisibility(remaining,currentInput,maxLengthCurrentInput,maxLengthIndicator),place(currentInput,maxLengthIndicator)}),currentInput.blur(function(){maxLengthIndicator.css("display","none")}),currentInput.keyup(function(){var remaining=remainingChars(currentInput,maxLengthCurrentInput);return!(options.validate&&remaining<0)&&void manageRemainingVisibility(remaining,currentInput,maxLengthCurrentInput,maxLengthIndicator)})})}})}(jQuery),function(window,undefined){"use strict";function addEventListener(el,evt,func){"addEventListener"in window?el.addEventListener(evt,func,!1):"attachEvent"in window&&el.attachEvent("on"+evt,func)}function removeEventListener(el,evt,func){"removeEventListener"in window?el.removeEventListener(evt,func,!1):"detachEvent"in window&&el.detachEvent("on"+evt,func)}function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}function throttle(func){var context,args,result,timeout=null,previous=0,later=function(){previous=getNow(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)};return function(){var now=getNow();previous||(previous=now);var remaining=throttledTimer-(now-previous);return context=this,args=arguments,remaining<=0||remaining>throttledTimer?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||(timeout=setTimeout(later,remaining)),result}}function formatLogMsg(msg){return msgID+"["+myID+"] "+msg}function log(msg){logging&&"object"==typeof window.console&&console.log(formatLogMsg(msg))}function warn(msg){"object"==typeof window.console&&console.warn(formatLogMsg(msg))}function init(){readDataFromParent(),log("Initialising iFrame ("+location.href+")"),readDataFromPage(),setMargin(),setBodyStyle("background",bodyBackground),setBodyStyle("padding",bodyPadding),injectClearFixIntoBodyElement(),checkHeightMode(),checkWidthMode(),stopInfiniteResizingOfIFrame(),setupPublicMethods(),startEventListeners(),inPageLinks=setupInPageLinks(),sendSize("init","Init message from host page"),readyCallback()}function readDataFromParent(){function strBool(str){return"true"===str}var data=initMsg.substr(msgIdLen).split(":");myID=data[0],bodyMargin=undefined!==data[1]?Number(data[1]):bodyMargin,calculateWidth=undefined!==data[2]?strBool(data[2]):calculateWidth,logging=undefined!==data[3]?strBool(data[3]):logging,interval=undefined!==data[4]?Number(data[4]):interval,autoResize=undefined!==data[6]?strBool(data[6]):autoResize,bodyMarginStr=data[7],heightCalcMode=undefined!==data[8]?data[8]:heightCalcMode,bodyBackground=data[9],bodyPadding=data[10],tolerance=undefined!==data[11]?Number(data[11]):tolerance,inPageLinks.enable=undefined!==data[12]&&strBool(data[12]),resizeFrom=undefined!==data[13]?data[13]:resizeFrom,widthCalcMode=undefined!==data[14]?data[14]:widthCalcMode}function readDataFromPage(){function readData(){var data=window.iFrameResizer;log("Reading data from page: "+JSON.stringify(data)),messageCallback="messageCallback"in data?data.messageCallback:messageCallback,readyCallback="readyCallback"in data?data.readyCallback:readyCallback,targetOriginDefault="targetOrigin"in data?data.targetOrigin:targetOriginDefault,heightCalcMode="heightCalculationMethod"in data?data.heightCalculationMethod:heightCalcMode,widthCalcMode="widthCalculationMethod"in data?data.widthCalculationMethod:widthCalcMode}function setupCustomCalcMethods(calcMode,calcFunc){return"function"==typeof calcMode&&(log("Setup custom "+calcFunc+"CalcMethod"),customCalcMethods[calcFunc]=calcMode,calcMode="custom"),calcMode}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(readData(),heightCalcMode=setupCustomCalcMethods(heightCalcMode,"height"),widthCalcMode=setupCustomCalcMethods(widthCalcMode,"width")),log("TargetOrigin for parent set to: "+targetOriginDefault)}function chkCSS(attr,value){return-1!==value.indexOf("-")&&(warn("Negative CSS value ignored for "+attr),value=""),value}function setBodyStyle(attr,value){undefined!==value&&""!==value&&"null"!==value&&(document.body.style[attr]=value,log("Body "+attr+' set to "'+value+'"'))}function setMargin(){undefined===bodyMarginStr&&(bodyMarginStr=bodyMargin+"px"),setBodyStyle("margin",chkCSS("margin",bodyMarginStr))}function stopInfiniteResizingOfIFrame(){document.documentElement.style.height="",document.body.style.height="",log('HTML & body height set to "auto"')}function manageTriggerEvent(options){function handleEvent(){sendSize(options.eventName,options.eventType)}var listener={add:function(eventName){addEventListener(window,eventName,handleEvent)},remove:function(eventName){removeEventListener(window,eventName,handleEvent)}};options.eventNames&&Array.prototype.map?(options.eventName=options.eventNames[0],options.eventNames.map(listener[options.method])):listener[options.method](options.eventName),log(capitalizeFirstLetter(options.method)+" event listener: "+options.eventType)}function manageEventListeners(method){manageTriggerEvent({method:method,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),manageTriggerEvent({method:method,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),manageTriggerEvent({method:method,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),manageTriggerEvent({method:method,eventType:"Input",eventName:"input"}),manageTriggerEvent({method:method,eventType:"Mouse Up",eventName:"mouseup"}),manageTriggerEvent({method:method,eventType:"Mouse Down",eventName:"mousedown"}),manageTriggerEvent({method:method,eventType:"Orientation Change",eventName:"orientationchange"}),manageTriggerEvent({method:method,eventType:"Print",eventName:["afterprint","beforeprint"]}),manageTriggerEvent({method:method,eventType:"Ready State Change",eventName:"readystatechange"}),manageTriggerEvent({method:method,eventType:"Touch Start",eventName:"touchstart"}),manageTriggerEvent({method:method,eventType:"Touch End",eventName:"touchend"}),manageTriggerEvent({method:method,eventType:"Touch Cancel",eventName:"touchcancel"}),manageTriggerEvent({method:method,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),manageTriggerEvent({method:method,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),manageTriggerEvent({method:method,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===resizeFrom&&manageTriggerEvent({method:method,eventType:"IFrame Resized",eventName:"resize"})}function checkCalcMode(calcMode,calcModeDefault,modes,type){return calcModeDefault!==calcMode&&(calcMode in modes||(warn(calcMode+" is not a valid option for "+type+"CalculationMethod."),calcMode=calcModeDefault),log(type+' calculation method set to "'+calcMode+'"')),calcMode}function checkHeightMode(){heightCalcMode=checkCalcMode(heightCalcMode,heightCalcModeDefault,getHeight,"height")}function checkWidthMode(){widthCalcMode=checkCalcMode(widthCalcMode,widthCalcModeDefault,getWidth,"width")}function startEventListeners(){!0===autoResize?(manageEventListeners("add"),setupMutationObserver()):log("Auto Resize disabled")}function stopMsgsToParent(){log("Disable outgoing messages"),sendPermit=!1}function removeMsgListener(){log("Remove event listener: Message"),removeEventListener(window,"message",receiver)}function disconnectMutationObserver(){null!==bodyObserver&&bodyObserver.disconnect()}function stopEventListeners(){manageEventListeners("remove"),disconnectMutationObserver(),clearInterval(intervalTimer)}function teardown(){stopMsgsToParent(),removeMsgListener(),!0===autoResize&&stopEventListeners()}function injectClearFixIntoBodyElement(){var clearFix=document.createElement("div");clearFix.style.clear="both",clearFix.style.display="block",document.body.appendChild(clearFix)}function setupInPageLinks(){function getPagePosition(){return{x:window.pageXOffset!==undefined?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==undefined?window.pageYOffset:document.documentElement.scrollTop}}function getElementPosition(el){var elPosition=el.getBoundingClientRect(),pagePosition=getPagePosition();return{x:parseInt(elPosition.left,10)+parseInt(pagePosition.x,10),y:parseInt(elPosition.top,10)+parseInt(pagePosition.y,10)}}function findTarget(location){function jumpToTarget(target){var jumpPosition=getElementPosition(target);log("Moving to in page link (#"+hash+") at x: "+jumpPosition.x+" y: "+jumpPosition.y),sendMsg(jumpPosition.y,jumpPosition.x,"scrollToOffset")}var hash=location.split("#")[1]||location,hashData=decodeURIComponent(hash),target=document.getElementById(hashData)||document.getElementsByName(hashData)[0];undefined!==target?jumpToTarget(target):(log("In page link (#"+hash+") not found in iFrame, so sending to parent"),sendMsg(0,0,"inPageLink","#"+hash))}function checkLocationHash(){""!==location.hash&&"#"!==location.hash&&findTarget(location.href)}function bindAnchors(){function setupLink(el){function linkClicked(e){e.preventDefault(),findTarget(this.getAttribute("href"))}"#"!==el.getAttribute("href")&&addEventListener(el,"click",linkClicked)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),setupLink)}function bindLocationHash(){addEventListener(window,"hashchange",checkLocationHash)}function initCheck(){setTimeout(checkLocationHash,eventCancelTimer)}function enableInPageLinks(){Array.prototype.forEach&&document.querySelectorAll?(log("Setting up location.hash handlers"),bindAnchors(),bindLocationHash(),initCheck()):warn("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return inPageLinks.enable?enableInPageLinks():log("In page linking not enabled"),{findTarget:findTarget}}function setupPublicMethods(){log("Enable public methods"),win.parentIFrame={autoResize:function(resize){return!0===resize&&!1===autoResize?(autoResize=!0,startEventListeners()):!1===resize&&!0===autoResize&&(autoResize=!1,stopEventListeners()),autoResize},close:function(){sendMsg(0,0,"close"),teardown()},getId:function(){return myID},getPageInfo:function(callback){"function"==typeof callback?(pageInfoCallback=callback,sendMsg(0,0,"pageInfo")):(pageInfoCallback=function(){},sendMsg(0,0,"pageInfoStop"))},moveToAnchor:function(hash){inPageLinks.findTarget(hash)},reset:function(){resetIFrame("parentIFrame.reset")},scrollTo:function(x,y){sendMsg(y,x,"scrollTo")},scrollToOffset:function(x,y){sendMsg(y,x,"scrollToOffset")},sendMessage:function(msg,targetOrigin){sendMsg(0,0,"message",JSON.stringify(msg),targetOrigin)},setHeightCalculationMethod:function(heightCalculationMethod){heightCalcMode=heightCalculationMethod,checkHeightMode()},setWidthCalculationMethod:function(widthCalculationMethod){widthCalcMode=widthCalculationMethod,checkWidthMode()},setTargetOrigin:function(targetOrigin){log("Set targetOrigin: "+targetOrigin),targetOriginDefault=targetOrigin},size:function(customHeight,customWidth){var valString=""+(customHeight?customHeight:"")+(customWidth?","+customWidth:"");sendSize("size","parentIFrame.size("+valString+")",customHeight,customWidth)}}}function initInterval(){0!==interval&&(log("setInterval: "+interval+"ms"),intervalTimer=setInterval(function(){sendSize("interval","setInterval: "+interval)},Math.abs(interval)))}function setupBodyMutationObserver(){function addImageLoadListners(mutation){function addImageLoadListener(element){!1===element.complete&&(log("Attach listeners to "+element.src),element.addEventListener("load",imageLoaded,!1),element.addEventListener("error",imageError,!1),elements.push(element))}"attributes"===mutation.type&&"src"===mutation.attributeName?addImageLoadListener(mutation.target):"childList"===mutation.type&&Array.prototype.forEach.call(mutation.target.querySelectorAll("img"),addImageLoadListener)}function removeFromArray(element){elements.splice(elements.indexOf(element),1)}function removeImageLoadListener(element){log("Remove listeners from "+element.src),element.removeEventListener("load",imageLoaded,!1),element.removeEventListener("error",imageError,!1),removeFromArray(element)}function imageEventTriggered(event,type,typeDesc){removeImageLoadListener(event.target),sendSize(type,typeDesc+": "+event.target.src,undefined,undefined)}function imageLoaded(event){imageEventTriggered(event,"imageLoad","Image loaded")}function imageError(event){imageEventTriggered(event,"imageLoadFailed","Image load failed")}function mutationObserved(mutations){sendSize("mutationObserver","mutationObserver: "+mutations[0].target+" "+mutations[0].type),mutations.forEach(addImageLoadListners)}function createMutationObserver(){var target=document.querySelector("body"),config={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return observer=new MutationObserver(mutationObserved),log("Create body MutationObserver"),observer.observe(target,config),observer}var elements=[],MutationObserver=window.MutationObserver||window.WebKitMutationObserver,observer=createMutationObserver();return{disconnect:function(){"disconnect"in observer&&(log("Disconnect body MutationObserver"),observer.disconnect(),elements.forEach(removeImageLoadListener))}}}function setupMutationObserver(){var forceIntervalTimer=0>interval;window.MutationObserver||window.WebKitMutationObserver?forceIntervalTimer?initInterval():bodyObserver=setupBodyMutationObserver():(log("MutationObserver not supported in this browser!"),initInterval())}function getComputedStyle(prop,el){function convertUnitsToPxForIE8(value){var PIXEL=/^\d+(px)?$/i;if(PIXEL.test(value))return parseInt(value,base);var style=el.style.left,runtimeStyle=el.runtimeStyle.left;return el.runtimeStyle.left=el.currentStyle.left,el.style.left=value||0,value=el.style.pixelLeft,el.style.left=style,el.runtimeStyle.left=runtimeStyle,value}var retVal=0;return el=el||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(retVal=document.defaultView.getComputedStyle(el,null),retVal=null!==retVal?retVal[prop]:0):retVal=convertUnitsToPxForIE8(el.currentStyle[prop]),parseInt(retVal,base)}function chkEventThottle(timer){timer>throttledTimer/2&&(throttledTimer=2*timer,log("Event throttle increased to "+throttledTimer+"ms"))}function getMaxElement(side,elements){for(var elementsLength=elements.length,elVal=0,maxVal=0,Side=capitalizeFirstLetter(side),timer=getNow(),i=0;i<elementsLength;i++)elVal=elements[i].getBoundingClientRect()[side]+getComputedStyle("margin"+Side,elements[i]),elVal>maxVal&&(maxVal=elVal);return timer=getNow()-timer,log("Parsed "+elementsLength+" HTML elements"),log("Element position calculated in "+timer+"ms"),chkEventThottle(timer),maxVal}function getAllMeasurements(dimention){return[dimention.bodyOffset(),dimention.bodyScroll(),dimention.documentElementOffset(),dimention.documentElementScroll()]}function getTaggedElements(side,tag){function noTaggedElementsFound(){return warn("No tagged elements ("+tag+") found on page"),height}var elements=document.querySelectorAll("["+tag+"]");return 0===elements.length?noTaggedElementsFound():getMaxElement(side,elements)}function getAllElements(){return document.querySelectorAll("body *")}function sizeIFrame(triggerEvent,triggerEventDesc,customHeight,customWidth){function resizeIFrame(){height=currentHeight,width=currentWidth,sendMsg(height,width,triggerEvent)}function isSizeChangeDetected(){function checkTolarance(a,b){var retVal=Math.abs(a-b)<=tolerance;return!retVal}return currentHeight=undefined!==customHeight?customHeight:getHeight[heightCalcMode](),currentWidth=undefined!==customWidth?customWidth:getWidth[widthCalcMode](),checkTolarance(height,currentHeight)||calculateWidth&&checkTolarance(width,currentWidth)}function isForceResizableEvent(){return!(triggerEvent in{init:1,interval:1,size:1})}function isForceResizableCalcMode(){return heightCalcMode in resetRequiredMethods||calculateWidth&&widthCalcMode in resetRequiredMethods}function logIgnored(){log("No change in size detected")}function checkDownSizing(){isForceResizableEvent()&&isForceResizableCalcMode()?resetIFrame(triggerEventDesc):triggerEvent in{interval:1}||logIgnored()}var currentHeight,currentWidth;isSizeChangeDetected()||"init"===triggerEvent?(lockTrigger(),resizeIFrame()):checkDownSizing()}function sendSize(triggerEvent,triggerEventDesc,customHeight,customWidth){function recordTrigger(){triggerEvent in{reset:1,resetPage:1,init:1}||log("Trigger event: "+triggerEventDesc)}function isDoubleFiredEvent(){return triggerLocked&&triggerEvent in doubleEventList}isDoubleFiredEvent()?log("Trigger event cancelled: "+triggerEvent):(recordTrigger(),sizeIFrameThrottled(triggerEvent,triggerEventDesc,customHeight,customWidth))}function lockTrigger(){triggerLocked||(triggerLocked=!0,log("Trigger event lock on")),clearTimeout(triggerLockedTimer),triggerLockedTimer=setTimeout(function(){triggerLocked=!1,log("Trigger event lock off"),log("--")},eventCancelTimer)}function triggerReset(triggerEvent){height=getHeight[heightCalcMode](),width=getWidth[widthCalcMode](),sendMsg(height,width,triggerEvent)}function resetIFrame(triggerEventDesc){var hcm=heightCalcMode;heightCalcMode=heightCalcModeDefault,log("Reset trigger event: "+triggerEventDesc),lockTrigger(),triggerReset("reset"),heightCalcMode=hcm}function sendMsg(height,width,triggerEvent,msg,targetOrigin){function setTargetOrigin(){undefined===targetOrigin?targetOrigin=targetOriginDefault:log("Message targetOrigin: "+targetOrigin)}function sendToParent(){var size=height+":"+width,message=myID+":"+size+":"+triggerEvent+(undefined!==msg?":"+msg:"");log("Sending message to host page ("+message+")"),target.postMessage(msgID+message,targetOrigin)}!0===sendPermit&&(setTargetOrigin(),sendToParent())}function receiver(event){function isMessageForUs(){return msgID===(""+event.data).substr(0,msgIdLen)}function initFromParent(){function fireInit(){initMsg=event.data,target=event.source,init(),firstRun=!1,setTimeout(function(){initLock=!1},eventCancelTimer)}document.body?fireInit():(log("Waiting for page ready"),addEventListener(window,"readystatechange",initFromParent))}function resetFromParent(){initLock?log("Page reset ignored by init"):(log("Page size reset by host page"),triggerReset("resetPage"))}function resizeFromParent(){sendSize("resizeParent","Parent window requested size check")}function moveToAnchor(){var anchor=getData();inPageLinks.findTarget(anchor)}function getMessageType(){return event.data.split("]")[1].split(":")[0]}function getData(){return event.data.substr(event.data.indexOf(":")+1)}function isMiddleTier(){return"iFrameResize"in window}function messageFromParent(){var msgBody=getData();log("MessageCallback called from parent: "+msgBody),messageCallback(JSON.parse(msgBody)),log(" --")}function pageInfoFromParent(){var msgBody=getData();log("PageInfoFromParent called from parent: "+msgBody),pageInfoCallback(JSON.parse(msgBody)),log(" --")}function isInitMsg(){return event.data.split(":")[2]in{true:1,false:1}}function callFromParent(){switch(getMessageType()){case"reset":resetFromParent();break;case"resize":resizeFromParent();break;case"inPageLink":case"moveToAnchor":moveToAnchor();break;case"message":messageFromParent();break;case"pageInfo":pageInfoFromParent();break;default:isMiddleTier()||isInitMsg()||warn("Unexpected message ("+event.data+")")}}function processMessage(){!1===firstRun?callFromParent():isInitMsg()?initFromParent():log('Ignored message of type "'+getMessageType()+'". Received before initialization.')}isMessageForUs()&&processMessage()}function chkLateLoaded(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}var autoResize=!0,base=10,bodyBackground="",bodyMargin=0,bodyMarginStr="",bodyObserver=null,bodyPadding="",calculateWidth=!1,doubleEventList={resize:1,click:1},eventCancelTimer=128,firstRun=!0,height=1,heightCalcModeDefault="bodyOffset",heightCalcMode=heightCalcModeDefault,initLock=!0,initMsg="",inPageLinks={},interval=32,intervalTimer=null,logging=!1,msgID="[iFrameSizer]",msgIdLen=msgID.length,myID="",resetRequiredMethods={max:1,min:1,bodyScroll:1,documentElementScroll:1},resizeFrom="child",sendPermit=!0,target=window.parent,targetOriginDefault="*",tolerance=0,triggerLocked=!1,triggerLockedTimer=null,throttledTimer=16,width=1,widthCalcModeDefault="scroll",widthCalcMode=widthCalcModeDefault,win=window,messageCallback=function(){warn("MessageCallback function not defined")},readyCallback=function(){},pageInfoCallback=function(){},customCalcMethods={height:function(){return warn("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return warn("Custom width calculation function not defined"),document.body.scrollWidth}},getNow=Date.now||function(){return(new Date).getTime()},getHeight={bodyOffset:function(){return document.body.offsetHeight+getComputedStyle("marginTop")+getComputedStyle("marginBottom")},offset:function(){return getHeight.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return customCalcMethods.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,getAllMeasurements(getHeight))},min:function(){return Math.min.apply(null,getAllMeasurements(getHeight))},grow:function(){return getHeight.max()},lowestElement:function(){return Math.max(getHeight.bodyOffset(),getMaxElement("bottom",getAllElements()))},taggedElement:function(){return getTaggedElements("bottom","data-iframe-height")}},getWidth={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return customCalcMethods.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(getWidth.bodyScroll(),getWidth.documentElementScroll())},max:function(){return Math.max.apply(null,getAllMeasurements(getWidth))},min:function(){return Math.min.apply(null,getAllMeasurements(getWidth))},rightMostElement:function(){return getMaxElement("right",getAllElements())},taggedElement:function(){return getTaggedElements("right","data-iframe-width")}},sizeIFrameThrottled=throttle(sizeIFrame);addEventListener(window,"message",receiver),chkLateLoaded()}(window||{}),ACC.useraddress={currentPath:window.location.href,pathName:"",currentCurrency:"USD",ajaxUrl:"USD/my-fmaccount/",$SelectShipToAddress:$("#selectshipto"),$SelectSoldToAddress:$("#selectsoldto"),$SearchShipToAddress:$("#changeShip"),$liveAutoSearchResults:$("#livesearch"),$SearchSoldToAddress:$("#changeSold"),$liveSoldToAutoSearchResults:$("#livesearchSoldTo"),options:"",url:"",setCurrentPath:function(){try{ACC.useraddress.currentPath.indexOf("iframe")!=-1&&(ACC.useraddress.currentPath=ACC.useraddress.currentPath.replace("iframe","")),ACC.useraddress.currentPath.indexOf("/USD")!=-1?ACC.useraddress.pathName=ACC.useraddress.currentPath.substring(0,ACC.useraddress.currentPath.lastIndexOf("/USD")+1):ACC.useraddress.currentPath.indexOf("?site")!=-1?ACC.useraddress.pathName=ACC.useraddress.currentPath.substring(0,ACC.useraddress.currentPath.lastIndexOf("/?site")+1)+ACC.useraddress.currentPath.substring(ACC.useraddress.currentPath.lastIndexOf("site=")+5,ACC.useraddress.currentPath.length)+"/en/":ACC.useraddress.pathName=window.location.href+"federalmogul/en/"}catch(e){alert(e)}},bindAll:function(){with(ACC.useraddress)bindToChangeShipTo($SelectShipToAddress),bindToChangeSoldTo($SelectSoldToAddress),bindToSearchShipToAddress($SearchShipToAddress),bindToSearchSoldToAddress($SearchSoldToAddress)},bindToChangeShipTo:function(shipTo){shipTo.change(function(event){var shipTo=ACC.useraddress.$SelectShipToAddress.val(),shipToSoldToFlag="shipTo";null!=shipTo&&shipTo.indexOf(":")>-1&&(accountId=shipTo.substring(0,shipTo.indexOf(":")),addressId=shipTo.substring(shipTo.indexOf(":")+1),ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"change-shipto-soldto-session/"+accountId+"/"+shipToSoldToFlag+"/dummy",ACC.useraddress.postAJAX(ACC.useraddress.Url))})},bindToChangeSoldTo:function(soldTo){soldTo.change(function(event){var soldTo=ACC.useraddress.$SelectSoldToAddress.val(),shipToSoldToFlag="soldTo";null!=soldTo&&soldTo.indexOf(":")>-1&&(accountId=soldTo.substring(0,soldTo.indexOf(":")),addressId=soldTo.substring(soldTo.indexOf(":")+1),ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"change-shipto-soldto-session/"+accountId+"/"+shipToSoldToFlag+"/dummy",ACC.useraddress.postAJAX(ACC.useraddress.Url))})},bindToSearchShipToAddress:function(shipToAddrSearch){shipToAddrSearch.keyup(function(event){var searchShipToAddrText=ACC.useraddress.$SearchShipToAddress.val();setTimeout(function(){if(ACC.useraddress.$SearchShipToAddress.val()==searchShipToAddrText){""==searchShipToAddrText&&(searchShipToAddrText="getAll*");var shipToSoldToFlag="shipTo",type="searchShipTo",userType=$("#loggedUserType").val(),accountId=$("#loggedAccountID").val(),SoldToAddressType=$("#SoldToAddressType").val();if(""!=SoldToAddressType){var soldToAcc=$("#"+SoldToAddressType).html(),accountcode1=soldToAcc.substring(soldToAcc.indexOf("/",soldToAcc.lastIndexOf("<br>"))-10);accountcode=accountcode1.split("/"),accountId=$.trim(accountcode[0])}ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"userAutoAddressSearch/"+searchShipToAddrText+"/"+shipToSoldToFlag+"?loggedUserType="+userType+"&loggedAccountID="+accountId,ACC.useraddress.postAJAX(ACC.useraddress.Url,ACC.useraddress.$liveAutoSearchResults,type)}},1e3)})},bindToSearchSoldToAddress:function(soldToAddrSearch){soldToAddrSearch.keyup(function(event){var searchSoldToAddrText=ACC.useraddress.$SearchSoldToAddress.val();setTimeout(function(){if(ACC.useraddress.$SearchSoldToAddress.val()==searchSoldToAddrText){var shipToSoldToFlag="soldTo",type="searchSoldTo",userType=$("#loggedUserType").val(),accountId=$("#loggedAccountID").val();ACC.useraddress.Url=ACC.useraddress.pathName+ACC.useraddress.ajaxUrl+"userAutoAddressSearch/"+searchSoldToAddrText+"/"+shipToSoldToFlag+"?loggedUserType="+userType+"&loggedAccountID="+accountId,ACC.useraddress.postAJAX(ACC.useraddress.Url,ACC.useraddress.$liveSoldToAutoSearchResults,type)}},1e3)})},postAJAX:function(Url){$.ajax({url:Url,async:!1,cache:!1,success:function(result){}})},postAJAX:function(Url,div,type){openLoader(),$.ajax({url:Url,async:!0,cache:!1,dataType:"html",type:"GET",success:function(data){$("#autoSearchList"+type).show(),div.html(data),closeLoader()}})}},$(document).ready(function(){ACC.useraddress.setCurrentPath(),ACC.useraddress.bindAll(),closeLoader()}),ACC.userlocation={bindAll:function(){ACC.userlocation.bindUserLocationSearchButtonClick(),ACC.userlocation.bindUserLocationEnterPress(),ACC.userlocation.bindAutoLocationSearchButtonClick()},bindUserLocationEnterPress:function(){$("#user_location_query").keypress(function(e){var code=null;if(code=e.keyCode?e.keyCode:e.which,13==code)return $.ajax({url:searchUserLocationUrl,type:"POST",data:{q:$("#user_location_query").attr("value")},success:function(data){location.reload()}}),!1})},bindUserLocationSearchButtonClick:function(){$("#user_location_query_button").click(function(e){return $.ajax({url:searchUserLocationUrl,type:"POST",data:{q:$("#user_location_query").attr("value")},success:function(data){location.reload()}}),!1})},bindAutoLocationSearchButtonClick:function(){$(document).on("click","#findStoresNearMeAjax",function(e){e.preventDefault();try{var gps=navigator.geolocation;gps.getCurrentPosition(ACC.userlocation.positionSuccessStoresNearMe,function(error){console.log("An error occurred... The error code and message are: "+error.code+"/"+error.message)})}catch(error){console.log("An error occurred... ")}})},positionSuccessStoresNearMe:function(position){return"undefined"!=typeof autoUserLocationUrl&&$.ajax({url:autoUserLocationUrl,type:"POST",data:{latitude:position.coords.latitude,longitude:position.coords.longitude},success:function(data){location.reload()}}),!1}},$(document).ready(function(){ACC.userlocation.bindAll()}),ACC.loyaltysurvey={currentPath:window.location.href,pathName:"",currentCurrency:"USD",ajaxUrl:"USD/Survey/",$BeginBrandSurvey:$("#BrandSurveyBegin_btn"),$BeginPartsBuySurvey:$("#PartsBuySurveyBegin_btn"),$BeginIntAndHobbiesSurvey:$("#IntandHobbiesSurveyBegin_btn"),options:"",url:"",setCurrentPath:function(){try{ACC.loyaltysurvey.currentPath.indexOf("/USD")!=-1?ACC.loyaltysurvey.pathName=ACC.loyaltysurvey.currentPath.substring(0,ACC.loyaltysurvey.currentPath.lastIndexOf("/USD")+1):ACC.loyaltysurvey.currentPath.indexOf("?site")!=-1?ACC.loyaltysurvey.pathName=ACC.loyaltysurvey.currentPath.substring(0,ACC.loyaltysurvey.currentPath.lastIndexOf("/?site")+1)+ACC.loyaltysurvey.currentPath.substring(ACC.loyaltysurvey.currentPath.lastIndexOf("site=")+5,ACC.loyaltysurvey.currentPath.length)+"/en/":ACC.loyaltysurvey.pathName=window.location.href+"loyalty/en/"}catch(e){alert(e)}},bindAll:function(){with(ACC.loyaltysurvey)bindToBeginBrandSurvey($BeginBrandSurvey),bindToBeginPartsBuySurvey($BeginPartsBuySurvey),bindToBeginIntAndHobbiesSurvey($BeginIntAndHobbiesSurvey)},bindToBeginBrandSurvey:function(BrandSurveyBegin_btn){BrandSurveyBegin_btn.click(function(event){var breadCurumbArray=this.value.split(",");chnageBreadCrumb(breadCurumbArray),$("#BrandQuestionsBlock").show(),$("#BrandSurveyBegin").hide()})},bindToBeginPartsBuySurvey:function(PartsBuySurveyBegin_btn){PartsBuySurveyBegin_btn.click(function(event){var breadCurumbArray=this.value.split(",");chnageBreadCrumb(breadCurumbArray),$("#BrandQuestionsBlock").show(),$("#BrandSurveyBegin").hide()})},bindToBeginIntAndHobbiesSurvey:function(IntandHobbiesSurveyBegin_btn){IntandHobbiesSurveyBegin_btn.click(function(event){var breadCurumbArray=this.value.split(",");chnageBreadCrumb(breadCurumbArray),$("#BrandQuestionsBlock").show(),$("#BrandSurveyBegin").hide()})}},$("#rank1, #rank2, #rank3, #rank4, #rank5, #rank6, #rank7").keypress(function(event){var keycode=event.keyCode?event.keyCode:event.which;if(49==keycode||50==keycode||51==keycode){var value=49==keycode?1:50==keycode?2:3,currID=this.id,duplicateFlag=!1;for(i=1;i<=7;i++)$("#rank"+i).val()==value&&(duplicateFlag=!0);if(duplicateFlag)return $("#PartsBuySurveyQ2Error2").show(),!1;var name=$("input#"+currID).attr("name");return $("[id="+name+"]").val(name+":"+value),$("#PartsBuySurveyQ2Error2").hide(),!0}return 8==keycode||46==keycode}),$("#Q15rank1, #Q15rank2, #Q15rank3, #Q15rank4, #Q15rank5, #Q15rank6").keypress(function(event){var keycode=event.keyCode?event.keyCode:event.which;if(49==keycode||50==keycode||51==keycode){var value=49==keycode?1:50==keycode?2:3,currID=this.id,duplicateFlag=!1;for(i=1;i<=7;i++)$("#Q15rank"+i).val()==value&&(duplicateFlag=!0);if(duplicateFlag)return $("#PartsBuySurveyQ2Error2").show(),!1;var name=$("input#"+currID).attr("name");return $("[id="+name+"]").val(name+":"+value),$("#PartsBuySurveyQ2Error2").hide(),!0}return 8==keycode||46==keycode}),$("#Q16SingleChk").click(function(){
this.checked&&$("input[id='Q16ChkBox']:checked").each(function(){this.checked=!1})}),$("#Q18SingleChk").click(function(){this.checked&&$("input[id='Q18ChkBox']:checked").each(function(){this.checked=!1})}),$("#Q19NoneChk").click(function(){this.checked&&$("input[id='Q19ChkBox']:checked").each(function(){this.checked=!1})}),$(document).ready(function(){ACC.loyaltysurvey.setCurrentPath(),ACC.loyaltysurvey.bindAll()}),$("#1057,#firstQuestionOtherPrimary,#firstQuestionOtherSecondary,#q2_others1,#q2_others2,#q3_others1,#q3_others2,#q4_others1,#q4_others2,#q5_others1,#q5_others2,#q6_others1,#q6_others2,#q7_others1,#q7_others2,#q8_others1,#q8_others2,#q9_others1,#q9_others2,#q10_others1,#q10_others2,#q11_others1,#q11_others2,#q12_others1,#q12_others2,#q13_others1,#q13_others2,#q14_others1,#q14_others2,#q15_others1,#q15_others2,#q16_others1,#q16_others2,#q17_others1,#q17_others2,#q18_others1,#q18_others2,#Q3Other1txt,#Q3Other2txt,#Q4Other1txt,#Q4Other2txt,#Q5Other1txt,#Q5Other2txt,#Q6Other1txt,#Q6Other2txt,#Q7Other1txt,#Q7Other2txt,#Q8Other1txt,#Q8Other2txt,#Q9Other1txt,#Q9Other2txt,#Q10Other1txt,#Q10Other2txt,#Q11Other1txt,#Q11Other2txt,#Q12Other1txt,#Q12Other2txt,#Q13Other1txt,#Q13Other2txt,#Q14Other1txt,#Q14Other2txt").keypress(function(event){var keyCode=event.keyCode?event.keyCode:event.which,alphaNumericCheck=keyCode>=48&&keyCode<=57||keyCode>=65&&keyCode<=90||keyCode>=97&&keyCode<=122;return!(!alphaNumericCheck&&8!=keyCode&&32!=keyCode)}),$("#brandQuestionform").submit(function(event){$("#brandSubmit").prop("disabled",!0).addClass("disabled")}),$("#partsBuyingQuestionsForm").submit(function(event){$("#partsBuySubmit").prop("disabled",!0).addClass("disabled")}),$("#InterestAndHobbiesQuestionsForm").submit(function(event){$("#InterestAndHobbiesSubmit").prop("disabled",!0).addClass("disabled")}),ACC.track={trackAddToCart:function(productCode,quantity,name,price){window.mediator.publish("trackAddToCart",{productCode:productCode,quantity:quantity,productName:name,productPrice:price})},trackRemoveFromCart:function(productCode,initialCartQuantity,name,price){window.mediator.publish("trackRemoveFromCart",{productCode:productCode,initialCartQuantity:initialCartQuantity,productName:name,productPrice:price})},trackUpdateCart:function(productCode,initialCartQuantity,newCartQuantity,name,price){window.mediator.publish("trackUpdateCart",{productCode:productCode,initialCartQuantity:initialCartQuantity,newCartQuantity:newCartQuantity,productName:name,productPrice:price})}},ACC.ymmsearch={currentPath:window.location.href,pathName:"",currentCurrency:"USD",ajaxUrl:"USD/ymmsearch/",$page:$("#page"),$globalMessages:$("#globalMessages"),$vehicleSegmentSelect:$("#vehiclesegment"),$yearSelect:$("#year"),$makeSelect:$("#make"),$modelSelect:$("#model"),$modelhomepageSelect:$("#modelhome"),$categorySelect:$("#category :selected"),$subCategorySelect:$("#subcategory"),options:"",url:"",VehicleResultsSegments:"VehicleSegmentResults",Years:"Years",Make:"Make",Models:"Models",SubCategory:"SubCategoryResults",segementOption:'<option value="vehicleSegment">Vehicle Type</option>',yearsOption:'<option value="year">Year</option>',makeOption:'<option value="make">Make</option>',modelsOption:'<option value="model">Model</option>',modelshomeOption:'<option value="modelhome">Model</option>',subCategoryOption:'<option value="subCategorySelect">Sub Category</option>',subCategoryAllOption:'<option value="subCategoryAll">All</option>',conOptionStart:'<option value="',conOptionEnd:" </option>",conValue:"value",conSize:"Size",setCurrentPath:function(){try{ACC.ymmsearch.currentPath.indexOf("iframe")!=-1&&(ACC.ymmsearch.currentPath=ACC.ymmsearch.currentPath.replace("iframe","")),ACC.ymmsearch.currentPath.indexOf("/USD")!=-1?ACC.ymmsearch.pathName=ACC.ymmsearch.currentPath.substring(0,ACC.ymmsearch.currentPath.lastIndexOf("/USD")+1):ACC.ymmsearch.currentPath.indexOf("?site")!=-1?ACC.ymmsearch.pathName=ACC.ymmsearch.currentPath.substring(0,ACC.ymmsearch.currentPath.lastIndexOf("/?site")+1)+ACC.ymmsearch.currentPath.substring(ACC.ymmsearch.currentPath.lastIndexOf("site=")+5,ACC.ymmsearch.currentPath.length)+"/en/":ACC.ymmsearch.pathName=ACC.ymmsearch.currentPath+"federalmogul/en/"}catch(e){alert(e)}},bindAll:function(){with(ACC.ymmsearch)bindToAddVehicleSegment($vehicleSegmentSelect),bindToChangeYear($yearSelect),bindToChangeMake($makeSelect),bindToChangeModel($modelSelect),bindToChangeSubcategory($subCategorySelect)},bindToAddVehicleSegment:function(vehicleSegmentSelect){vehicleSegmentSelect.change(function(event){ACC.ymmsearch.$makeSelect.empty(),ACC.ymmsearch.$makeSelect.attr("disabled","true"),ACC.ymmsearch.$modelSelect.empty(),ACC.ymmsearch.$modelSelect.attr("disabled","true"),ACC.ymmsearch.$modelhomepageSelect.empty(),ACC.ymmsearch.$modelhomepageSelect.attr("disabled","true"),$("#ymmSearch").addClass("disabled"),ACC.ymmsearch.Url=ACC.ymmsearch.pathName+ACC.ymmsearch.ajaxUrl+"autoyear/"+this.value,"Commercial,Industrial Ag."==this.value?(ACC.ymmsearch.$yearSelect.empty(),ACC.ymmsearch.$yearSelect.attr("disabled","true"),window.parent.location="http://fme-cat.com/commercialApplication.aspx"):"Marine"==this.value?(ACC.ymmsearch.$yearSelect.empty(),ACC.ymmsearch.$yearSelect.attr("disabled","true"),window.parent.location="http://fme-cat.com/MarineApplication.aspx#marine"):"Powersport"==this.value?(ACC.ymmsearch.$yearSelect.empty(),ACC.ymmsearch.$yearSelect.attr("disabled","true"),window.parent.location="http://fme-cat.com/PowerSportApplication.aspx#powersport"):"Performance"==this.value?(ACC.ymmsearch.$yearSelect.empty(),ACC.ymmsearch.$yearSelect.attr("disabled","true"),window.parent.location="http://fme-cat.com/PerfApplication.aspx#performance"):"Small Engine"==this.value?(ACC.ymmsearch.$yearSelect.empty(),ACC.ymmsearch.$yearSelect.attr("disabled","true"),window.parent.location="http://fme-cat.com/SmallEngineApplication.aspx#smallengine"):(ACC.ymmsearch.postAJAX(ACC.ymmsearch.Years,ACC.ymmsearch.$yearSelect,ACC.ymmsearch.yearsOption,null),ACC.ymmsearch.$yearSelect.removeAttr("disabled"))})},bindToChangeYear:function(yearSelect){yearSelect.change(function(event){ACC.ymmsearch.$makeSelect.empty(),ACC.ymmsearch.$makeSelect.attr("disabled","true"),ACC.ymmsearch.$modelSelect.empty(),ACC.ymmsearch.$modelSelect.attr("disabled","true"),ACC.ymmsearch.$modelhomepageSelect.empty(),ACC.ymmsearch.$modelhomepageSelect.attr("disabled","true"),$("#ymmSearch").addClass("disabled");var vehicleSegment=ACC.ymmsearch.$vehicleSegmentSelect.val();ACC.ymmsearch.Url=ACC.ymmsearch.pathName+ACC.ymmsearch.ajaxUrl+"automake/"+this.value+"/"+vehicleSegment,ACC.ymmsearch.postAJAX(ACC.ymmsearch.Make,ACC.ymmsearch.$makeSelect,ACC.ymmsearch.makeOption,null)}),yearSelect.focus(function(event){ACC.ymmsearch.$yearSelect.empty();var vehicleSegment=ACC.ymmsearch.$vehicleSegmentSelect.val();ACC.ymmsearch.$makeSelect.empty(),ACC.ymmsearch.$makeSelect.attr("disabled","true"),ACC.ymmsearch.$modelSelect.empty(),ACC.ymmsearch.$modelSelect.attr("disabled","true"),ACC.ymmsearch.$modelhomepageSelect.empty(),ACC.ymmsearch.$modelhomepageSelect.attr("disabled","true"),$("#ymmSearch").addClass("disabled"),ACC.ymmsearch.Url=ACC.ymmsearch.pathName+ACC.ymmsearch.ajaxUrl+"autoyear/"+vehicleSegment,ACC.ymmsearch.postAJAX(ACC.ymmsearch.Years,ACC.ymmsearch.$yearSelect,ACC.ymmsearch.yearsOption,null),ACC.ymmsearch.$yearSelect.removeAttr("disabled"),ACC.ymmsearch.$makeSelect.empty(),ACC.ymmsearch.$makeSelect.removeAttr("disabled")})},bindToChangeMake:function(makeSelect){makeSelect.change(function(event){ACC.ymmsearch.$modelSelect.empty(),ACC.ymmsearch.$modelSelect.attr("disabled","true"),ACC.ymmsearch.$modelhomepageSelect.empty(),ACC.ymmsearch.$modelhomepageSelect.attr("disabled","true"),$("#ymmSearch").addClass("disabled");var modelsOptions,modelSelectNew,homeModelVal=ACC.ymmsearch.$modelhomepageSelect.val(),modelVal=ACC.ymmsearch.$modelSelect.val(),modelHome=null==homeModelVal&&void 0===modelVal;modelHome?(modelSelectNew=ACC.ymmsearch.$modelhomepageSelect,modelsOptions=ACC.ymmsearch.modelshomeOption):(modelSelectNew=ACC.ymmsearch.$modelSelect,modelsOptions=ACC.ymmsearch.modelsOption);var vehicleSegment=ACC.ymmsearch.$vehicleSegmentSelect.val(),years=ACC.ymmsearch.$yearSelect.val();ACC.ymmsearch.Url=ACC.ymmsearch.pathName+ACC.ymmsearch.ajaxUrl+"automodel/"+years+"/"+this.value+"/"+vehicleSegment,ACC.ymmsearch.postAJAX(ACC.ymmsearch.Models,modelSelectNew,modelsOptions,null)}),makeSelect.focus(function(event){ACC.ymmsearch.$makeSelect.empty(),ACC.ymmsearch.$modelhomepageSelect.empty(),ACC.ymmsearch.$modelhomepageSelect.attr("disabled","true"),$("#ymmSearch").addClass("disabled");var vehicleSegment=ACC.ymmsearch.$vehicleSegmentSelect.val(),years=ACC.ymmsearch.$yearSelect.val();ACC.ymmsearch.Url=ACC.ymmsearch.pathName+ACC.ymmsearch.ajaxUrl+"automake/"+years+"/"+vehicleSegment,ACC.ymmsearch.postAJAX(ACC.ymmsearch.Make,ACC.ymmsearch.$makeSelect,ACC.ymmsearch.makeOption,null),ACC.ymmsearch.$modelSelect.removeAttr("disabled"),ACC.ymmsearch.$modelhomepageSelect.removeAttr("disabled")})},bindToChangeSubcategory:function(subcategory){var isIE=!1,trident=!!navigator.userAgent.match(/Trident\/7.0/),net=!!navigator.userAgent.match(/.NET4.0E/),IE11=trident&&net,IEold=!!navigator.userAgent.match(/MSIE/i),category=ACC.ymmsearch.$categorySelect.text();if((IE11||IEold)&&(isIE=!0),isIE&null!=category&&"Category"!=category&&"undefined"!=category&&""!=category){closeModal();var subCat=ACC.ymmsearch.$subCategorySelect.find("option:selected").text();ACC.ymmsearch.$subCategorySelect.empty();var category=ACC.ymmsearch.$categorySelect.text();ACC.ymmsearch.Url=ACC.ymmsearch.pathName+ACC.ymmsearch.ajaxUrl+"autoSubCategory/"+category,ACC.ymmsearch.postAJAX(ACC.ymmsearch.SubCategory,ACC.ymmsearch.$subCategorySelect,ACC.ymmsearch.subCategoryOption,ACC.ymmsearch.subCategoryAllOption),$("#subcategory > option").each(function(){$.trim(this.text)==$.trim(subCat)&&$(this).attr("selected","selected")}),closeModal()}subcategory.focus(function(event){closeModal(),ACC.ymmsearch.$subCategorySelect.empty();var category=ACC.ymmsearch.$categorySelect.text();ACC.ymmsearch.Url=ACC.ymmsearch.pathName+ACC.ymmsearch.ajaxUrl+"autoSubCategory/"+category,ACC.ymmsearch.postAJAX(ACC.ymmsearch.SubCategory,ACC.ymmsearch.$subCategorySelect,ACC.ymmsearch.subCategoryOption,ACC.ymmsearch.subCategoryAllOption)})},bindToChangeModel:function(modelSelect){var modelsOptions,modelSelectNew,homeModelVal=ACC.ymmsearch.$modelhomepageSelect.val(),modelVal=ACC.ymmsearch.$modelSelect.val(),modelHome="Model"==homeModelVal&&void 0===modelVal;modelHome?(modelSelectNew=ACC.ymmsearch.$modelhomepageSelect,modelsOptions=ACC.ymmsearch.modelshomeOption):(modelSelectNew=ACC.ymmsearch.$modelSelect,modelsOptions=ACC.ymmsearch.modelsOption),modelSelectNew.focus(function(event){ACC.ymmsearch.$modelSelect.empty(),ACC.ymmsearch.$modelhomepageSelect.empty();var vehicleSegment=ACC.ymmsearch.$vehicleSegmentSelect.val(),years=ACC.ymmsearch.$yearSelect.val(),make=ACC.ymmsearch.$makeSelect.val();ACC.ymmsearch.Url=ACC.ymmsearch.pathName+ACC.ymmsearch.ajaxUrl+"automodel/"+years+"/"+make+"/"+vehicleSegment,ACC.ymmsearch.postAJAX(ACC.ymmsearch.Models,modelSelectNew,modelsOptions,null)}),modelSelectNew.change(function(event){var sel_vehicleSegment=ACC.ymmsearch.$vehicleSegmentSelect.val(),sel_year=ACC.ymmsearch.$yearSelect.val(),sel_make=ACC.ymmsearch.$makeSelect.val(),sel_model=modelSelectNew.val(),pathName="",win_url=window.location.href;try{pathName=win_url.indexOf("/USD")!=-1?win_url.substring(0,win_url.lastIndexOf("/USD")+5):win_url.indexOf("?site")!=-1?win_url.substring(0,win_url.lastIndexOf("/?site")+1)+win_url.substring(win_url.lastIndexOf("site=")+5,win_url.length)+"/en/USD/":window.location.href}catch(e){alert(e)}if(!modelHome){var category,categoryText=($("#category").val(),$("#category").find("option:selected").text());"Gaskets & Sealing Systems"==categoryText&&(categoryText="Gaskets %26 Sealing Systems"),"Filters & Chemicals"==categoryText&&(categoryText="Filters %26 Chemicals"),category="Category"!=categoryText&&"All"!=categoryText?"category:"+categoryText.trim()+"&text=#":"&text=#"}var ymmCode=sel_year.trim()+sel_make.trim()+sel_model.trim().replace("&","")+"|",sele_model=sel_model.trim().replace("&",""),queryVal=pathName+"search?q=:name-asc:vehiclesegment:"+ymmCode+sel_vehicleSegment.trim()+":year:"+ymmCode+sel_year.trim()+":make:"+ymmCode+sel_make.trim()+":model:"+ymmCode+sele_model.trim()+":"+category;modelHome||(openUploadOrderModal(),location.href=queryVal)})},postAJAX:function(reqType,selectField,defaultopt,defaultoptAll){openModal(),$.ajax({url:ACC.ymmsearch.Url,async:!1,cache:!1,success:function(xmlDoc){var sel_year=($(xmlDoc).find(reqType).text(),ACC.ymmsearch.$yearSelect.val()),respSize=$(xmlDoc).find(reqType+ACC.ymmsearch.conSize).text();try{if(ACC.ymmsearch.options=defaultopt,"SubCategoryResults"==reqType&&null!=defaultoptAll&&respSize>1&&"Year"!=sel_year&&(ACC.ymmsearch.options=defaultopt+defaultoptAll),respSize>0){for(var int=0;int<respSize;int++)"SubCategoryResults"==reqType?ACC.ymmsearch.options+=setSubCategory($(xmlDoc).find(reqType+ACC.ymmsearch.conValue+int).text()):ACC.ymmsearch.options+=ACC.ymmsearch.conOptionStart+$(xmlDoc).find(reqType+ACC.ymmsearch.conValue+int).text()+'">'+$(xmlDoc).find(reqType+ACC.ymmsearch.conValue+int).text()+ACC.ymmsearch.conOptionEnd;selectField.append(ACC.ymmsearch.options),selectField.removeAttr("disabled"),closeModal()}else closeModal(),alert("For the Selected "+reqType+" not Found")}catch(err){}}})}},$(document).ready(function(){ACC.ymmsearch.setCurrentPath(),ACC.ymmsearch.bindAll(),$(".description").each(function(i){var b=$(this).find("b").html();$(this).html(b),$(this).find("ul").remove()});var text_max=$("textarea#orderNote").attr("maxlength");$(".char-count").html("<label>"+text_max+"</label> characters remaining"),$("#orderNote").keyup(function(){var text_length=$("#orderNote").val().length,text_remaining=text_max-text_length;$(".char-count").html("<label>"+text_remaining+"</label> characters remaining")}),$("#ymmSearch").addClass("disabled");var d=new Date;d.getFullYear();$("#facetnameid").on("change",function(){alert("test");var x=$(this).val();alert(x)}),$("#modelhome").on("change",function(){"modelhome"!=$(this).val()?$("#ymmSearch").removeClass("disabled"):$("#ymmSearch").addClass("disabled"),$("#categoryDropdowns").show()}),$("body").on("keyup","input[name=qtyInput]",function(event){for(var input=$(event.target),value=input.val(),qty_css="input[name=qty]";input.parent()[0]!=document;)if(input=input.parent(),input.find(qty_css).length>0)return void input.find(qty_css).val(value)}),$("body").on("keyup","input[name=p_poNumber]",function(event){var input=$(event.target),value=input.val(),input=$(this),is_name=input.val();is_name?input.removeClass("invalid").addClass("valid"):input.removeClass("valid").addClass("invalid");for(var qty_css="input[name=poNumber]";input.parent()[0]!=document;)if(input=input.parent(),input.find(qty_css).length>0)return void input.find(qty_css).val(value)}),$("body").on("keyup","textarea[name=p_orderNote]",function(event){for(var input=$(event.target),value=input.val(),qty_css="input[name=orderInstruction]";input.parent()[0]!=document;)if(input=input.parent(),input.find(qty_css).length>0)return void input.find(qty_css).val(value)}),$("input:checkbox[name=dcCheckbox]").on("click",function(){if($(this).is(":checked")){var entrynumber=$(this).attr("id"),ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/adddc/"+$(this).val()+"/"+entrynumber+"/available";$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}else{var entrynumber=$(this).attr("id"),ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/removedc/"+$(this).val()+"/"+entrynumber;$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}}),$("input:checkbox[name=confirmCheckbox]").on("click",function(){$(this).is(":checked")?($("input:checkbox[name=dcCheckbox]").each(function(){var entrynumber=$(this).attr("id");$(this).prop("checked",!0);var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/adddc/"+$(this).val()+"/"+entrynumber+"/available";$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}),$('select[name="altDcSelectBox"]').prop("disabled",!0),$('select[name="altDcSelectBox"]').val("Select")):($("input:checkbox[name=dcCheckbox]").each(function(){var entrynumber=$(this).attr("id");$(this).prop("checked",!1);var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/removedc/"+$(this).val()+"/"+entrynumber;$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}),$('select[name="altDcSelectBox"]').prop("disabled",!1))}),$("input:checkbox[name=available]").on("click",function(){if($(this).is(":checked")){var sequences=$(this).attr("id").split("_"),entrynumber=sequences[1].split("-")[0];$("#nothing_"+sequences[1]).attr("disabled","true");var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/adddc/"+$(this).val()+"/"+entrynumber+"/available";$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}else $("#nothing_"+sequences[1]).attr("disabled","false")}),$("input:checkbox[name=nothing]").on("click",function(){if($(this).is(":checked")){var sequences=$(this).attr("id").split("_"),entrynumber=sequences[1].split("-")[0];$("#partial_"+sequences[1]).attr("disabled","true"),$("#available_"+sequences[1]).attr("disabled","true");var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/adddc/"+$(this).val()+"/"+entrynumber+"/nothing";$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}else $("#partial_"+sequences[1]).attr("disabled","false"),$("#available_"+sequences[1]).attr("disabled","false")}),$("input:checkbox[name=partial]").on("click",function(){if($(this).is(":checked")){var sequences=$(this).attr("id").split("_"),entrynumber=sequences[1].split("-")[0];$("#nothing_"+sequences[1]).attr("disabled","true");var ajaxURL=ACC.ymmsearch.pathName+"USD/gatp/adddc/"+$(this).val()+"/"+entrynumber+"/partial";$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}else $("#nothing_"+sequences[1]).attr("disabled","false")}),$("input:radio[name=dcradio]").on("click",function(){if($(this).is(":checked")){var id=$(this).attr("id"),ids=id.split("_"),entrynumber=ids[1].split("-"),tableId=$("#backorder_"+ids[1]);tableId.each(function(i){$(this).find(".dcCheckbox_"+ids[1]).removeAttr("disabled")}),$("#dc_"+entrynumber[0]+" input:radio[name=dcradio]").each(function(i){var a=$(this).attr("id");a!=id&&$(this).attr("disabled","true")})}}),$("#fm-gatp-a-Emergency").on("click",function(e){var isDCCheckBoxSelected=!1,isAltDCSelectBoxSelected=!1,altDcSelectOptionValue="";$("input:checkbox[name=available]").each(function(){$(this).is(":checked")&&(isDCCheckBoxSelected=!0)}),$("input:checkbox[name=partial]").each(function(){$(this).is(":checked")&&(isDCCheckBoxSelected=!0)}),$("input:checkbox[name=nothing]").each(function(){$(this).is(":checked")&&(isDCCheckBoxSelected=!0)}),$("input:checkbox[name=dcCheckbox]").each(function(){$(this).is(":checked")&&(isDCCheckBoxSelected=!0)}),$('select[name="altDcSelectBox"]').each(function(){altDcSelectOptionValue=$(this).children(":selected").val(),"Select"!=altDcSelectOptionValue&&(isAltDCSelectBoxSelected=!0)}),isDCCheckBoxSelected||isAltDCSelectBoxSelected||(e.preventDefault(),alert("Please confirm the shipment."))}),$("#fm-gatp-a-Stock").on("click",function(e){var isDCSelected=!1,stockDcSelectOptionValue="";$('select[name="stockDcSelectBox"]').each(function(i){stockDcSelectOptionValue=$(this).children(":selected").val(),"dc_choose"!=stockDcSelectOptionValue&&(isDCSelected=!0)}),isDCSelected||$(".s-fm-dc-ship-info").each(function(i){var b=$(this).html();""!=b&&(isDCSelected=!0)}),isDCSelected||(e.preventDefault(),alert("Please confirm the shipment"))}),$("#btn-fm-rp-placeorder").on("click",function(e){$(this).attr("disabled","true"),$(".btn-fm-rp-cart").attr("disabled","true")}),$(".a-fm-cart").on("click",function(e){var orderType=$("#selectOrderType").val();"ordertype"==orderType&&(e.preventDefault(),$("#selectOrderType").css("border","2px solid red"),$("#ordertyp_error").css("display","block"),$("html, body").animate({scrollTop:0},"slow"))}),$("#selectOrderType").on("change",function(){$("#ordertyp_error").css("display","none"),$("#selectOrderType").css("border","1px solid #ccc");var orderTypecode=$(this).val();if("ordertype"!=orderTypecode){openModal(),"Stock"==orderTypecode?(document.getElementById("futureDate").style.display="block",$("#freefrieghtdiv").css("display","block")):(document.getElementById("futureDate").style.display="none",$("#freefrieghtdiv").css("display","none")),"pickup"==orderTypecode?($("#tscpickuptop").css("display","block"),$("#gatpflowtop").css("display","none"),$("#tscpickupbottom").css("display","block"),$("#gatpflowbottom").css("display","none"),$("#freefrieghtdiv").css("display","none")):($("#tscpickuptop").css("display","none"),$("#gatpflowtop").css("display","block"),$("#tscpickupbottom").css("display","none"),$("#gatpflowbottom").css("display","block"));var ajaxURL=ACC.ymmsearch.pathName+"USD/cart/ordertype/"+orderTypecode;$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return closeModal(),!0},error:function(err){closeModal()}})}}),$("#carrierAccountChange").on("change",function(){var carrierAccountCode=$(this).val();if(null!=carrierAccountCode){var ajaxURL=ACC.ymmsearch.pathName+"USD/checkout/multi/carrierAccCode/"+carrierAccountCode;$.ajax({url:ajaxURL,async:!1,cache:!1,success:function(xmlDoc){return!0}})}})}),ACC.loyaltyproductdetails={currentPath:window.location.href,pathName:"",currentCurrency:"USD",$SelectColor:$("#apparelColor"),$SelectSize:$("#apparelSize"),options:"",url:"",setCurrentPath:function(){try{ACC.loyaltyproductdetails.currentPath.indexOf("/USD")!=-1?ACC.loyaltyproductdetails.pathName=ACC.loyaltyproductdetails.currentPath.substring(0,ACC.loyaltyproductdetails.currentPath.lastIndexOf("/USD")+1):ACC.loyaltyproductdetails.currentPath.indexOf("?site")!=-1?ACC.loyaltyproductdetails.pathName=ACC.loyaltyproductdetails.currentPath.substring(0,ACC.loyaltyproductdetails.currentPath.lastIndexOf("/?site")+1)+ACC.loyaltyproductdetails.currentPath.substring(ACC.loyaltyproductdetails.currentPath.lastIndexOf("site=")+5,ACC.loyaltyproductdetails.currentPath.length)+"/en/":ACC.loyaltyproductdetails.pathName=window.location.href+"loyalty/en/"}catch(e){alert(e)}},bindAll:function(){with(ACC.loyaltyproductdetails)bindToChangeColor($SelectColor),bindToChangeSize($SelectSize)},bindToChangeColor:function(apparelColor){apparelColor.change(function(event){var url="",selectedIndex=0;$("#apparelColor option:selected").each(function(){url=$(this).attr("value"),selectedIndex=$(this).attr("index")}),0!=selectedIndex&&(window.location.href=url+"?variantSelected=true")})},bindToChangeSize:function(apparelSize){apparelSize.change(function(event){var url="",selectedIndex=0;$("#apparelSize option:selected").each(function(){"select"!=$(this).attr("value")?(url=$(this).attr("value"),selectedIndex=$(this).attr("index")):$(".prodDetailAddToCart").attr("disabled","true")}),0!=selectedIndex&&(window.location.href=url+"?variantSelected=true")})}},$(document).ready(function(){ACC.loyaltyproductdetails.setCurrentPath(),ACC.loyaltyproductdetails.bindAll()}),ACC.storefinder={map:"",bindAll:function(){this.drawMap(),this.getStoreMarkersImages(),this.bindFindStoresNearMe()},drawMap:function(){if(0!=$("#map_canvas").length){var count=0,$e=$("#map_canvas"),centerPoint=new google.maps.LatLng($e.data("latitude"),$e.data("longitude")),mapOptions={zoom:13,zoomControl:!0,panControl:!0,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,center:centerPoint};ACC.storefinder.map=new google.maps.Map(document.getElementById("map_canvas"),mapOptions),$e.data("southLatitude")?(this.setMapBouns(),this.getStorePosition()):(store=$e.data("stores"),this.addStore(store.id,store.latitude,store.longitude,store.name,count+=1))}},setMapBouns:function(){var $e=$("#map_canvas"),swBounds=new google.maps.LatLng($e.data("southLatitude"),$e.data("westLongitude")),neBounds=new google.maps.LatLng($e.data("northLatitude"),$e.data("eastLongitude")),bounds=new google.maps.LatLngBounds(swBounds,neBounds);ACC.storefinder.map.fitBounds(bounds)},getStorePosition:function(){var $e=$("#map_canvas"),count=0;stores=$e.data("stores"),jQuery.each(stores,function(k,v){ACC.storefinder.addStore(v.id,v.latitude,v.longitude,v.name,count+=1)})},addStore:function(i,latitude,longitude,name,count){var marker=new google.maps.Marker({position:new google.maps.LatLng(latitude,longitude),map:ACC.storefinder.map,title:name,icon:"https://chart.googleapis.com/chart?chst=d_map_pin_letter&chld="+count+"|FF776B|000000"}),infowindow=new google.maps.InfoWindow({content:name,disableAutoPan:!0});google.maps.event.addListener(marker,"click",function(){infowindow.open(ACC.storefinder.map,marker)})},getStoreMarkersImages:function(){var count=0;0!=$(".storeResultList").length&&$(".storeMarker").each(function(i){$(this).attr("src","//chart.googleapis.com/chart?chst=d_map_pin_letter&chld="+count+"|FF776B|000000"),count+=1})},bindFindStoresNearMe:function(){$(document).on("click","#findStoresNearMe",function(e){e.preventDefault();var gps=navigator.geolocation;gps&&gps.getCurrentPosition(ACC.storefinder.positionSuccessStoresNearMe,function(error){console.log("An error occurred... The error code and message are: "+error.code+"/"+error.message)})})},positionSuccessStoresNearMe:function(position){return $("#latitude").val(position.coords.latitude),$("#longitude").val(position.coords.longitude),$("#nearMeStorefinderForm").submit(),!1}},$(document).ready(function(){ACC.storefinder.bindAll()}),ACC.uploadorder={currentPath:window.location.href,pathName:"",currentCurrency:"USD",ajaxUrl:"USD/uploadOrder/",ajaxBOUrl:"USD/backOrder/",ajaxIOUrl:"USD/invoice/",ajaxOHUrl:"USD/order-status/",url:"",currentPath:window.location.href,pathName:"",$divUploadOrderStatus:$("#uploadOrderStatus"),$divBackOrders:$("#backOrdersBlock"),$divInvoiceHeader:$("#invoiceBlock"),$divOrderHeader:$("#orderStatusHeader"),$tabUploadorder:$("#uploadorder"),$tabBackOrders:$("#backOrders"),$tabInvoiceHeader:$("#invoices"),$tabOrderStatus:$("#orderStatus"),$uploadOrderFile:$("#uploadOrderFile"),$csrOrderUpload:$("#csrOrderUpload"),$formID:$("#upload"),$buttonUploadOrderSearch:$("#uploadOrderSearch_uo"),setCurrentPath:function(){try{ACC.uploadorder.currentPath.indexOf("iframe")!=-1&&(ACC.uploadorder.currentPath=ACC.uploadorder.currentPath.replace("iframe","")),ACC.uploadorder.currentPath.indexOf("/USD")!=-1?ACC.uploadorder.pathName=ACC.uploadorder.currentPath.substring(0,ACC.uploadorder.currentPath.lastIndexOf("/USD")+1):ACC.uploadorder.currentPath.indexOf("?site")!=-1?ACC.uploadorder.pathName=ACC.uploadorder.currentPath.substring(0,ACC.uploadorder.currentPath.lastIndexOf("/?site")+1)+ACC.uploadorder.currentPath.substring(ACC.uploadorder.currentPath.lastIndexOf("site=")+5,ACC.uploadorder.currentPath.length)+"/en/":ACC.uploadorder.pathName=ACC.uploadorder.currentPath+"federalmogul/en/"}catch(e){alert(e)}},bindAll:function(){with(ACC.uploadorder)bindToUploadOrder($tabUploadorder),bindToBackOrders($tabBackOrders),bindToInvoiceHeader($tabInvoiceHeader),bindToOrderStatusHeader($tabOrderStatus),bindToCSRUploadOrder($csrOrderUpload)},bindToUploadOrder:function(uploadorder){uploadorder.click(function(event){ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxUrl+"orderstatus",ACC.uploadorder.postAJAX(ACC.uploadorder.$divUploadOrderStatus)})},bindToCSRUploadOrder:function(csruploadorder){csruploadorder.click(function(event){ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxUrl+"csrorderstatus",ACC.uploadorder.postAJAX(ACC.uploadorder.$divUploadOrderStatus)})},bindToBackOrders:function(backorder){backorder.click(function(event){ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxBOUrl+"back-order",ACC.uploadorder.postAJAX(ACC.uploadorder.$divBackOrders)})},bindToInvoiceHeader:function(invoiceHeader){invoiceHeader.click(function(event){ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxIOUrl+"invoice-header",ACC.uploadorder.postAJAX(ACC.uploadorder.$divInvoiceHeader)})},bindToOrderStatusHeader:function(orderHeader){orderHeader.click(function(event){ACC.uploadorder.Url=ACC.uploadorder.pathName+ACC.uploadorder.ajaxOHUrl+"order-header",ACC.uploadorder.postAJAX(ACC.uploadorder.$divOrderHeader)})},postAJAX:function(div){openUploadOrderModal(),$.ajax({url:ACC.uploadorder.Url,async:!0,cache:!1,type:"POST",success:function(result){closeUploadOrderModal(),div.html(result),setTimeout(function(){ACC.uploadorder.bootstrapFn()},0)},error:function(err){closeUploadOrderModal()}})}};var bootstrapFn=function(){ACC.uploadorder.setCurrentPath(),ACC.uploadorder.bindAll();var nowTemp=new Date,now=new Date(nowTemp.getFullYear(),nowTemp.getMonth(),nowTemp.getDate()+8,0,0,0,0);$("#date-picker-6, #date-picker-7").datepicker({flat:!0,autoclose:!0}),$("#datepicker").datepicker({onRender:function(date){return date.valueOf()<now.valueOf()?"disabled":""},flat:!0,format:"mm-dd-yyyy",setValue:now,autoclose:!0}).on("changeDate",function(ev){$(this).datepicker("hide");var deliveryDate=$(this).val();if(""!=deliveryDate){var ajaxURL=ACC.uploadorder.pathName+"USD/cart/futuredelivery/"+deliveryDate;$.ajax({url:ajaxURL,async:!0,cache:!1,success:function(xmlDoc){}})}}),$("#datepicker").on("keypress",function(evt){evt.preventDefault()}),$("#datepicker").change(function(event){var rgexpDate=/^((0?[1-9]|1[012])[- \/.](0?[1-9]|[12][0-9]|3[01])[- \/.](19|20)?[0-9]{2})*$/,deliveryDate=$(this).val(),dd=now.getDate(),mm=now.getMonth()+1;dd=dd<10?"0"+dd:dd,mm=mm<10?"0"+mm:mm;var formatedDate=mm+"-"+dd+"-"+now.getFullYear(),isValidDate=rgexpDate.test(deliveryDate);if(isValidDate||$("#datepicker").val(formatedDate),deliveryDate=$(this).val(),""!=deliveryDate){var ajaxURL=ACC.uploadorder.pathName+"USD/cart/futuredelivery/"+deliveryDate;$.ajax({url:ajaxURL,async:!0,cache:!1,success:function(xmlDoc){}})}})};ACC.uploadorder.bootstrapFn=bootstrapFn,$(document).ready(bootstrapFn);var _validFileExtensions=[".txt",".xls",".xlsx"];$(".inventoryClose").click(function(){$("#inventoryPopup").css("display","none"),document.getElementById("quick_fade").style.display="none"}),$("#quick_fade").click(function(){$("#inventoryPopup").css("display","none"),$("#brandPrefix").css("display","none"),document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none"}),$(".qty").on("keypress",function(evt){var charCode=evt.which?evt.which:event.keyCode;charCode>31&&(charCode<48||charCode>57)&&evt.preventDefault()}),$(".a-fm-deliverytag").on("click",function(e){var isCarrierSelected=!1,isShipMethodSelected=!1;$("select[name=carrier]").each(function(a){isCarrierSelected="Carrier"!=$(this).val()}),$("select[name=shippingmethod]").each(function(b){isShipMethodSelected="SM"!=$(this).val()}),isCarrierSelected?isShipMethodSelected||(e.preventDefault(),alert("Select the shipping method to continue ")):(e.preventDefault(),alert("Select the carrier to continue "))}),ACC.locations={currentPath:window.location.href,pathName:"",currentCurrency:"USD",ajaxUrl:"USD/support/",$Selectfmzone:$("#fmzone"),$SelectfmzoneDiv:$("#fmZoneDiv"),$Selectfmcountry:$("#fmcountry"),$SelectfmcountryDiv:$("#fmCountriesDiv"),$SelectfmState:$("#fmState"),$SelectfmStateDiv:$("#fmStatesDiv"),$Selectfmresultcountry:$("#fmResultcountry"),$SelectfmresultState:$("#fmResultState"),options:"",url:"",setCurrentPath:function(){try{ACC.locations.currentPath.indexOf("/USD")!=-1?ACC.locations.pathName=ACC.locations.currentPath.substring(0,ACC.locations.currentPath.lastIndexOf("/USD")+1):ACC.locations.currentPath.indexOf("?site")!=-1?ACC.locations.pathName=ACC.locations.currentPath.substring(0,ACC.locations.currentPath.lastIndexOf("/?site")+1)+ACC.locations.currentPath.substring(ACC.locations.currentPath.lastIndexOf("site=")+5,ACC.locations.currentPath.length)+"/en/":ACC.locations.pathName=window.location.href+"federalmogul/en/";
}catch(e){alert(e)}},bindAll:function(){with(ACC.locations)bindToChangefmZone($Selectfmzone),bindToChangefmcountry($Selectfmcountry),bindToChangefmState($SelectfmState)},bindToChangefmZone:function(zone){zone.change(function(event){var selectedZone=ACC.locations.$Selectfmzone.val();ACC.locations.Url=ACC.locations.pathName+ACC.locations.ajaxUrl+"getCountries/"+selectedZone,$.ajax({url:ACC.locations.Url,type:"GET",success:function(xmlDoc){var respCountryDoc=$(xmlDoc).find("fmcountries").text(),defaulCountrytopt='<option value="" selected="selected">Select Country</option>';if(null!=respCountryDoc||""!=respCountryDoc)for(var option=respCountryDoc.split("|"),i=0;i<option.length;i++){var index=option[i].indexOf(":"),optVal=option[i].substring(0,index),optTxt=option[i].substring(index+1);null==optVal&&""==optVal||null==optTxt&&""==optTxt||(defaulCountrytopt+='<option value="'+optVal+'">'+optTxt+" </option>")}$("#fmcountry").html(defaulCountrytopt);var respStateDoc=$(xmlDoc).find("fmstates").text(),defaulStateopt='<option value="" selected="selected">Select State</option>';if(null!=respStateDoc||""!=respStateDoc)for(var option=respCountryDoc.split("|"),i=0;i<option.length;i++){var index=option[i].indexOf(":"),optVal=option[i].substring(0,index),optTxt=option[i].substring(index+1);null==optVal&&""==optVal||null==optTxt&&""==optTxt||(defaulCountrytopt+='<option value="'+optVal+'">'+optTxt+" </option>")}$("#fmState").html(defaulStateopt);var respLocationsDoc=$(xmlDoc).find("fmlocations").html();$("#fmlocations").html(respLocationsDoc)},error:function(e){}})})},bindToChangefmcountry:function(country){country.change(function(event){var selectedCountry=ACC.locations.$Selectfmcountry.val(),selectedZone=ACC.locations.$Selectfmzone.val();ACC.locations.Url=ACC.locations.pathName+ACC.locations.ajaxUrl+"getStates/"+selectedZone+"/"+selectedCountry,$.ajax({type:"GET",url:ACC.locations.Url,success:function(xmlDoc){var respStateDoc=$(xmlDoc).find("fmstates").text();respStateDoc=respStateDoc.trim();var defaulStateopt='<option value="" selected="selected">Select State</option>';if(null!=respStateDoc&&""!=respStateDoc){for(var option=respStateDoc.split("|"),i=0;i<option.length;i++){var index=option[i].indexOf(":"),optVal=option[i].substring(0,index),optTxt=option[i].substring(index+1);null==optVal&&""==optVal||null==optTxt&&""==optTxt||(defaulStateopt+='<option value="'+optVal+'">'+optTxt+" </option>")}null!=defaulStateopt&&""!=defaulStateopt?$("#fmState").removeAttr("disabled"):$("#fmState").prop("disabled","disabled"),$("#fmState").html(defaulStateopt)}else $("#fmlocations").html(xmlDoc),defaulStateopt+='<option value="" selected="selected">Select State</option>',$("#fmState").html(defaulStateopt),$("#fmState").prop("disabled","disabled")},error:function(xhr,err){}})})},bindToChangefmState:function(state){state.change(function(event){var selectedCountry=ACC.locations.$Selectfmcountry.val(),selectedState=ACC.locations.$SelectfmState.val();ACC.locations.Url=ACC.locations.pathName+ACC.locations.ajaxUrl+"getLocations/"+selectedCountry+"/"+selectedState,$.ajax({type:"GET",url:ACC.locations.Url,success:function(xmlDoc){$("#fmlocations").html(xmlDoc)},error:function(xhr,err){}})})}},$(document).ready(function(){ACC.locations.setCurrentPath(),ACC.locations.bindAll()}),ACC.cartremoveitem={bindAll:function(){this.bindCartRemoveProduct()},bindCartRemoveProduct:function(){$(".submitRemoveProduct").on("click",function(){var entryNum=$(this).attr("id").split("_")[1],$form=$("#updateCartForm"+entryNum),initialCartQuantity=$form.find("input[name=initialQuantity]"),cartQuantity=$form.find("input[name=quantity]"),productCode=$form.find("input[name=productCode]").val(),productName=$form.find("input[name=productName]").val(),productPrice=$form.find("input[name=productPrice]").val();document.getElementById("quick_modal").style.display="block",document.getElementById("quick_fade").style.display="block",ACC.track.trackRemoveFromCart(productCode,initialCartQuantity.val(),productName,productPrice),cartQuantity.val(0),initialCartQuantity.val(0);var method=$form.attr("method")?$form.attr("method").toUpperCase():"GET";$.ajax({url:$form.attr("action"),data:$form.serialize(),type:method,success:function(data){location.reload(),document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none"},error:function(){document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none",alert("Failed to remove quantity. Error details ["+xht+", "+textStatus+", "+ex+"]")}})}),$(".updateQuantityProduct").on("click",function(event){var entryNum=$(this).attr("id").split("_")[1],$form=$("#updateCartForm"+entryNum),initialCartQuantity=$form.find("input[name=initialQuantity]").val(),newCartQuantity=$form.find("input[name=quantity]").val(),productCode=$form.find("input[name=productCode]").val(),productName=$form.find("input[name=productName]").val(),productPrice=$form.find("input[name=productPrice]").val();if(initialCartQuantity!=newCartQuantity){document.getElementById("quick_modal").style.display="block",document.getElementById("quick_fade").style.display="block",ACC.track.trackUpdateCart(productCode,initialCartQuantity,newCartQuantity,productName,productPrice);var method=$form.attr("method")?$form.attr("method").toUpperCase():"GET";$.ajax({url:$form.attr("action"),data:$form.serialize(),type:method,success:function(data){location.reload(),document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none"},error:function(){document.getElementById("quick_modal").style.display="none",document.getElementById("quick_fade").style.display="none",alert("Failed to update quantity. Error details ["+xht+", "+textStatus+", "+ex+"]")}})}})},getProductQuantity:function(gridContainer,mapData){var skus=jQuery.map(gridContainer.find("input[type='hidden'].sku"),function(o){return o.value}),quantities=jQuery.map(gridContainer.find("input[type='textbox'].sku-quantity"),function(o){return o}),totalPrice=0,totalQuantity=0;$.each(skus,function(index,skuId){var quantity=mapData[skuId];if(void 0!=quantity){quantities[index].value=quantity,totalQuantity+=parseFloat(quantity);var indexPattern="[0-9]+",currentIndex=parseInt(quantities[index].id.match(indexPattern)),currentPrice=$("input[id='productPrice["+currentIndex+"]']").val();totalPrice+=parseFloat(currentPrice)*parseInt(quantity)}});var subTotalValue=Currency.formatMoney(Number(totalPrice).toFixed(2),Currency.money_format[ACC.common.currentCurrency]),avgPriceValue=0;totalQuantity>0&&(avgPriceValue=Currency.formatMoney(Number(totalPrice/totalQuantity).toFixed(2),Currency.money_format[ACC.common.currentCurrency])),gridContainer.parent().find("#quantity").html(totalQuantity),gridContainer.parent().find("#avgPrice").html(avgPriceValue),gridContainer.parent().find("#subtotal").html(subTotalValue);var $inputQuantityValue=gridContainer.parent().find("#quantityValue"),$inputAvgPriceValue=gridContainer.parent().find("#avgPriceValue"),$inputSubtotalValue=gridContainer.parent().find("#subtotalValue");$inputQuantityValue.val(totalQuantity),$inputAvgPriceValue.val(Number(totalPrice/totalQuantity).toFixed(2)),$inputSubtotalValue.val(Number(totalPrice).toFixed(2))},coreTableActions:function(productCode,mapCodeQuantity){var skuQuantityClass=".sku-quantity",quantityBefore=0,quantityAfter=0,grid=$("#grid_"+productCode);grid.on("click",skuQuantityClass,function(event){$(this).select()}),grid.on("focusin",skuQuantityClass,function(event){quantityBefore=jQuery.trim(this.value),""==quantityBefore&&(quantityBefore=0,this.value=0)}),grid.on("focusout",skuQuantityClass,function(event){var indexPattern="[0-9]+",currentIndex=parseInt($(this).attr("id").match(indexPattern)),$gridGroup=$(this).parents(".orderForm_grid_group"),$closestQuantityValue=$gridGroup.find("#quantityValue"),$closestAvgPriceValue=$gridGroup.find("#avgPriceValue"),$closestSubtotalValue=$gridGroup.find("#subtotalValue"),currentQuantityValue=$closestQuantityValue.val(),currentSubtotalValue=$closestSubtotalValue.val(),currentPrice=$("input[id='productPrice["+currentIndex+"]']").val(),variantCode=$("input[id='cartEntries["+currentIndex+"].sku']").val();if(quantityAfter=jQuery.trim(this.value),isNaN(jQuery.trim(this.value))&&(this.value=0),""==quantityAfter&&(quantityAfter=0,this.value=0),0==quantityBefore?($closestQuantityValue.val(parseInt(currentQuantityValue)+parseInt(quantityAfter)),$closestSubtotalValue.val(parseFloat(currentSubtotalValue)+parseFloat(currentPrice)*parseInt(quantityAfter))):($closestQuantityValue.val(parseInt(currentQuantityValue)+(parseInt(quantityAfter)-parseInt(quantityBefore))),$closestSubtotalValue.val(parseFloat(currentSubtotalValue)+parseFloat(currentPrice)*(parseInt(quantityAfter)-parseInt(quantityBefore)))),parseInt($closestQuantityValue.val())>0?$closestAvgPriceValue.val(parseFloat($closestSubtotalValue.val())/parseInt($closestQuantityValue.val())):$closestAvgPriceValue.val(0),$closestQuantityValue.parent().find("#quantity").html($closestQuantityValue.val()),$closestAvgPriceValue.parent().find("#avgPrice").html(ACC.productorderform.formatTotalsCurrency($closestAvgPriceValue.val())),$closestSubtotalValue.parent().find("#subtotal").html(ACC.productorderform.formatTotalsCurrency($closestSubtotalValue.val())),quantityBefore!=quantityAfter){var method="POST";$.ajax({url:ACC.config.contextPath+"/cart/update",data:{productCode:variantCode,quantity:quantityAfter,entryNumber:-1},type:method,success:function(data){ACC.cartremoveitem.refreshCartData(data,-1,productCode,null),mapCodeQuantity[variantCode]=quantityAfter},error:function(xht,textStatus,ex){alert("Failed to get variant matrix. Error details ["+xht+", "+textStatus+", "+ex+"]")}})}})},refreshCartData:function(cartData,entryNum,productCode,quantity){if(0==cartData.entries.length)location.reload();else{var form,removeItem=!1;if(entryNum==-1){var editLink=$("#QuantityProduct_"+productCode);form=editLink.parent();for(var quantity=0,entryPrice=0,i=0;i<cartData.entries.length;i++){var entry=cartData.entries[i];if(entry.product.code==productCode){quantity=entry.quantity,entryPrice=entry.totalPrice;break}}0==quantity?(removeItem=!0,form.parent().parent().remove()):(form.find(".qty").html(quantity),form.parent().parent().find(".total").html(entryPrice.formattedValue))}else if(form=$("#updateCartForm"+entryNum),0==quantity)removeItem=!0,form.parent().parent().remove();else for(var i=0;i<cartData.entries.length;i++){var entry=cartData.entries[i];entry.entryNumber==entryNum&&(form.find("input[name=quantity]").val(entry.quantity),form.parent().parent().find(".total").html(entry.totalPrice.formattedValue))}removeItem===!0&&$(".cartItem").each(function(index){form=$(this).find(".quantity").children().first();for(var productCode=form.find("input[name=productCode]").val(),i=0;i<cartData.entries.length;i++){var entry=cartData.entries[i];if(entry.product.code==productCode){form.find("input[name=entryNumber]").val(entry.entryNumber);break}}}),ACC.minicart.refreshMiniCartCount(),$("#orderTotals").next().remove(),$("#orderTotals").remove(),$("#ajaxCart").html($("#cartTotalsTemplate").tmpl({data:cartData}))}}},$(document).ready(function(){ACC.cartremoveitem.bindAll()}),ACC.paginationsort={downUpKeysPressed:!1,bindAll:function(){this.bindPaginaSort()},bindPaginaSort:function(){with(ACC.paginationsort)bindSortForm($("#sort_form1")),bindSortForm($("#sort_form2"))},bindSortForm:function(sortForm){sortForm.change(function(){ACC.paginationsort.downUpPressed||this.submit(),ACC.paginationsort.downUpPressed=!1})},sortFormIEFix:function(sortOptions,selectedOption){sortOptions.keydown(function(e){38===e.keyCode||40===e.keyCode?ACC.paginationsort.downUpPressed=!0:13===e.keyCode&&selectedOption!==$(this).val()?$(this).parent().submit():ACC.paginationsort.downUpPressed=!1})}},$(document).ready(function(){ACC.paginationsort.bindAll()}),ACC.minicart={$layer:$("#miniCartLayer"),bindMiniCart:function(){$(document).on("mouseenter",".miniCart",this.showMiniCart),$(document).on("mouseleave",".miniCart",this.hideMiniCart)},showMiniCart:function(){ACC.minicart.$layer.data("hover")||(0!=ACC.minicart.$layer.data("needRefresh")&&ACC.minicart.getMiniCartData(function(){ACC.minicart.$layer.fadeIn(function(){ACC.minicart.$layer.data("hover",!0),ACC.minicart.$layer.data("needRefresh",!1)})}),ACC.minicart.$layer.fadeIn(function(){ACC.minicart.$layer.data("hover",!0)}))},hideMiniCart:function(){ACC.minicart.$layer.fadeOut(function(){ACC.minicart.$layer.data("hover",!1)})},getMiniCartData:function(callback){$.ajax({url:ACC.minicart.$layer.attr("data-rolloverPopupUrl"),cache:!1,type:"POST",success:function(result){ACC.minicart.$layer.html(result),callback()}})},refreshMiniCartCount:function(){$.ajax({dataType:"json",url:ACC.minicart.$layer.attr("data-refreshMiniCartUrl")+Math.floor(101*Math.random())*(new Date).getTime(),success:function(data){$(".miniCart .count").html("("+data.miniCartCount+")"),$(".miniCart .price").html(data.miniCartPrice),ACC.minicart.$layer.data("needRefresh",!0)}})}},$(document).ready(function(){ACC.minicart.bindMiniCart()});var actionUrl="";$(document).ready(function(){function getQueryStringValue(key){var i,keyValues=location.search.substr(1).split("&");for(i=0;i<keyValues.length;++i){var pair=keyValues[i].split("=");if(pair[0]===key)return decodeURIComponent(pair[1])}}$.support.placeholder=!1,test=document.createElement("input"),"placeholder"in test&&($.support.placeholder=!0),$(".slider4").bxSlider({slideWidth:500,minSlides:1,maxSlides:2,moveSlides:1,slideMargin:30,nextText:'<span class="fa fa-chevron-right"></span>',prevText:'<span class="fa fa-chevron-left"></span>'}),$(".loyaltyslider4").bxSlider({slideWidth:202,minSlides:2,maxSlides:3,moveSlides:1,slideMargin:30,nextText:'<span class="fa fa-chevron-right"></span>',prevText:'<span class="fa fa-chevron-left"></span>'}),$(".single-slider").jRange({from:0,to:10,step:1,scale:[0,5,10],format:"%s",width:300,showLabels:!0}),$("#loginbox input").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().parent().find(".errorMsg").hide())}),$("#loginForm input").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().parent().find(".errorMsg").hide())}),$("#prodMainImg").elevateZoom({gallery:"prdDetail_thumbnail",cursor:"pointer",galleryActiveClass:"active",zoomWindowWidth:300,zoomWindowHeight:300,zoomWindowWidth:526,zoomWindowHeight:500,zoomWindowPosition:1,easing:!0,zoomWindowFadeIn:500,zoomWindowFadeOut:500,lensFadeIn:500,lensFadeOut:500,zoomWindowOffety:-2,zoomWindowOffetx:40}),$("#prodMainImg").bind("click",function(e){var ez=$("#prodMainImg").data("elevateZoom");return ez.closeAll(),!1}),$("#prodMainImg").on("click",function(event){$("#myModal").modal("toggle")});var reviewFlag="${reviewFlag}";"FromReview"==reviewFlag&&($(window).scrollTop($("#tabsection").offset().top),$("ul.resp-tabs-list > li").removeClass("resp-tab-active"),$(".resp-tabs-container > div").removeClass("resp-tab-content-active"),$("#tab2").addClass("resp-tab-active"),$("#reviewTab").addClass("resp-tab-content-active"),$("#prodSpec").hide()),$(".fileDownloadTable #myTable").tablesorter(),$(".toggle").click(function(){$(this).toggleClass("collapsed"),$input=$(this),$target=$("#"+$input.attr("data-toggle")),$target.slideToggle()}),$(".leadGen input,select,textarea").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()||" "==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().find(".errorMsg").hide())});var text_max=$("textarea#callBackDescription").attr("maxlength");$(".char-count").html(text_max+" characters remaining"),$("#callBackDescription").keyup(function(){var text_length=$("#callBackDescription").val().length,text_remaining=text_max-text_length;$(".char-count").html(text_remaining+" characters remaining")}),$(".invoiceTabTable #myTable").tablesorter(),$(".backOrderTabTable #myTable").tablesorter(),$(".date-picker").datepicker(),$(".regFrm input").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().find(".errorMsg").hide())}),$(".createuserpage input,select").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()||" "==$("#whatdescribes").val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().find(".errorMsg").hide())}),$("#newPassword").pwstrength(options),$(".password-verdict, .progress").hide(),$(".edituserpage input,select").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().find(".errorMsg").hide())}),$(".regFrm input").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().find(".errorMsg").hide())}),$(".resetPanel input").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().parent().find(".errorMsg").hide())}),$(".chekoutBillingShippingAddress input,select").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().find(".errorMsg").hide())}),$("#brandprefix").hide(),$("#checkYourMail input").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().parent().find(".errorMsg").hide())}),$(".progress").hide();var options={onLoad:function(){$("#messages").text("Start typing password")},onKeyUp:function(evt){$(evt.target).pwstrength("outputErrorList")}};$("#setnewpwd").pwstrength(options),$(".password-verdict, .progress").hide(),$(".regFrm input,select").blur(function(){var $hasReqField=$(this).parent().find("span");""==$(this).val()&&$hasReqField.hasClass("required")?($(this).addClass("inputError"),$(this).parent().find(".errorMsg").show()):$(this).hasClass("inputError")&&($(this).removeClass("inputError"),$(this).parent().find(".errorMsg").hide())}),$("#upload_order").on("click",function(e){$(".alertContainer").addClass("show")}),$(".close").on("click",function(e){$(".alertContainer").removeClass("show")}),$("#shipToSelect").change(function(){$("#shipToSelect option:selected").each(function(){"new"==$(this).attr("value")?($(".shipToForm .tab-pane").hide(),$("body").addClass("modal-open"),$("#shipToNewAddressPopup").addClass("in"),$("#shipToNewAddressPopup").attr("aria-hidden","false"),$("#shipToNewAddressPopup").show(),$("body").append('<div class="modal-backdrop fade in"></div>'),$(".brandprefix").removeClass("in"),$("#upload-brandprefix").removeClass("in")):"chooseExist"==$(this).attr("value")?($(".shipToForm .tab-pane").hide(),$("#shipTo").show()):"default"==$(this).attr("value")&&($(".shipToForm .tab-pane").hide(),$("#shipTodefaultAcc").show(),$("#newShipTo").hide(),$("#oldShipTo").show())})}),$("#soldToSelect").change(function(){$("#soldToSelect option:selected").each(function(){"default"==$(this).attr("value")&&($(".soldToForm .tab-pane").hide(),$("#soldTodefaultAcc").show()),"chooseExist"==$(this).attr("value")&&($(".soldToForm .tab-pane").hide(),$("#soldTo").show())})}),$(".close, .cancel").bind("click",function(){$("body").removeClass("modal-open"),$(".modal").removeClass("in"),$(".modal").attr("aria-hidden","true"),$(".modal").hide(),$(".modal-backdrop").remove()}),$("[class^=categories]").click(function(e){e.stopPropagation();var text=$(event.target).attr("class"),temp=text.split("-"),classCat=temp[0],partNoArr=temp[1].split(" "),partNo=partNoArr[0];$("[class^=categories]").addClass("hide"),$("[class^=categories]").parent(".form-control").addClass("hide"),$("."+classCat+"-"+partNo).siblings(".category").addClass("hide"),$("."+classCat+"-"+partNo).addClass("show"),$("."+classCat+"-"+partNo).parent("form-control-"+partNo).addClass("show"),$("."+classCat+"-"+partNo).siblings(".category-"+partNo).removeClass("hide").addClass("show").toggle()}),$("[class^=category]").click(function(e){e.stopPropagation();var text=$(event.target).attr("class");$("."+text).removeClass("show");var temp=text.split("-"),classCat=temp[0],partNoArr=temp[1].split(" "),partNo=partNoArr[0];$("."+classCat+"-"+partNo).addClass("hide").removeClass("show").slideToggle(),$("[class^=categories]").addClass("show").removeClass("hide"),$(".categories-"+partNo+" span").html($(this).text()),$("."+classCat+"-"+partNo).siblings(".category").removeClass("hide")}),getUnits(),$("[data-querystring-key]").each(function(){var key=$(this).attr("data-querystring-key");$(this).val(getQueryStringValue(key))}),$(".search-link-item a").click(function(event){$(".search-icon").toggleClass("hide"),$(".site-sub-nav-search-form").toggleClass("active")})}),ACC.common={currentPath:window.location.pathname,currentCurrency:"USD",$page:$("#page"),$globalMessages:$("#globalMessages"),setCurrentCurrency:function(){ACC.common.currentCurrency=ACC.common.$page.data("currencyIsoCode")},refreshScreenReaderBuffer:function(){$("#accesibility_refreshScreenReaderBufferField").attr("value",(new Date).getTime())},bindAll:function(){ACC.common.bindToUiCarouselLink(),ACC.common.bindShowProcessingMessageToSubmitButton()},bindToUiCarouselLink:function(){try{$("ul.carousel > li a.popup").colorbox({onComplete:function(){ACC.common.refreshScreenReaderBuffer(),$.colorbox.resize(),ACC.product.initQuickviewLightbox()},onClosed:function(){ACC.common.refreshScreenReaderBuffer()}})}catch(e){}},processingMessage:$("<img src='"+ACC.config.commonResourcePath+"/images/spinner.gif'/>"),bindShowProcessingMessageToSubmitButton:function(){$(":submit.show_processing_message").each(function(){$(this).on("click",ACC.common.showProcessingMessageAndBlockForm)})},showProcessingMessageAndBlockForm:function(){$("#checkoutContentPanel").block({message:ACC.common.processingMessage})},blockFormAndShowProcessingMessage:function(submitButton){var form=submitButton.parents("form:first");form.block({message:ACC.common.processingMessage})},showSpinner:function(message){$(".spinner-wrapper").show(),$("#spinnerMessage").html(message)},showSpinnerById:function(id){$("#"+id).show()},hideSpinner:function(){$(".spinner-wrapper").hide(),$("#spinnerMessage").html("")},hideSpinnerById:function(id){$("#"+id).hide()}},$(document).ready(function(){ACC.common.setCurrentCurrency(),ACC.common.bindAll(),ACC.common.bindShowProcessingMessageToSubmitButton()}),jQuery.extend({postJSON:function(url,data,callback){return jQuery.post(url,data,callback,"json")}}),$.ajaxPrefilter(function(options,originalOptions,jqXHR){if("post"===options.type||"POST"===options.type){var noData="undefined"==typeof options.data;(noData||options.data.indexOf("CSRFToken")===-1)&&(options.data=(noData?"":options.data+"&")+"CSRFToken="+ACC.config.CSRFToken)}}),ACC.cms={bindAll:function(){this.bindNavigationBarMenu()},bindNavigationBarMenu:function(){$("li.La ul ul a").each(function(){$(this).focus(function(){$(this).addClass("focused");var menuParent=$(this).closest("ul").parent().closest("ul");$(menuParent).addClass("dropdown-visible")}),$(this).blur(function(){$(this).removeClass("focused");var menuParent=$(this).closest("ul").parent().closest("ul");$(".focused",menuParent).length||$(menuParent).removeClass("dropdown-visible")})})}},$(document).ready(function(){ACC.cms.bindAll()}),ACC.product={initQuickviewLightbox:function(){this.enableAddToCartButton()},enableAddToCartButton:function(){$("#addToCartButton").removeAttr("disabled")},bindToAddToCartForm:function(){var addToCartForm=$(".add_to_cart_form");try{addToCartForm.ajaxForm({success:ACC.product.displayAddToCartPopup})}catch(e){}},displayAddToCartPopup:function(cartResult,statusText,xhr,formElement){ACC.common.$globalMessages.html(cartResult.cartGlobalMessagesHtml),$("#addToCartLayer").remove(),"function"==typeof ACC.minicart.refreshMiniCartCount&&ACC.minicart.refreshMiniCartCount(),$("#header").append(cartResult.addToCartLayer),$("#addToCartLayer").fadeIn(function(){$.colorbox.close(),"undefined"!=typeof timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout(function(){$("#addToCartLayer").fadeOut(function(){$("#addToCartLayer").remove()})},5e3)});var productCode=$("[name=productCodePost]",formElement).val(),quantityField=$("[name=qty]",formElement).val(),quantity=1;void 0!=quantityField&&(quantity=quantityField),ACC.track.trackAddToCart(productCode,quantity,cartResult.cartData),$("#orderFormAddToCart").length>0&&$("#addToCartBtn").attr("disabled","disabled")}},$(document).ready(function(){with(ACC.product)enableAddToCartButton()}),ACC.refinements={bindAll:function(){this.bindRefinementCategoryToggles(),this.bindMoreLessToggles(),this.bindMoreStoresToggles()},bindRefinementCategoryToggles:function(){$("a.refinementToggle").each(function(){$(this).attr("title",$(this).data("hideFacetText")),$(this).on("click",function(){var content=$(this).parents(".facet").find("div.facetValues");return $(this).attr("title",$(content).is(":visible")?$(this).data("showFacetText"):$(this).data("hideFacetText")),$(this).toggleClass("close"),$(content).slideToggle(),!1}),$(this).next().click(function(){$(this).prev().click()})})},bindMoreLessToggles:function(){$("a.moreFacetValues").click(function(e){e.preventDefault();var eParent=$(this).parents(".facetValues");eParent.find(".topFacetValues").hide(),eParent.find(".allFacetValues").show()}),$("a.lessFacetValues").click(function(e){e.preventDefault();var eParent=$(this).parents(".facetValues");eParent.find(".topFacetValues").show(),eParent.find(".allFacetValues").hide()})},bindMoreStoresToggles:function(){$("a.moreStoresFacetValues").click(function(e){e.preventDefault(),$(this).parents("div.allFacetValues").find("li.hidden").slice(0,5).removeClass("hidden").first().find("input:[type=checkbox]").focus()})}},$(document).ready(function(){ACC.refinements.bindAll()}),ACC.carousel={addthis_config:{ui_click:!0},bindAll:function(){this.bindJCarousel()},bindJCarousel:function(){try{jQuery(".yCmsContentSlot.span-4 .jcarousel-skin").jcarousel({vertical:!0}),jQuery(".yCmsContentSlot.span-24 > .scroller .jcarousel-skin").jcarousel({}),$("#homepage_slider").waitForImages(function(){$(this).slideView({toolTip:!0,ttOpacity:.6,autoPlay:!0,autoPlayTime:8e3})})}catch(e){}}},$(document).ready(function(){ACC.carousel.bindAll()}),ACC.autocomplete={bindAll:function(){this.bindSearchAutocomplete()},bindSearchAutocomplete:function(){var $search=$("#search"),option=$search.data("options"),cache={};option&&($search.autocomplete({minLength:option.minCharactersBeforeRequest,delay:option.waitTimeBeforeRequest,appendTo:".siteSearch",source:function(request,response){var term=request.term.toLowerCase();return term in cache?response(cache[term]):void $.postJSON(option.autocompleteUrl,{term:request.term},function(data){var autoSearchData=[];return null!=data.suggestions&&$.each(data.suggestions,function(i,obj){autoSearchData.push({value:obj.term,url:ACC.config.contextPath+"/search?text="+obj.term,type:"autoSuggestion"})}),null!=data.products&&$.each(data.products,function(i,obj){autoSearchData.push({value:obj.name,code:obj.code,desc:obj.description,manufacturer:obj.manufacturer,url:ACC.config.contextPath+obj.url,price:obj.price.formattedValue,type:"productResult",image:obj.images[0].url})}),cache[term]=autoSearchData,response(autoSearchData)})},focus:function(event,ui){return!1},select:function(event,ui){window.location.href=ui.item.url}}).data("autocomplete")._renderItem=function(ul,item){if("autoSuggestion"==item.type)return renderHtml="<a href='?q="+item.value+"' class='clearfix'>"+item.value+"</a>",$("<li class='suggestions'>").data("item.autocomplete",item).append(renderHtml).appendTo(ul);if("productResult"==item.type){var renderHtml="<a href='"+ACC.config.contextPath+item.url+"' class='product clearfix'>";return option.displayProductImages&&null!=item.image&&(renderHtml+="<span class='thumb'><img src='"+item.image+"' /></span><span class='desc clearfix'>"),renderHtml+="<span class='title'>"+item.value+"</span><span class='price'>"+item.price+"</span></span></a>",$("<li class='product'>").data("item.autocomplete",item).append(renderHtml).appendTo(ul)}})}},$(document).ready(function(){ACC.autocomplete.bindAll()}),ACC.pwdstrength={bindAll:function(){this.bindPStrength()},bindPStrength:function(){try{$(".strength").pstrength({verdicts:[ACC.pwdStrengthVeryWeak,ACC.pwdStrengthWeak,ACC.pwdStrengthMedium,ACC.pwdStrengthStrong,ACC.pwdStrengthVeryStrong],tooShort:ACC.pwdStrengthTooShortPwd,minCharText:ACC.pwdStrengthMinCharText})}catch(e){}}},$(document).ready(function(){ACC.pwdstrength.bindAll()}),ACC.password={bindAll:function(){$(":password").bind("cut copy paste",function(e){e.preventDefault()})}},$(document).ready(function(){ACC.password.bindAll()}),ACC.langcurrency={bindAll:function(){this.bindLangCurrencySelector()},bindLangCurrencySelector:function(){$("#lang-selector").change(function(){$("#lang-form").submit()}),$("#currency-selector").change(function(){$("#currency-form").submit()})}},$(document).ready(function(){ACC.langcurrency.bindAll()}),ACC.checkout={spinner:$("<img id='taxesEstimateSpinner' src='"+ACC.config.commonResourcePath+"/images/spinner.gif' />"),bindAll:function(){this.bindCheckO()},bindCheckO:function(){var cartEntriesError=!1;$(".doFlowSelectedChange").change(function(){"multistep-pci"==$("#selectAltCheckoutFlow").attr("value")?$("#selectPciOption").css("display",""):$("#selectPciOption").css("display","none")}),$(".doCheckoutBut").click(function(){var checkoutUrl=$(this).data("checkoutUrl");if(cartEntriesError=ACC.pickupinstore.validatePickupinStoreCartEntires(),!cartEntriesError){var expressCheckoutObject=$(".doExpressCheckout");if(expressCheckoutObject.is(":checked"))window.location=expressCheckoutObject.data("expressCheckoutUrl");else{var flow=$("#selectAltCheckoutFlow").attr("value");if(""==flow)window.location=checkoutUrl;else{"multistep-pci"==flow&&(flow="multistep");var pci=$("#selectPciOption").attr("value"),redirectUrl=checkoutUrl+"/select-flow?flow="+flow+"&pci="+pci;window.location=redirectUrl}}}return!1}),$("#estimateTaxesButton").click(function(){$("#zipCodewrapperDiv").removeClass("form_field_error"),$("#countryWrapperDiv").removeClass("form_field_error");var countryIso=$("#countryIso").val();""===countryIso&&$("#countryWrapperDiv").addClass("form_field_error");var zipCode=$("#zipCode").val();""===zipCode&&$("#zipCodewrapperDiv").addClass("form_field_error"),
""!==zipCode&&""!==countryIso&&($("#order_totals_container").append(ACC.checkout.spinner),$.postJSON("cart/estimate",{zipCode:zipCode,isocode:countryIso},function(estimatedCartData){$("#estimatedTotalTax").text(estimatedCartData.totalTax.formattedValue),$("#estimatedTotalPrice").text(estimatedCartData.totalPrice.formattedValue),$(".estimatedTotals").show(),$(".realTotals").hide(),$("#taxesEstimateSpinner").remove()}))})}},$(document).ready(function(){ACC.checkout.bindAll()}),ACC.approval={submitApprovalDecision:function(desictionCode){$("#approverSelectedDecision").attr("value",desictionCode),$("#approvalDecisionForm").submit()},bindToApproverDecisionButton:function(){$(".approverDecisionButton").click(function(){ACC.approval.submitApprovalDecision($(this).data("decision"))})}},$(document).ready(function(){ACC.approval.bindToApproverDecisionButton()}),ACC.quote={bindAll:function(){this.bindToCancelQuoteButtonClick(),this.bindToNegotiateQuoteButtonClick(),this.bindToCancelClick(),this.bindToAddAdditionalComment()},showRequestRequoteForm:function(){ACC.quote.displayNegotiateQuoteDiv(),$("#cancelQuoteButton").attr("disabled",!0)},displayNegotiateQuoteDiv:function(){return $("#negotiate-quote-div").show(),!1},bindToCancelQuoteButtonClick:function(){$("#cancelQuoteButton").click(function(){return ACC.quote.displayNegotiateQuoteDiv(),$("#negotiate-quote-div-label-cancel").show(),$("#cancelQuoteButton").addClass("pressed"),$("#negotiateQuoteButton").attr("disabled",!0),$("#acceptQuoteButton").attr("disabled",!0),$("#addAdditionalComment").attr("disabled",!0),$("#selectedQuoteDecision").val(this.name),!1})},updateNogotiatiateQuoteDivLabel:function(label){$("#negotiate-quote-div-label").html(label)},bindToNegotiateQuoteButtonClick:function(){$("#negotiateQuoteButton").click(function(){return $("#negotiateQuote").val(!0),$("#negotiateQuoteButton").addClass("pressed"),$("#cancelQuoteButton").attr("disabled",!0),$("#acceptQuoteButton").attr("disabled",!0),$("#addAdditionalComment").attr("disabled",!0),$("#selectedQuoteDecision").val(this.name),ACC.quote.displayNegotiateQuoteDiv(),$("#negotiate-quote-div-label-add-comment").show(),!1})},submitQuoteDecision:function(selectedQuoteDecision){$("#selectedQuoteDecision").attr("value",selectedQuoteDecision),$("#quoteOrderDecisionForm").submit()},bindToCancelClick:function(){$("#cancelComment").click(function(){return $("#negotiateQuote").val(!1),$("#negotiate-quote-div, #negotiate-quote-div h2 > div").hide(),$("#cancelQuoteButton").removeClass("pressed"),$("#negotiateQuoteButton").removeClass("pressed"),$("#acceptQuoteButton").removeClass("pressed"),$("#addAdditionalComment").removeClass("pressed"),$("#negotiateQuoteButton").removeAttr("disabled"),$("#cancelQuoteButton").removeAttr("disabled"),$("#acceptQuoteButton").removeAttr("disabled"),$("#addAdditionalComment").removeAttr("disabled"),$("#selectedQuoteDecision").val(""),!1})},bindToAddAdditionalComment:function(){$("#addAdditionalComment").click(function(){return $("#addAdditionalComment").addClass("pressed"),$("#negotiateQuoteButton").attr("disabled",!0),$("#cancelQuoteButton").attr("disabled",!0),$("#acceptQuoteButton").attr("disabled",!0),$("#selectedQuoteDecision").val(this.name),ACC.quote.displayNegotiateQuoteDiv(),$("#negotiate-quote-div-label-add-comment").show(),!1})}},$(document).ready(function(){"undefined"!=typeof quoteActive&&quoteActive&&ACC.quote.bindAll()}),ACC.negotiatequote={bindAll:function(){"undefined"!=typeof cartDataquoteAllowed&&($("#requestQuoteButton").attr("quoteAllowed",cartDataquoteAllowed),this.bindToCancelQuoteClick(),this.updateRequestQuoteButton(),this.bindToProceedButtonClick(),this.bindToRequestQuoteButtonClick(),this.bindToQuoteDescriptionValidation())},displayNegotiateQuoteDiv:function(){return $("#requestQuoteButton").addClass("pressed"),$("#negotiate-quote-div").show(),$(".place-order").attr("disabled",!0),$("#scheduleReplenishmentButton").attr("disabled",!0),!1},bindToCancelQuoteClick:function(){$("#cancel-quote-negotiation").click(function(){ACC.negotiatequote.cancelQuoteNegotiationEvent()})},cancelQuoteNegotiationEvent:function(){$("#requestQuoteButton").removeClass("pressed"),$("#negotiate-quote-div").hide(),$("#quoteRequestDescription").value="",$("#negotiateQuote").val(!1),ACC.placeorder.updatePlaceOrderButton(),ACC.negotiatequote.updateRequestQuoteButton(),ACC.replenishment.updateScheduleReplenishmentButton()},bindToProceedButtonClick:function(){$("#negotiateQuoteButton").click(function(){return $("#negotiateQuote").val(!0),ACC.placeorder.placeOrderWithSecurityCode(),!1})},bindToRequestQuoteButtonClick:function(){$("#requestQuoteButton").click(function(){return $("#requestQuoteButton").addClass("pressed"),ACC.negotiatequote.displayNegotiateQuoteDiv(),!1})},bindToQuoteDescriptionValidation:function(){$("#quoteRequestDescription[maxlength]").keyup(function(){var limit=parseInt($(this).attr("maxlength")),text=$(this).val(),chars=text.length;if(chars>limit){var new_text=text.substr(0,limit);$(this).val(new_text)}})},updateRequestQuoteButton:function(){var paymentType=$("#checkout_summary_paymentType_div").hasClass("complete"),deliveryAddress=$("#checkout_summary_deliveryaddress_div").hasClass("complete"),deliveryMode=$("#checkout_summary_deliverymode_div").hasClass("complete"),costCenter=$("#checkout_summary_costcenter_div").hasClass("complete"),paymentDetails=$("#checkout_summary_payment_div").hasClass("complete"),selectedPaymentType="CARD"!=$("input:radio[name='PaymentType']:checked").val(),costCenterSelected=""!=$("#CostCenter option:selected")[0].value,quoteAllowed="true"==$("#requestQuoteButton").attr("quoteAllowed");quoteAllowed&&paymentType&&deliveryAddress&&deliveryMode&&(costCenter||paymentDetails)&&selectedPaymentType&&costCenterSelected?$("#requestQuoteButton").removeAttr("disabled"):$("#requestQuoteButton").attr("disabled",!0),$("#requestQuoteButton").hasClass("pressed")&&($(".place-order").attr("disabled",!0),$("#scheduleReplenishmentButton").attr("disabled",!0))}},$(document).ready(function(){"undefined"!=typeof negotiateQuote&&negotiateQuote&&(ACC.negotiatequote.displayNegotiateQuoteDiv(),$("#negotiate-quote-div-label-add-comment").show()),ACC.negotiatequote.bindAll()}),ACC.paymentmethod={bindAll:function(){this.bindEditPaymentMethodButton(),this.bindSecurityCodeWhatIs(),$(document).on("change","#cardType",ACC.paymentmethod.displayStartDateIssueNum)},bindSecurityCodeWhatIs:function(){"undefined"!=typeof securityWhatText&&$(".security_code_what").bt(securityWhatText,{trigger:"click",positions:"bottom",fill:"#efefef",cssStyles:{fontSize:"11px"}})},bindEditPaymentMethodButton:function(){$("div.checkout_summary_flow_b .change_payment_method_button").click(function(){var paymentId=$(this).attr("data-payment_id"),options={url:getPaymentDetailsFormUrl,data:{paymentId:paymentId,createUpdateStatus:""},target:"#popup_checkout_add_edit_payment_method",type:"POST",cache:!1,success:function(data){ACC.paymentmethod.bindCreateUpdatePaymentDetailsForm(),$.colorbox({inline:!0,href:"#popup_checkout_add_edit_payment_method",height:!1,overlayClose:!1}),$(document).on("cbox_complete",function(){$.colorbox.resize()})},error:function(xht,textStatus,ex){alert("Failed to get payment details. Error details ["+xht+", "+textStatus+", "+ex+"]")}};return $(this).ajaxSubmit(options),!1})},bindUseSavedCardButton:function(){$("button.use_saved_card_button").click(function(){return $.ajax({url:getSavedCardsUrl,type:"POST",cache:!1,dataType:"json",success:function(data){$("#saved_cards_tbody").html($("#savedCardsTemplate").tmpl({savedCards:data})),ACC.paymentmethod.bindUseThisSavedCardButton(),ACC.paymentmethod.bindEnterNewPaymentButton(),$.colorbox({inline:!0,href:"#popup_checkout_saved_payment_method",height:!1,innerHeight:"530px"})},error:function(xht,textStatus,ex){alert("Failed to get saved cards. Error details ["+xht+", "+textStatus+", "+ex+"]")}}),!1})},bindEnterNewPaymentButton:function(){$("button.enter_new_payment_button").click(function(){return $.colorbox({inline:!0,href:"#popup_checkout_add_edit_payment_method",height:!1,innerHeight:"930px"}),!1})},bindCreateUpdatePaymentDetailsForm:function(){ACC.paymentmethod.bindUseSavedCardButton(),$(".create_update_payment_form").each(function(){var options={type:"POST",beforeSubmit:function(){$("#popup_checkout_add_edit_payment_method").block({message:"<img src='"+spinnerUrl+"' />"}),$.colorbox.toggleLoadingOverlay()},success:function(data){$("#popup_checkout_add_edit_payment_method").html(data);var status=$(".create_update_payment_id").attr("status");null!=status&&"success"==status.toLowerCase()?(ACC.refresh.getCheckoutCartDataAndRefreshPage(),parent.$.colorbox.close()):(ACC.paymentmethod.bindCreateUpdatePaymentDetailsForm(),parent.$.colorbox.resize())},error:function(xht,textStatus,ex){alert("Failed to create/update payment details. Error details ["+xht+", "+textStatus+", "+ex+"]")},complete:function(){$("#popup_checkout_add_edit_payment_method").unblock(),$.colorbox.toggleLoadingOverlay(),ACC.paymentmethod.displayStartDateIssueNum()}};$(this).ajaxForm(options)})},bindUseThisSavedCardButton:function(){$(".use_this_saved_card_button").click(function(){var paymentId=$(this).attr("data-payment_id");return $.postJSON(setPaymentDetailsUrl,{paymentId:paymentId},ACC.paymentmethod.handleSelectSavedCardSuccess),!1})},handleSelectSavedCardSuccess:function(data){null!=data?(ACC.refresh.refreshPage(data),parent.$.colorbox.close()):alert("Failed to set payment details")},refreshPaymentDetailsSection:function(data){$("#checkout_summary_payment_div").replaceWith($("#paymentSummaryTemplate").tmpl(data)),ACC.paymentmethod.bindEditPaymentMethodButton(),ACC.paymentmethod.bindSecurityCodeWhatIs()},displayStartDateIssueNum:function(){var cardType=$("#cardType").val();"maestro"==cardType||"switch"==cardType?$("#startDate, #issueNum").show("fast","linear",function(){parent.$.colorbox.resize()}):$("#startDate, #issueNum").hide("fast","linear",function(){parent.$.colorbox.resize()})}},$(document).ready(function(){ACC.paymentmethod.bindAll()}),ACC.placeorder={bindAll:function(){this.bindPlaceOrder(),this.updatePlaceOrderButton(),this.bindSecurityCodeWhatIs()},bindPlaceOrder:function(){$(".placeOrderWithSecurityCode").on("click",function(){ACC.common.blockFormAndShowProcessingMessage($(this)),$(".securityCodeClass").val($("#SecurityCode").val()),$("#placeOrderForm1").submit()})},updatePlaceOrderButton:function(){$(".place-order").removeAttr("disabled")},bindSecurityCodeWhatIs:function(){try{$(".security_code_what").bt($("#checkout_summary_payment_div").data("securityWhatText"),{trigger:"click",positions:"bottom",fill:"#efefef",cssStyles:{fontSize:"11px"}})}catch(e){}}},$(document).ready(function(){ACC.placeorder.bindAll()}),ACC.address={spinner:$("<img src='"+ACC.config.commonResourcePath+"/images/spinner.gif' />"),addressID:"",setupDeliveryAddressPopupForm:function(data){$("#summaryDeliveryAddressBook").html($("#deliveryAddressesTemplate").tmpl({addresses:data})),$("#summaryDeliveryAddressBook button.use_address").click(ACC.address.handleSelectExistingAddressClick),$("#summaryDeliveryAddressBook button.edit").click(ACC.address.handleEditAddressClick),$("#summaryDeliveryAddressBook button.default").click(ACC.address.handleDefaultAddressClick)},emptyAddressForm:function(){var options={url:getDeliveryAddressFormUrl,data:{addressId:ACC.address.addressID,createUpdateStatus:""},type:"POST",success:function(data){$("#summaryDeliveryAddressFormContainer").html(data),ACC.address.bindCreateUpdateAddressForm()}};$.ajax(options)},handleSelectExistingAddressClick:function(){console.log("handleSelectExistingAddressClick");var addressId=$(this).attr("data-address");return $.postJSON(setDeliveryAddressUrl,{addressId:addressId},ACC.address.handleSelectExitingAddressSuccess),!1},handleEditAddressClick:function(){$("#summaryDeliveryAddressFormContainer").show(),$("#summaryOverlayViewAddressBook").show(),$("#summaryDeliveryAddressBook").hide();var addressId=$(this).attr("data-address"),options={url:getDeliveryAddressFormUrl,data:{addressId:addressId,createUpdateStatus:""},target:"#summaryDeliveryAddressFormContainer",type:"POST",success:function(data){ACC.address.bindCreateUpdateAddressForm(),$.colorbox.resize()},error:function(xht,textStatus,ex){alert("Failed to update cart. Error details ["+xht+", "+textStatus+", "+ex+"]")}};return $(this).ajaxSubmit(options),!1},handleDefaultAddressClick:function(){var addressId=$(this).attr("data-address"),options={url:setDefaultAddressUrl,data:{addressId:addressId},type:"POST",success:function(data){ACC.address.setupDeliveryAddressPopupForm(data)},error:function(xht,textStatus,ex){alert("Failed to update address book. Error details ["+xht+", "+textStatus+", "+ex+"]")}};return $(this).ajaxSubmit(options),!1},handleSelectExitingAddressSuccess:function(data){null!=data?(ACC.refresh.refreshPage(data),parent.$.colorbox.close()):alert("Failed to set delivery address")},bindCreateUpdateAddressForm:function(){$(".create_update_address_form").each(function(){var options={type:"POST",beforeSubmit:function(){$("#checkout_delivery_address").block({message:ACC.address.spinner})},success:function(data){$("#summaryDeliveryAddressFormContainer").html(data);var status=$(".create_update_address_id").attr("status");null!=status&&"success"===status.toLowerCase()?(ACC.refresh.getCheckoutCartDataAndRefreshPage(),parent.$.colorbox.close()):(ACC.address.bindCreateUpdateAddressForm(),$.colorbox.resize())},error:function(xht,textStatus,ex){alert("Failed to update cart. Error details ["+xht+", "+textStatus+", "+ex+"]")},complete:function(){$("#checkout_delivery_address").unblock()}};$(this).ajaxForm(options)})},refreshDeliveryAddressSection:function(data){$(".summaryDeliveryAddress").replaceWith($("#deliveryAddressSummaryTemplate").tmpl(data))},bindSuggestedDeliveryAddresses:function(){var status=$(".add_edit_delivery_address_id").attr("status");null!=status&&"hasSuggestedAddresses"==status&&ACC.address.showSuggestedAddressesPopup()},showSuggestedAddressesPopup:function(){$.colorbox({inline:!0,height:!1,width:525,href:"#popup_suggested_delivery_addresses",overlayClose:!1,onComplete:function(){$(this).colorbox.resize()}})},bindCountrySpecificAddressForms:function(){$("#countrySelector :input").on("change",function(){var options={addressCode:"",countryIsoCode:$(this).val()};ACC.address.displayCountrySpecificAddressForm(options,ACC.address.showAddressFormButtonPanel)})},showAddressFormButtonPanel:function(){""!==$("#countrySelector :input").val()&&$("#addressform_button_panel").show()},showAddressBook:function(){$(document).on("click","#viewAddressBook",function(){var data=$("#savedAddressListHolder").html();$.colorbox({height:!1,html:data,onComplete:function(){$(this).colorbox.resize()}})})},showRemoveAddressConfirmation:function(){$(document).on("click",".removeAddressButton",function(e){e.preventDefault();var addressId=$(this).data("addressId");$.colorbox({inline:!0,height:!1,href:"#popup_confirm_address_removal_"+addressId,onComplete:function(){$(this).colorbox.resize()}})})},bindToColorboxClose:function(){$(document).on("click",".closeColorBox",function(){$.colorbox.close()})},displayCountrySpecificAddressForm:function(options,callback){$.ajax({url:ACC.config.contextPath+"/my-account/addressform",async:!0,data:options,dataType:"html",beforeSend:function(){$("#i18nAddressForm").html(ACC.address.spinner)}}).done(function(data){$("#i18nAddressForm").html($(data).html()),"function"==typeof callback&&callback.call()})},bindToChangeAddressButton:function(){$(document).on("click",".summaryDeliveryAddress .editButton",ACC.address.handleChangeAddressButtonClick)},bindViewAddressBook:function(){$(document).on("click","#summaryOverlayViewAddressBook",function(){$("#summaryDeliveryAddressFormContainer").hide(),$("#summaryOverlayViewAddressBook").hide(),$("#summaryDeliveryAddressBook").show(),$.colorbox.resize()})}},jQuery.extend({postJSON:function(url,data,callback){return jQuery.post(url,data,callback,"json")}}),$(document).ready(function(){ACC.address.showRemoveAddressConfirmation(),ACC.address.bindToColorboxClose()}),ACC.refresh={refreshCartTotals:function(checkoutCartData){$("#ajaxCart").html($("#cartTotalsTemplate").tmpl(checkoutCartData))},refreshPage:function(checkoutCartData){},getCheckoutCartDataAndRefreshPage:function(){$.postJSON(getCheckoutCartUrl,function(checkoutCartData){ACC.refresh.refreshPage(checkoutCartData)})}},$.blockUI.defaults.overlayCSS={},$.blockUI.defaults.css={},ACC.stars={bindStarsWrapperRadioButtons:function(radioButtons){var length=radioButtons.length;radioButtons.change(function(){for(var btnNo=1;btnNo<=length;btnNo++){var ratingId="#rating"+btnNo;btnNo<=$(this).val()?$(ratingId).prev().removeClass("no_star"):$(ratingId).prev().addClass("no_star"),$(ratingId).prev().removeClass("selected")}$(this).prev().addClass("selected")})},bindStarsWrapperRadioButtonsFirstTimeFocus:function(radioButtons){radioButtons.one("focus",function(){$(this).trigger("change")})},initialize:function(){this.bindStarsWrapperRadioButtons($("#stars-wrapper input")),this.bindStarsWrapperRadioButtonsFirstTimeFocus($("#stars-wrapper input"))}},$(document).ready(function(){ACC.stars.initialize()}),ACC.forgotpassword={$forgottenPwdForm:$("#forgottenPwdForm"),$forgotPasswordLink:$(".password-forgotten"),bindForgotPasswordLink:function(link){link.click(function(){$.get(link.data("url")).done(function(data){$.colorbox({html:data,height:"250px",overlayClose:!1,onOpen:function(){$("#validEmail").remove()},onComplete:function(){ACC.forgotpassword.$forgottenPwdForm.ajaxForm({success:function(data){$(data).closest("#validEmail").length?(0===$("#validEmail").length&&ACC.common.$globalMessages.append(data),$.colorbox.close()):(ACC.forgotpassword.$forgottenPwdForm.find(".form_field-elements").html($(data).find("#forgottenPwdForm .form_field-elements")),$.colorbox.resize())}}),ACC.common.refreshScreenReaderBuffer()},onClosed:function(){ACC.common.refreshScreenReaderBuffer()}})})})},bindAll:function(){ACC.forgotpassword.bindForgotPasswordLink(ACC.forgotpassword.$forgotPasswordLink)}},$(document).ready(function(){ACC.forgotpassword.bindAll()}),ACC.productDetail={initPageEvents:function(){try{$(".productImageGallery .jcarousel-skin").jcarousel({vertical:!0})}catch(e){}$(document).on("click","#imageLink, .productImageZoomLink",function(e){e.preventDefault(),$.colorbox({href:$(this).attr("href"),height:555,onComplete:function(){ACC.common.refreshScreenReaderBuffer(),$("#colorbox .productImageGallery .jcarousel-skin").jcarousel({vertical:!0})},onClosed:function(){ACC.common.refreshScreenReaderBuffer()}})}),$(".productImageGallery img").click(function(e){$(".productImagePrimary img").attr("src",$(this).attr("data-primaryimagesrc")),$("#zoomLink, #imageLink").attr("href",$("#zoomLink").attr("data-href")+"?galleryPosition="+$(this).attr("data-galleryposition")),$(".productImageGallery .thumb").removeClass("active"),$(this).parent(".thumb").addClass("active")}),$(document).on("click","#colorbox .productImageGallery img",function(e){$("#colorbox  .productImagePrimary img").attr("src",$(this).attr("data-zoomurl")),$("#colorbox .productImageGallery .thumb").removeClass("active"),$(this).parent(".thumb").addClass("active")}),$("body").on("keyup","input[name=qtyInput]",function(event){for(var input=$(event.target),value=input.val(),qty_css="input[name=qty]";input.parent()[0]!=document;)if(input=input.parent(),input.find(qty_css).length>0)return void input.find(qty_css).val(value)}),$("#Size").change(function(){var url="",selectedIndex=0;$("#Size option:selected").each(function(){url=$(this).attr("value"),selectedIndex=$(this).attr("index")}),0!=selectedIndex&&(window.location.href=url)}),$("#variant").change(function(){var url="",selectedIndex=0;$("#variant option:selected").each(function(){url=$(this).attr("value"),selectedIndex=$(this).attr("index")}),0!=selectedIndex&&(window.location.href=url)}),$(".selectPriority").change(function(){var url="",selectedIndex=0;url=$(this).attr("value"),selectedIndex=$(this).attr("index"),0!=selectedIndex&&(window.location.href=url)})}},$(document).ready(function(){with(ACC.productDetail)initPageEvents()}),ACC.productTabs={bindAll:function(){$("#productTabs").length>0&&(ACC.productTabs.showReviewsAction("reviews"),ACC.productTabs.productTabs=$("#productTabs").accessibleTabs({wrapperClass:"content",currentClass:"current",tabhead:".tabHead",tabbody:".tabBody",fx:"show",fxspeed:null,currentInfoText:"current tab: ",currentInfoPosition:"prepend",currentInfoClass:"current-info",autoAnchor:!0}),$(document).on("click","#write_review_action_main, #write_review_action",function(e){e.preventDefault(),ACC.productTabs.scrollToReviewTab("#write_reviews"),$("#reviewForm input[name=headline]").focus()}),$("#based_on_reviews, #read_reviews_action").bind("click",function(e){e.preventDefault(),ACC.productTabs.scrollToReviewTab("#reviews")}),$(document).on("click","#show_all_reviews_top_action, #show_all_reviews_bottom_action",function(e){e.preventDefault(),ACC.productTabs.showReviewsAction("allreviews"),$(this).hide()}))},scrollToReviewTab:function(pane){$.scrollTo("#productTabs",300,{axis:"y"}),ACC.productTabs.productTabs.showAccessibleTabSelector("#tab-reviews"),$("#write_reviews,#reviews").hide(),$(pane).show()},showReviewsAction:function(s){$.get($("#reviews").data(s),function(result){$("#reviews").html(result)})}},$(document).ready(function(){ACC.productTabs.bindAll(),$("#review textarea#comment").on("keyup",function(e){$(this).val($(this).val().replace(/\s+(?=\s)/g,""))})}),ACC.productorderform={$addToCartOrderForm:$("#AddToCartOrderForm"),$omsErrorMessageContainer:$("#globalMessages"),$skuQuantityInputs:$(".sku-quantity"),$futureTooltipTemplate:$("#future-tooltip-template"),$futureTooltipErrorTemplate:$("#future-tooltip-error-template"),$omsErrorMessageTemplate:$("#oms-error-message-template"),coreTableActions:function(){var skuQuantityClass=".sku-quantity",quantityBefore=0,quantityAfter=0;ACC.productorderform.$addToCartOrderForm.on("click",skuQuantityClass,function(event){$(this).select()}),ACC.productorderform.$addToCartOrderForm.on("focusin",skuQuantityClass,function(event){quantityBefore=jQuery.trim(this.value),""==quantityBefore&&(quantityBefore=0,this.value=0)}),ACC.productorderform.$addToCartOrderForm.on("focusout",skuQuantityClass,function(event){var indexPattern="[0-9]+",currentIndex=parseInt($(this).attr("id").match(indexPattern)),$gridGroup=$(this).parents(".orderForm_grid_group"),$closestQuantityValue=$gridGroup.find("#quantityValue"),$closestAvgPriceValue=$gridGroup.find("#avgPriceValue"),$closestSubtotalValue=$gridGroup.find("#subtotalValue"),$currentTotalItems=$("#total-items-count"),currentTotalItemsValue=$currentTotalItems.html(),currentTotalPrice=$("#total-price-value").val(),currentQuantityValue=$closestQuantityValue.val(),currentSubtotalValue=$closestSubtotalValue.val(),totalPrice=0,currentPrice=$("input[id='productPrice["+currentIndex+"]']").val();quantityAfter=jQuery.trim(this.value),isNaN(jQuery.trim(this.value))&&(this.value=0),""==quantityAfter&&(quantityAfter=0,this.value=0),0==quantityBefore?($closestQuantityValue.val(parseInt(currentQuantityValue)+parseInt(quantityAfter)),$closestSubtotalValue.val(parseFloat(currentSubtotalValue)+parseFloat(currentPrice)*parseInt(quantityAfter)),$currentTotalItems.html(parseInt(currentTotalItemsValue)+parseInt(quantityAfter)),totalPrice=parseFloat(currentTotalPrice)+parseFloat(currentPrice)*parseInt(quantityAfter)):($closestQuantityValue.val(parseInt(currentQuantityValue)+(parseInt(quantityAfter)-parseInt(quantityBefore))),$closestSubtotalValue.val(parseFloat(currentSubtotalValue)+parseFloat(currentPrice)*(parseInt(quantityAfter)-parseInt(quantityBefore))),$currentTotalItems.html(parseInt(currentTotalItemsValue)+(parseInt(quantityAfter)-parseInt(quantityBefore))),totalPrice=parseFloat(currentTotalPrice)+parseFloat(currentPrice)*(parseInt(quantityAfter)-parseInt(quantityBefore))),0==$("#total-items-count").text()?$("#addToCartBtn").attr("disabled","disabled"):$("#addToCartBtn").removeAttr("disabled"),$("#total-price").html(ACC.productorderform.formatTotalsCurrency(totalPrice)),$("#total-price-value").val(totalPrice),parseInt($closestQuantityValue.val())>0?$closestAvgPriceValue.val(parseFloat($closestSubtotalValue.val())/parseInt($closestQuantityValue.val())):$closestAvgPriceValue.val(0),$closestQuantityValue.parent().find("#quantity").html($closestQuantityValue.val()),$closestAvgPriceValue.parent().find("#avgPrice").html(ACC.productorderform.formatTotalsCurrency($closestAvgPriceValue.val())),$closestSubtotalValue.parent().find("#subtotal").html(ACC.productorderform.formatTotalsCurrency($closestSubtotalValue.val()))})},bindUpdateFutureStockButton:function(updateFutureStockButton){try{updateFutureStockButton.live("click",function(event){event.preventDefault();var $gridContainer=$(this).parent().parent().find(".product-grid-container"),$skus=jQuery.map($gridContainer.find("input[type='hidden'].sku"),function(o){return o.value}),skusId=$(this).data("skusId"),futureStockUrl=$(this).data("skusFutureStockUrl"),postData={skus:$skus,productCode:skusId};ACC.common.showSpinnerById(skusId),$.ajax({url:futureStockUrl,type:"POST",data:postData,traditional:!0,dataType:"json",success:function(data){ACC.productorderform.updateFuture($gridContainer,$skus,data,skusId)},error:function(xht,textStatus,ex){ACC.common.hideSpinnerById(skusId),alert("Failed to get delivery modes. Error details ["+xht+", "+textStatus+", "+ex+"]")}})})}catch(e){}},bindExpandGridButton:function(expandGridButton){expandGridButton.click(function(event){event.preventDefault(),$.colorbox({html:ACC.productorderform.$addToCartOrderForm.clone(!0),scroll:!0,width:"98%",height:"98%",onCleanup:function(){ACC.productorderform.syncGrid("#cboxContent","form#AddToCartOrderForm")}})})},updateFuture:function(gridContainer,skus,freshData,callerId){ACC.productorderform.$omsErrorMessageContainer.find("div").remove(),null!==freshData&&"undefined"!=typeof freshData["basket.page.viewFuture.unavailable"]?$.tmpl(ACC.productorderform.$omsErrorMessageTemplate,{errorMessage:freshData["basket.page.viewFuture.unavailable"]}).appendTo(ACC.productorderform.$omsErrorMessageContainer):$.each(skus,function(index,skuId){var stocks=freshData[skuId],cell=gridContainer.find("[data-sku-id='"+skuId+"']"),isCurrentlyInStock=cell[0].attributes.class.nodeValue.indexOf("in-stock")!=-1,futureStockPresent="undefined"!=typeof stocks&&null!==stocks&&null!==stocks[0]&&"undefined"!=typeof stocks[0];cell.children(".future_tooltip, .out-of-stock, .future-stock").remove(),futureStockPresent?(isCurrentlyInStock||cell.addClass("future-stock"),$.tmpl(ACC.productorderform.$futureTooltipTemplate,{deliverMessage:ACC.productorderform.$addToCartOrderForm.data("gridFutureTooltipHeadingDelivery"),qtyMessage:ACC.productorderform.$addToCartOrderForm.data("gridFutureTooltipHeadingQty"),formattedDate:stocks[0].formattedDate,availabilities:stocks}).appendTo(cell)):isCurrentlyInStock||(cell[0].attributes.class.nodeValue="td_stock out-of-stock")}),ACC.common.hideSpinnerById(callerId)},syncGrid:function(sourceContainer,targetContainer){var $allSkus=$(sourceContainer+" .sku-quantity");$.each($allSkus,function(index,sku){var selectorSuffix=" input[name='"+sku.name+"'].sku-quantity",$skuQuantitySource=$(sourceContainer+selectorSuffix),$skuQuantityTarget=$(targetContainer+selectorSuffix);$skuQuantityTarget.val(sku.value),ACC.productorderform.syncTotalsBySku($skuQuantitySource,$skuQuantityTarget)})},toJSON:function(gridForm,skipZeroQuantity){for(var skus=gridForm.find("input.sku").map(function(index,element){return element.value}),skuQuantities=gridForm.find("input.sku-quantity").map(function(index,element){return parseInt(element.value)}),skusAsJSON=[],i=0;i<skus.length;i++)skipZeroQuantity&&0===skuQuantities[i]||skusAsJSON.push({sku:skus[i],quantity:skuQuantities[i]});return JSON.stringify({cartEntries:skusAsJSON})},syncTotalsBySku:function(skuQuantitySource,skuQuantityTarget){var $sourceQuantityValue=$(skuQuantitySource).closest(".orderForm_grid_group").find("#quantityValue"),$sourceAvgPriceValue=$(skuQuantitySource).closest(".orderForm_grid_group").find("#avgPriceValue"),$sourceSubtotalValue=$(skuQuantitySource).closest(".orderForm_grid_group").find("#subtotalValue"),$targetQuantityValue=$(skuQuantityTarget).closest(".orderForm_grid_group").find("#quantityValue"),$targetAvgPriceValue=$(skuQuantityTarget).closest(".orderForm_grid_group").find("#avgPriceValue"),$targetSubtotalValue=$(skuQuantityTarget).closest(".orderForm_grid_group").find("#subtotalValue");$targetQuantityValue.parent().find("#quantity").html($sourceQuantityValue.val()),$targetAvgPriceValue.parent().find("#avgPrice").html(Number($sourceAvgPriceValue.val()).toFixed(2)),$targetSubtotalValue.parent().find("#subtotal").html(Number($sourceSubtotalValue.val()).toFixed(2)),$targetQuantityValue.val($sourceQuantityValue.val()),$targetAvgPriceValue.val($sourceAvgPriceValue.val()),$targetSubtotalValue.val($sourceSubtotalValue.val())},formatTotalsCurrency:function(amount){return Currency.formatMoney(Number(amount).toFixed(2),Currency.money_format[ACC.common.currentCurrency])},cleanValues:function(){if(0!==$(".orderForm_grid_group").length){var formattedTotal=ACC.productorderform.formatTotalsCurrency("0.00");ACC.common.$page.find("#avgPrice, #subtotal, #total-price").html(formattedTotal),ACC.common.$page.find("#quantity, #total-items-count").html(0),ACC.common.$page.find("#quantityValue, #avgPriceValue, #subtotalValue, #total-price-value").val(0),ACC.productorderform.$skuQuantityInputs.val(0)}},bindAll:function(){ACC.productorderform.coreTableActions(),ACC.productorderform.bindUpdateFutureStockButton($(".update_future_stock_button")),ACC.productorderform.bindExpandGridButton($(".js-expand-grid-button"))}},$(document).ready(function(){ACC.productorderform.bindAll(),ACC.productorderform.cleanValues()}),ACC.skiplinks={bindAll:function(){this.bindLinks()},bindLinks:function(){$("a[href^='#']").not("a[href='#']").click(function(){var target=$(this).attr("href");$(target).attr("tabIndex",-1).focus()})}},$(document).ready(function(){try{$.browser.webkit&&ACC.skiplinks.bindAll()}catch(e){}}),$("#ex2").bootstrapSlider({}),$(document).ready(function(){$("#horizontalTab, .horizontalTab").easyResponsiveTabs({type:"default",width:"auto",fit:!0,closed:"accordion",activate:function(event){var $tab=$(this),$info=$("#tabInfo"),$name=$("span",$info);$name.text($tab.text()),$info.show()}})}),$(function(){function footerAccordion(){winIsSmall=window.innerWidth<769,$(".col-xs-12 .mobslider").toggle(!winIsSmall)}var winIsSmall;$(window).on("load resize",footerAccordion),$(".col-xs-12").find("h5").click(function(){if(winIsSmall){var h5=this,parentDiv=$(h5).parents(".link-container")[0],children=$(parentDiv).children("h5, ul"),ulIx=-1;if($.each(children,function(i,o){if(o==h5)return ulIx=i+1,!1}),ulIx>=0){var ul=children[ulIx];$(h5).toggleClass("expandFooterLink"),$(ul).stop().toggleClass("expandFooterLink").slideToggle()}}})}),$(".tip").tooltip(),$(function(){$("#productDescPanel").slimScroll({height:"115px",width:"96%"}),$("#myClassPointsPanel").slimScroll({height:"100px",width:"96%"})}),$(document).on("change",".btn-file :file",function(){var input=$(this),numFiles=input.get(0).files?input.get(0).files.length:1,label=input.val().replace(/\\/g,"/").replace(/.*\//,"");input.trigger("fileselect",[numFiles,label])}),$(document).ready(function(){$(".btn-file :file").on("fileselect",function(event,numFiles,label){var input=$(this).parents(".input-group").find(":text"),log=numFiles>1?numFiles+" files selected":label;input.length?input.val(log):log&&alert(log)}),$("select#whatdescribes").on("change",function(){$("div.panel-frm-filled").show();var optVal=$(this).val(),formEmail=$("select#whatdescribes :selected").text();$("input[type=hidden][name=technicianType]").val(formEmail),resetDisabledCompanyFields(),
getUnits(!0),validateAccount(),displayFieldsForUserType(optVal)}),$("#share").click(function(){$("#twitbtn,#fbbtn,#gglbtn,#stmblbtn,#lnkdbtn").slideToggle("slow")}),$(".searchStLocator, .searchStLoc").click(function(){$("#map").slideDown(2e3),$("#defaultmap").hide(),$(".facloseFont").show()}),$("#closestloc").click(function(){$("#map").slideUp(2e3),$("#defaultmap").show(),$(".facloseFont").hide()})}),$(".carousel").carousel({pause:!1,interval:1e4}),$(".modal").on("show.bs.modal",centerModal),$(window).on("resize",function(){$(".modal:visible").each(centerModal)}),$(document).on("click",".panel div.clickable",function(e){var $this=$(this);$this.hasClass("panel-collapsed")?($this.parents(".panel").find(".panel-body").slideUp(),$this.removeClass("panel-collapsed"),$this.find("i").removeClass("fa-minus").addClass("fa-plus"),$this.parent(".panel").removeClass("panel-frm-filled")):($this.parents(".panel").find(".panel-body").slideDown(),$this.addClass("panel-collapsed"),$this.find("i").removeClass("fa-plus").addClass("fa-minus"),$this.parent(".panel").addClass("panel-frm-filled"))}),$(document).ready(function(){$(".panel-heading span.clickable").click(),$(".panel div.clickable").click();var nabscode=$("#nabscode").val();$(".fm_btn_olt-overview").attr("href","http://fdm.epiinc.com/IFA/FDM/cgi-bin/login100?clkey=fdm&qqid01=262&qqid02="+nabscode)}),$("#registrationB2b").submit(function(){try{$("#regsubmit").prop("disabled",!0).addClass("disabled"),$(this).find("input:text").each(function(){$(this).val($.trim($(this).val()))}),$(this).find("input:tel").each(function(){$(this).val($.trim($(this).val()))})}catch(e){}});var FM_ACCOUNTCODE_INTERNAL_USERS="16427113582";String.prototype.startsWith=function(str){return 0==this.indexOf(str)},ACC.myfmaccount={currentPath:window.location.href,pathName:"",currentCurrency:"USD",ajaxUrl:"USD/my-fmaccount/",$page:$("#page"),$globalMessages:$("#globalMessages"),$taxDocApprovalSelect:$("#taxDocApproval"),options:"",url:"",conOptionStart:'<option value="',conOptionEnd:" </option>",conValue:"value",conSize:"Size",setCurrentPath:function(){try{ACC.myfmaccount.currentPath.indexOf("/USD")!=-1?ACC.myfmaccount.pathName=ACC.myfmaccount.currentPath.substring(0,ACC.myfmaccount.currentPath.lastIndexOf("/USD")+1):ACC.myfmaccount.currentPath.indexOf("?site")!=-1?ACC.myfmaccount.pathName=ACC.myfmaccount.currentPath.substring(0,ACC.myfmaccount.currentPath.lastIndexOf("/?site")+1)+ACC.myfmaccount.currentPath.substring(ACC.myfmaccount.currentPath.lastIndexOf("site=")+5,ACC.myfmaccount.currentPath.length)+"/en/":ACC.myfmaccount.pathName=window.location.href}catch(e){alert(e)}},bindAll:function(){with(ACC.myfmaccount)bindToAddTaxDocApproval($taxDocApprovalSelect)},bindToAddTaxDocApproval:function(taxDocApprovalSelect){taxDocApprovalSelect.change(function(event){var taxDocPKValue=$("#taxDocPK").val();ACC.myfmaccount.Url=ACC.myfmaccount.pathName+ACC.myfmaccount.ajaxUrl+"update-taxexemption-approval/"+this.value+"/"+taxDocPKValue,ACC.myfmaccount.postAJAX(ACC.myfmaccount.taxDocApproval,ACC.myfmaccount.$taxDocApprovalSelect,"")})},postAJAX:function(reqType,selectField,defaultopt){alert("reqType :: "+reqType),$.ajax({url:ACC.myfmaccount.Url,async:!1,cache:!1,success:function(xmlDoc){var respSize=($(xmlDoc).find(reqType).text(),$(xmlDoc).find(reqType+ACC.myfmaccount.conSize).text());try{ACC.myfmaccount.options=defaultopt,respSize>0?ACC.myfmaccount.options+=ACC.myfmaccount.conOptionStart+$(xmlDoc).find(reqType+ACC.myfmaccount.conValue+int).text()+'">'+$(xmlDoc).find(reqType+ACC.myfmaccount.conValue+int).text()+ACC.myfmaccount.conOptionEnd:selectField.append(ACC.myfmaccount.options)}catch(err){}}})}},$(document).ready(function(){ACC.myfmaccount.setCurrentPath(),ACC.myfmaccount.bindAll(),$(".description").each(function(i){var b=$(this).find("b").html();$(this).html(b),$(this).find("ul").remove()})}),ACC.mycompany={bindAll:function(){this.mycompanyInit(),this.selectDeselectBudgetInit(),this.selectDeselectUserInit(),this.selectDeselectLinkInit();try{$("#unittree").treeview()}catch(e){}},mycompanyInit:function(){$("#budgetStartDate").length>0&&$("#budgetEndDate").length>0&&($("#budgetStartDate").datepicker({dateFormat:budgetStartEnd}),$("#budgetEndDate").datepicker({dateFormat:budgetStartEnd}),$("#budgetStartDate").datepicker("option","appendText",budgetStartEndHint),$("#budgetEndDate").datepicker("option","appendText",budgetStartEndHint),$("#editB2bBudgetform").validate({rules:{startDate:{required:!0,dpDate:!0},endDate:{required:!0,dpDate:!0}}}))},selectDeselectBudgetInit:function(){ACC.mycompany.bindToSelectBudget(),ACC.mycompany.bindToDeselectBudget()},bindToSelectBudget:function(){$(document).on("click",".selectBudget",function(){return $.postJSON(this.getAttribute("url"),{},ACC.mycompany.selectionCallback),!1})},bindToDeselectBudget:function(){$(document).on("click",".deselectBudget",function(){var url=this.getAttribute("url");ACC.mycompany.bindConfirmDeselectButton(url),ACC.mycompany.bindCancelDeselectButton(),$.colorbox({inline:!0,height:!1,width:300,href:"#deselect_budget_warning",overlayClose:!1,onComplete:function(){$(this).colorbox.resize()},onClosed:function(){$("#confirm_deselect").off("click")}})})},bindConfirmDeselectButton:function(url){$(document).on("click","#confirm_deselect",function(){$.postJSON(url,{},ACC.mycompany.deselectionCallback),$.colorbox.close()})},bindCancelDeselectButton:function(){$(document).on("click","#cancel_deselect",function(){$.colorbox.close()})},selectionCallback:function(budget){$("#row-"+budget.normalizedCode).addClass("selected"),$("#span-"+budget.normalizedCode).html($("#enableDisableLinksTemplate").tmpl(budget))},deselectionCallback:function(budget){$("#row-"+budget.normalizedCode).removeClass("selected"),$("#span-"+budget.normalizedCode).html($("#enableDisableLinksTemplate").tmpl(budget))},selectDeselectUserInit:function(){ACC.mycompany.bindToSelectUser(),ACC.mycompany.bindToDeselectUser()},bindToSelectUser:function(){$(document).on("click",".selectUser",function(){return $.postJSON(this.getAttribute("url"),{},ACC.mycompany.selectionUserCallback),!1})},bindToDeselectUser:function(){$(document).on("click",".deselectUser",function(){return $.postJSON(this.getAttribute("url"),{},ACC.mycompany.deselectionUserCallback),!1})},selectionUserCallback:function(user){"undefined"!=typeof user.normalizedUid?($("#row-"+user.normalizedUid).addClass("selected"),$("#selection-"+user.normalizedUid).html($("#enableDisableLinksTemplate").tmpl(user)),$("#roles-"+user.normalizedUid).html($("#userRolesTemplate").tmpl(user))):($("#row-"+user.normalizedCode).addClass("selected"),$("#selection-"+user.normalizedCode).html($("#enableDisableLinksTemplate").tmpl(user)),$("#roles-"+user.normalizedCode).html($("#userRolesTemplate").tmpl(user)))},deselectionUserCallback:function(user){"undefined"!=typeof user.normalizedUid?($("#row-"+user.normalizedUid).removeClass("selected"),$("#selection-"+user.normalizedUid).html($("#enableDisableLinksTemplate").tmpl(user)),$("#roles-"+user.normalizedUid).html($("#userRolesTemplate").tmpl(user))):($("#row-"+user.normalizedCode).removeClass("selected"),$("#selection-"+user.normalizedCode).html($("#enableDisableLinksTemplate").tmpl(user)),$("#roles-"+user.normalizedCode).html($("#userRolesTemplate").tmpl(user)))},selectDeselectLinkInit:function(){ACC.mycompany.bindToSelectLink(),ACC.mycompany.bindToDeselectLink()},bindToSelectLink:function(){$(document).on("click",".selectionLink",function(){return $.postJSON(this.getAttribute("url"),{},ACC.mycompany.selectionCallback),!1})},bindToDeselectLink:function(){$(document).on("click",".deselectionLink",function(){return $.postJSON(this.getAttribute("url"),{},ACC.mycompany.deselectionCallback),!1})}},$(document).ready(function(){ACC.mycompany.bindAll()}),ACC.futurelink={bindAll:function(){this.bindFutureStockLink()},bindFutureStockLink:function(){$(document).on("click",".futureStockLink",function(e){e.preventDefault(),$.colorbox({href:$(this).attr("href"),width:440,height:250,onComplete:function(){$.colorbox.resize()}})})}},$(document).ready(function(){ACC.futurelink.bindAll()});var ACC=ACC||{};ACC.search={$selectedProductIdsContainer:$("#js-selected-product-ids"),$productIdsInput:$("#js-product-ids"),$addProductIdsButton:$("#js-add-product-ids"),$enableProductIdsCheckBox:$("#js-enable-product-ids"),$productIdTagBoxTemplate:$("#product-id-tag-box-template"),$removeProductIdButton:$(".js-remove-product-id"),$advSearchButton:$(".adv_search_button"),$skusHidden:$("#skus"),$searchCurrentLabel:$(".searchInput label"),$createOrderFormButton:$("#js-create-order-form-button"),$createOrderFormCheckbox:$(".js-checkbox-sku-id, .js-checkbox-base-product"),$baseProductCheckBox:$(".js-checkbox-base-product"),$skuIDCheckbox:$(".js-checkbox-sku-id"),bindAll:function(){with(ACC.search)bindToAddProductIds($addProductIdsButton),bindToToggleProductIds($enableProductIdsCheckBox),bindToRemoveProductId($removeProductIdButton),bindToAdvSearchButton($advSearchButton),bindToCreateOrderFormButton($createOrderFormButton),bindToBaseProductCheckBox($baseProductCheckBox),bindToSkuIDCheckBox($skuIDCheckbox)},bindToAdvSearchButton:function(advSearchButton){advSearchButton.click(function(event){ACC.search.stripoutInvalidChars(),"checked"===ACC.search.$enableProductIdsCheckBox.attr("checked")&&(""!=ACC.search.$productIdsInput.val()&&ACC.search.$addProductIdsButton.click(),ACC.search.$productIdsInput.val(ACC.search.$skusHidden.val()),ACC.search.$skusHidden.val(""))})},bindToCreateOrderFormButton:function(createOrderFormButton){createOrderFormButton.click(function(event){ACC.search.stripoutInvalidChars(),ACC.search.$productIdsInput.val(ACC.search.$skusHidden.val()),$("#isCreateOrderForm").val(!0);var skusIds=[];ACC.search.$createOrderFormCheckbox.each(function(){this.checked&&skusIds.push(this.value)}),ACC.search.$productIdsInput.val(skusIds.join(",")),ACC.search.$selectedProductIdsContainer.empty(),ACC.search.$skusHidden.val(""),ACC.search.$enableProductIdsCheckBox.attr("checked",!1),ACC.search.$addProductIdsButton.hide(),ACC.search.$advSearchButton.click()})},bindToBaseProductCheckBox:function(baseProductCheckBox){baseProductCheckBox.click(function(event){var baseProduct=this;$(ACC.search.$skuIDCheckbox).each(function(){$(this).attr("base-product-code")&&$(this).attr("base-product-code")===baseProduct.value&&$(this).attr("checked",baseProduct.checked)})})},bindToSkuIDCheckBox:function(skuIDCheckbox){skuIDCheckbox.click(function(event){var skuID=this,baseProduct=$(skuID).attr("base-product-code"),hasChecked=!1;$(ACC.search.$skuIDCheckbox).each(function(){baseProduct===$(this).attr("base-product-code")&&$(this).attr("checked")&&(hasChecked=!0)}),$(".js-checkbox-base-product").each(function(){baseProduct===this.value&&$(this).attr("checked",hasChecked)})})},bindToAddProductIds:function(addProductIdsButton){addProductIdsButton.click(function(event){if("checked"===ACC.search.$enableProductIdsCheckBox.attr("checked")){event.preventDefault(),ACC.search.stripoutInvalidChars();var productIds=ACC.search.$productIdsInput.val().split(","),presentProductIds=ACC.search.$skusHidden;if(void 0!=presentProductIds.val()&&""!==presentProductIds.val())for(var persistentIds=presentProductIds.val().split(","),i=0;i<persistentIds.length;i++)productIds.push(persistentIds[i]);productIds=$.map(productIds,function(productId,index){return $.trim(productId)}),productIds=$.unique(productIds),$.each(productIds,function(index,productId){var $existingProductId=ACC.search.$selectedProductIdsContainer.find("#product-id-"+productId+"-tag");""!==productId&&0===$existingProductId.length&&ACC.search.$productIdTagBoxTemplate.tmpl({productId:productId,index:index}).appendTo(ACC.search.$selectedProductIdsContainer)}),presentProductIds.val(productIds.join(",")),ACC.search.$productIdsInput.val(""),ACC.search.$productIdsInput.focus()}})},bindToToggleProductIds:function(addProductIdsCheckBox){addProductIdsCheckBox.on("change",function(event){var checked="checked"===$(this).attr("checked");if(ACC.search.replaceSearchLabel(checked),checked)ACC.search.$addProductIdsButton.show();else{var joinedProductIds=$.map(ACC.search.$selectedProductIdsContainer.find(".product-id-tag-box span"),function(index){return $(index).text()}).join(", ");""!==joinedProductIds&&ACC.search.$productIdsInput.val(joinedProductIds),ACC.search.$selectedProductIdsContainer.empty(),ACC.search.$skusHidden.val(""),ACC.search.$addProductIdsButton.hide()}})},bindToRemoveProductId:function(removeProductIdButton){removeProductIdButton.live("click",function(event){event.preventDefault();var valueToRemove=$("#".concat($(this).parent().attr("id").concat(" span"))).html();ACC.search.cleanupInvalidCommas(valueToRemove),$(this).parent().remove()})},replaceSearchLabel:function(productIdsChecked){var currentLabel=ACC.search.$searchCurrentLabel.html(),searchByIdsLabel=$("#searchByIdsLabel").val(),searchByKeywordLabel=$("#searchByKeywordLabel").val();currentLabel=productIdsChecked?currentLabel.replace(searchByKeywordLabel,searchByIdsLabel):currentLabel.replace(searchByIdsLabel,searchByKeywordLabel),ACC.search.$searchCurrentLabel.html(currentLabel)},stripoutInvalidChars:function(){ACC.search.$productIdsInput.val(ACC.search.$productIdsInput.val().replace(/[^a-z0-9 ,.\-_]/gi,""))},cleanupInvalidCommas:function(valueToRemove){ACC.search.$skusHidden.val(ACC.search.$skusHidden.val().replace(new RegExp("\\b"+valueToRemove+"\\b","gi"),"")),ACC.search.$skusHidden.val(ACC.search.$skusHidden.val().replace(new RegExp("\\,,\\b","gi"),",")),ACC.search.$skusHidden.val(ACC.search.$skusHidden.val().replace(/(,$)|(^,)/g,""))}},$(document).ready(function(){ACC.search.bindAll();var productIdsChecked="checked"===ACC.search.$enableProductIdsCheckBox.attr("checked");productIdsChecked&&(ACC.search.replaceSearchLabel(productIdsChecked),ACC.search.$addProductIdsButton.show(),ACC.search.$addProductIdsButton.click())}),ACC.checkoutB2B={cartData:"",PaymentType:function(){if($(".summaryPaymentType").length>0){var $element=$(".summaryPaymentType"),config=$element.data();$(".summaryPaymentType input[name='PaymentType']").on("change",function(){$.postJSON(config.setPaymentTypeUrl,{paymentType:$(this).val()},function(data){ACC.checkoutB2B.refresh(data),$(".summarySection").removeClass("complete"),$(".summaryPaymentType").addClass("complete"),$(".summaryCostCenter .constCenterSelect").val("")});for(var globalMessage=document.getElementById("globalMessages");globalMessage.firstChild;)globalMessage.removeChild(globalMessage.firstChild)}),$("#PurchaseOrderNumber").on("blur",function(){$.postJSON(config.setPurchaseOrderNumberUrl,{purchaseOrderNumber:$(this).val()},function(data){ACC.checkoutB2B.refresh(data)})})}},costCenter:function(){if($(".summaryCostCenter").length>0){var config=$(".summaryCostCenter").data();$(".summaryCostCenter .constCenterSelect").on("change",function(){""!=$(this).val()?$.postJSON(config.setCostCenterUrl,{costCenterId:$(this).val()},function(data){ACC.checkoutB2B.refresh(data),$(".summaryCostCenter").addClass("complete")}):$(".summaryCostCenter").removeClass("complete")})}},createUpdatePaymentForm:function(){$(document).on("change","#cardType",ACC.checkoutB2B.displayStartDateIssueNum),$("#differentAddress:checked").length<1&&$("#newBillingAddressFields :input").attr("disabled","disabled"),$(".create_update_payment_form").each(function(){ACC.checkoutB2B.displayStartDateIssueNum();var options={type:"POST",beforeSubmit:function(){},success:function(data){$("#summaryPaymentOverlayEnterNew").html(data),ACC.checkoutB2B.createUpdatePaymentForm(),$("#paymentDetailsForm").hasClass("Success")?(ACC.checkoutB2B.refresh(),parent.$.colorbox.close()):$.colorbox.resize()},error:function(xht,textStatus,ex){alert("Failed to create/update payment details. Error details ["+xht+", "+textStatus+", "+ex+"]")},complete:function(){}};$(this).ajaxForm(options)})},payment:function(){$(document).ready(function(){$("#securityCode").val("")}),$(document).on("focusout",".summaryPayment #SecurityCodePayment",function(e){$("#securityCode").val($(this).val())}),$(document).on("click",".summaryPayment .security_code_what",function(e){$(".security_code_what").bt($(".summaryPayment").data("security-what-text"),{trigger:"click",positions:"bottom",fill:"#efefef",cssStyles:{fontSize:"11px"}})}),$(document).on("click","#summaryOverlayViewSavedPaymentMethods",function(){$("#summaryPaymentOverlay").show(),$("#summaryPaymentOverlayEnterNew").remove(),$.colorbox.resize()}),$(document).on("click","#summaryPaymentOverlay .useCard",function(e){e.preventDefault();var paymentId=$(this).data("payment");$.postJSON(setPaymentDetailsUrl,{paymentId:paymentId},function(data){ACC.checkoutB2B.refresh(data),$.colorbox.close()})}),$(document).on("click","#summaryPaymentOverlay .enterNewPayment",function(){$("#summaryPaymentOverlay").hide(),$("#summaryPaymentOverlay").after($("#summaryPaymentOverlayEnterNew").clone()),ACC.checkoutB2B.createUpdatePaymentForm(),$.colorbox.resize()}),$(document).on("click",".summaryPayment .editButton",function(){$("#summaryPaymentOverlayContainer").html(""),$("#summaryPaymentOverlayContainer").append($("#summaryPaymentOverlayEnterNew").clone()).append($("#summaryPaymentOverlay").clone()),$.colorbox({inline:!0,href:"#summaryPaymentOverlayContainer",height:!1,overlayClose:!1,onComplete:function(){ACC.common.refreshScreenReaderBuffer(),$.colorbox.resize(),ACC.checkoutB2B.createUpdatePaymentForm(),$.ajax({url:$(".summaryPayment").data("getSavedCardsUrl"),type:"POST",cache:!1,dataType:"json",success:function(data){$("#summaryPaymentOverlay").html($("#savedCardsTemplate").tmpl({savedCards:data})).hide()},error:function(xht,textStatus,ex){alert("Failed to get saved cards. Error details ["+xht+", "+textStatus+", "+ex+"]")}})},onClosed:function(){ACC.common.refreshScreenReaderBuffer()}})}),$(document).on("change","#differentAddress",function(){var newAddress=$("#differentAddress").attr("checked");newAddress?$("#newBillingAddressFields :input").removeAttr("disabled"):$("#newBillingAddressFields :input").attr("disabled","disabled")})},deliveryAddress:function(section){$(document).on("click","#summaryDeliveryAddressOverlay #summaryOverlayViewAddressForm",function(){$("#summaryDeliveryAddressForm").show(),$("#summaryDeliveryAddressBook").hide(),$.colorbox.resize()}),$(document).on("click","#summaryDeliveryAddressOverlay #summaryOverlayViewAddressBook",function(){$("#summaryDeliveryAddressBook").show(),$("#summaryDeliveryAddressForm").hide(),$.colorbox.resize()}),$(document).on("click",".summaryDeliveryAddress .editButton",function(){if("ACCOUNT"==ACC.checkoutB2B.cartData.paymentType.code)return void $.postJSON($(".summaryDeliveryAddress").data("get"),function(data){section=".summaryDeliveryAddress",$("#summaryDeliveryAddressBook").html($(section+" .colorboxTemplate").tmpl({addresses:data,editable:!1})),$("#summaryDeliveryAddressBook").show(),$("#summaryDeliveryAddressForm").hide(),$.colorbox({inline:!0,href:"#summaryDeliveryAddressOverlay",height:!1,overlayClose:!1,onComplete:function(){ACC.common.refreshScreenReaderBuffer(),$.colorbox.resize()},onClosed:function(){ACC.common.refreshScreenReaderBuffer()}})});$("#summaryDeliveryAddressBook").hide();var changeFormUrl=$(".summaryDeliveryAddress").data("get-form")+"?createUpdateStatus=1&addressId="+$(this).data("address");$.get(changeFormUrl,function(data){$("#summaryDeliveryAddressForm").remove(),$("#summaryDeliveryAddressOverlay").prepend(data),$.postJSON($(".summaryDeliveryAddress").data("get"),function(data){section=".summaryDeliveryAddress",$("#summaryDeliveryAddressBook").html($(section+" .colorboxTemplate").tmpl({addresses:data,editable:!0}))}),ACC.checkoutB2B.createUpdateAddressForm(),$.colorbox({inline:!0,href:"#summaryDeliveryAddressOverlay",height:!1,overlayClose:!1,onComplete:function(){ACC.common.refreshScreenReaderBuffer(),$.colorbox.resize()},onClosed:function(){ACC.common.refreshScreenReaderBuffer()}})})}),$(document).on("click","#summaryDeliveryAddressOverlay .useAddress",function(e){e.preventDefault();var addressId=$(this).data("address");$.postJSON($(".summaryDeliveryAddress").data("set"),{addressId:addressId},function(data){ACC.checkoutB2B.refresh(data),$.colorbox.close()})}),$(document).on("click","#summaryDeliveryAddressOverlay #addressForm button",function(){var saveAddressChecked=$(this).prop("checked");$("#defaultAddress").prop("disabled",!saveAddressChecked),saveAddressChecked||$("#defaultAddress").prop("checked",!1)}),$(document).on("click","#summaryDeliveryAddressBook .addressEntry .edit",function(e){e.preventDefault();var changeFormUrl=$(".summaryDeliveryAddress").data("get-form")+"?createUpdateStatus=1&addressId="+$(this).data("address");$.get(changeFormUrl,function(data){$("#summaryDeliveryAddressForm").remove(),$("#summaryDeliveryAddressOverlay").prepend(data),$("#summaryDeliveryAddressBook").hide(),$("#summaryDeliveryAddressForm").show(),$.colorbox.resize(),ACC.checkoutB2B.createUpdateAddressForm()})}),$(document).on("click","#summaryDeliveryAddressOverlay button.default",function(e){e.preventDefault();var addressId=$(this).data("address");$.postJSON($(".summaryDeliveryAddress").data("setDefault"),{addressId:addressId},function(data){section=".summaryDeliveryAddress",$("#summaryDeliveryAddressBook").html($(section+" .colorboxTemplate").tmpl({addresses:data}))})})},createUpdateAddressForm:function(){$(".create_update_address_form").each(function(){var options={type:"POST",beforeSubmit:function(){},success:function(data){$("#summaryDeliveryAddressForm").html(data),ACC.checkoutB2B.createUpdateAddressForm(),"Success"==$(".create_update_address_id").data("status")?(ACC.checkoutB2B.refresh(),parent.$.colorbox.close()):$.colorbox.resize()},error:function(xht,textStatus,ex){alert("Failed to update cart. Error details ["+xht+", "+textStatus+", "+ex+"]")},complete:function(){}};$(this).ajaxForm(options)})},deliveryMode:function(){$(document).on("click","#summaryDeliveryModeOverlay .saveButton",function(e){e.preventDefault();var setDeliveryModeUrl=$(".summaryDeliveryMode").data("set"),selectedCode=$("input:radio[name=delivery]:checked").val();selectedCode&&$.postJSON(setDeliveryModeUrl,{modeCode:selectedCode},function(data){ACC.checkoutB2B.refresh(data)}),$.colorbox.close()}),$(document).on("click",".summaryDeliveryMode .editButton",function(){section=".summaryDeliveryMode",$.postJSON($(section).data("get"),function(data){null!=ACC.checkoutB2B.cartData.deliveryMode?$("#summaryDeliveryModeOverlay").html($(section+" .colorboxTemplate").tmpl({data:data,selectedCode:ACC.checkoutB2B.cartData.deliveryMode.code})):$("#summaryDeliveryModeOverlay").html($(section+" .colorboxTemplate").tmpl({data:data,selectedCode:"standard-net"}))}),$.colorbox({inline:!0,href:"#summaryDeliveryModeOverlay",height:!1,overlayClose:!1,onComplete:function(){ACC.common.refreshScreenReaderBuffer(),$.colorbox.resize()},onClosed:function(){ACC.common.refreshScreenReaderBuffer()}})})},displaySection:function(section){var cartData=ACC.checkoutB2B.cartData;$(".summaryPaymentType input[name=PaymentType]:checked").length<1&&$("#PaymentTypeSelection_"+cartData.paymentType.code).attr("checked",!0),"ACCOUNT"==cartData.paymentType.code?($(".summaryCostCenter").show(),$(".summaryPayment").hide(),$("#deliverySectionNum").text("3")):($(".summaryCostCenter").hide(),$(".summaryPayment").show(),$("#deliverySectionNum").text("2"))},refreshSection:function(section){var cartData=ACC.checkoutB2B.cartData;$(section+" .contentSection").html($(section+" .sectionTemplate").tmpl({data:cartData})),ACC.checkoutB2B.displaySection()},refresh:function(data){void 0==data?$.postJSON($("#checkoutContentPanel").data("checkoutCartUrl"),function(data){ACC.checkoutB2B.refreshSections(data)}):ACC.checkoutB2B.refreshSections(data)},refreshSections:function(data){ACC.checkoutB2B.cartData=data,ACC.checkoutB2B.refreshCart(data),ACC.checkoutB2B.refreshSection(".summaryPayment"),ACC.checkoutB2B.refreshSection(".summaryDeliveryAddress"),ACC.checkoutB2B.refreshSection(".summaryDeliveryMode"),null==data.deliveryMode||null==data.deliveryAddress||"CARD"==data.paymentType.code&&null==data.paymentInfo?($(".placeOrderButton").attr("disabled","disabled"),$(".scheduleReplenishmentButton").attr("disabled","disabled"),$(".requestQuoteButton").attr("disabled","disabled")):$("#replenishmentSchedule").is(":visible")?($(".placeOrderButton").attr("disabled","disabled"),$(".requestQuoteButton").attr("disabled","disabled"),$(".scheduleReplenishmentButton").removeAttr("disabled")):$("#negotiateQuote").is(":visible")?($(".placeOrderButton").attr("disabled","disabled"),$(".scheduleReplenishmentButton").attr("disabled","disabled"),$(".requestQuoteButton").removeAttr("disabled")):($(".placeOrderButton").removeAttr("disabled"),$(".scheduleReplenishmentButton").removeAttr("disabled"),"CARD"!=data.paymentType.code&&data.quoteAllowed?$(".requestQuoteButton").removeAttr("disabled"):$(".requestQuoteButton").attr("disabled","disabled"))},refreshCart:function(data){$("#ajaxCart").html($("#cartTotalsTemplate").tmpl({data:data})),$("#ajaxCartItems").html($("#cartItemsTemplate").tmpl({data:data}))},scheduleReplenishment:function(data){$(document).on("click","#placeOrder .scheduleReplenishmentButton",function(e){e.preventDefault(),ACC.checkoutB2B.cartData.quoteAllowed&&$("#placeOrder .requestQuoteButton").attr("disabled","disabled"),$(".placeOrderButton").attr("disabled","disabled"),$("#placeOrder .scheduleReplenishmentButton").addClass("pressed"),$("#replenishmentSchedule").show(),ACC.checkoutB2B.replenishmentInit()}),$(document).on("click","#replenishmentSchedule #placeReplenishmentOrder",function(e){e.preventDefault(),$(".replenishmentOrderClass").val(!0);var securityCode=$("#SecurityCodePayment").val();$(".securityCodeClass").val(securityCode),$("#placeOrderForm1").submit()}),$(document).on("click","#replenishmentSchedule #cancelReplenishmentOrder",function(e){e.preventDefault(),ACC.checkoutB2B.cartData.quoteAllowed&&"CARD"!=ACC.checkoutB2B.cartData.paymentType.code&&$("#placeOrder .requestQuoteButton").removeAttr("disabled"),$(".placeOrderButton").removeAttr("disabled"),$("#placeOrder .scheduleReplenishmentButton").removeClass("pressed"),$("#replenishmentSchedule").hide(),$(".replenishmentOrderClass").val(!1)}),$(document).on("click","#replenishmentSchedule .replenishmentfrequencyD, #replenishmentSchedule .replenishmentfrequencyW, #replenishmentSchedule .replenishmentfrequencyM",function(e){$(".scheduleform").removeClass("selected"),$(this).parents(".scheduleform").addClass("selected")});var placeOrderFormReplenishmentOrder=$("#replenishmentSchedule").data("placeOrderFormReplenishmentOrder");placeOrderFormReplenishmentOrder&&$("#placeOrder .scheduleReplenishmentButton").click()},replenishmentInit:function(){var dateForDatePicker=$("#replenishmentSchedule").data("dateForDatePicker"),placeOrderFormReplenishmentRecurrence=$("#replenishmentSchedule").data("placeOrderFormReplenishmentRecurrence"),placeOrderFormNDays=$("#replenishmentSchedule").data("placeOrderFormNDays"),placeOrderFormNthDayOfMonth=$("#replenishmentSchedule").data("placeOrderFormNthDayOfMonth");$("#replenishmentSchedule").data("placeOrderFormNegotiateQuote"),$("#replenishmentSchedule").data("placeOrderFormReplenishmentOrder");$("input:radio[name='replenishmentRecurrence'][value="+placeOrderFormReplenishmentRecurrence+"]").attr("checked",!0),$("input:radio[name='replenishmentRecurrence'][value="+placeOrderFormReplenishmentRecurrence+"]").parents(".scheduleform").addClass("selected"),$("#nDays option[value="+placeOrderFormNDays+"]").attr("selected","selected"),$("#daysoFWeek option[value="+placeOrderFormNthDayOfMonth+"]").attr("selected","selected"),$("#replenishmentStartDate").datepicker({dateFormat:dateForDatePicker}),$("#replenishmentStartDate").datepicker("option","appendText",dateForDatePicker)},negotiateQuote:function(data){$(document).on("click","#placeOrder .requestQuoteButton",function(e){e.preventDefault(),$("#placeOrder .scheduleReplenishmentButton").attr("disabled","disabled"),$(".placeOrderButton").attr("disabled","disabled"),$("#placeOrder .requestQuoteButton").addClass("pressed"),$("#negotiateQuote").show()}),$(document).on("click","#negotiateQuote #placeNegotiateQuote",function(e){e.preventDefault(),$(".negotiateQuoteClass").val(!0);var securityCode=$("#SecurityCodePayment").val();$(".securityCodeClass").val(securityCode),$("#placeOrderForm1").submit()}),$(document).on("click","#negotiateQuote #cancelNegotiateQuote",function(e){e.preventDefault(),$("#placeOrder .scheduleReplenishmentButton").removeAttr("disabled"),$(".placeOrderButton").removeAttr("disabled"),$("#placeOrder .requestQuoteButton").removeClass("pressed"),$("#negotiateQuote").hide(),$(".negotiateQuoteClass").val(!1)});var placeOrderFormNegotiateQuote=$("#replenishmentSchedule").data("placeOrderFormNegotiateQuote");placeOrderFormNegotiateQuote&&$("#placeOrder .requestQuoteButton").click()},placeOrder:function(data){$(document).on("click",".placeOrderButton",function(e){e.preventDefault();var securityCode=$("#SecurityCodePayment").val();$(".securityCodeClass").val(securityCode),$("#placeOrderForm1").submit()}),$(document).on("click","#Terms1,#Terms2",function(e){$(this).attr("checked")?$("#Terms1,#Terms2").attr("checked","checked"):$("#Terms1,#Terms2").removeAttr("checked")})},displayStartDateIssueNum:function(){var cardType=$("#cardType").val();"maestro"==cardType||"switch"==cardType?$("#startDate, #issueNum").show("fast","linear",function(){parent.$.colorbox.resize()}):$("#startDate, #issueNum").hide("fast","linear",function(){parent.$.colorbox.resize()})},bindTermsAndConditionsLink:function(){$(document).on("click",".termsAndConditionsLink",function(e){e.preventDefault(),$.colorbox({href:getTermsAndConditionsUrl,onComplete:function(){ACC.common.refreshScreenReaderBuffer()},onClosed:function(){ACC.common.refreshScreenReaderBuffer()}})})}},$(document).ready(function(){if($("body").hasClass("page-cartPage")&&$(".checkoutButton").click(function(){var checkoutUrl=$(this).data("checkoutUrl");window.location=checkoutUrl}),$("body").hasClass("page-singleStepCheckoutSummaryPage"))with(ACC.checkoutB2B)refresh(),PaymentType(),costCenter(),payment(),deliveryAddress(),deliveryMode(),scheduleReplenishment(),negotiateQuote(),placeOrder(),bindTermsAndConditionsLink()});
//# sourceMappingURL=app.min.js.map